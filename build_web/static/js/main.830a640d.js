/*! For license information please see main.830a640d.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)l.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:o,type:e,key:u,ref:c,props:a,_owner:i.current}}t.jsx=u,t.jsxs=u},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,h={};function y(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||g}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||g}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var o,a={},l=null,i=null;if(null!=t)for(o in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(l=""+t.key),t)S.call(t,o)&&!C.hasOwnProperty(o)&&(a[o]=t[o]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(o in s=e.defaultProps)void 0===a[o]&&(a[o]=s[o]);return{$$typeof:n,type:e,key:l,ref:i,props:a,_owner:k.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function L(e,t,o,a,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return l=l(s=e),e=""===a?"."+T(s,0):a,x(l)?(o="",null!=e&&(o=e.replace(I,"$&/")+"/"),L(l,t,o,"",function(e){return e})):null!=l&&(N(l)&&(l=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,o+(!l.key||s&&s.key===l.key?"":(""+l.key).replace(I,"$&/")+"/")+e)),t.push(l)),1;if(s=0,a=""===a?".":a+":",x(e))for(var u=0;u<e.length;u++){var c=a+T(i=e[u],u);s+=L(i,t,o,c,l)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(i=e.next()).done;)s+=L(i=i.value,t,o,c=a+T(i,u++),l);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],o=0;return L(e,r,"","",function(e){return t.call(n,e,o++)}),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},_={transition:null},M={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:_,ReactCurrentOwner:k};function P(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=l,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),a=e.key,l=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,i=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)S.call(t,u)&&!C.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==s?s[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){s=Array(u);for(var c=0;c<u;c++)s[c]=arguments[c+2];o.children=s}return{$$typeof:n,type:e.type,key:a,ref:l,props:o,_owner:i}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.transition;_.transition={};try{e()}finally{_.transition=t}},t.unstable_act=P,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<a(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,l=o>>>1;r<l;){var i=2*(r+1)-1,s=e[i],u=i+1,c=e[u];if(0>a(s,n))u<o&&0>a(c,s)?(e[r]=c,e[u]=n,r=u):(e[r]=s,e[i]=n,r=i);else{if(!(u<o&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,s=i.now();t.unstable_now=function(){return i.now()-s}}var u=[],c=[],d=1,f=null,p=3,g=!1,m=!1,h=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)o(c);else{if(!(t.startTime<=e))break;o(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function x(e){if(h=!1,w(e),!m)if(null!==r(u))m=!0,_(S);else{var t=r(c);null!==t&&M(x,t.startTime-e)}}function S(e,n){m=!1,h&&(h=!1,v(N),N=-1),g=!0;var a=p;try{for(w(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!L());){var l=f.callback;if("function"===typeof l){f.callback=null,p=f.priorityLevel;var i=l(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?f.callback=i:f===r(u)&&o(u),w(n)}else o(u);f=r(u)}if(null!==f)var s=!0;else{var d=r(c);null!==d&&M(x,d.startTime-n),s=!1}return s}finally{f=null,p=a,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,C=!1,E=null,N=-1,I=5,T=-1;function L(){return!(t.unstable_now()-T<I)}function A(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?k():(C=!1,E=null)}}else C=!1}if("function"===typeof b)k=function(){b(A)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,O=j.port2;j.port1.onmessage=A,k=function(){O.postMessage(null)}}else k=function(){y(A,0)};function _(e){E=e,C||(C=!0,k())}function M(e,n){N=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,_(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,a){var l=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?l+a:l:a=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:a,expirationTime:i=a+i,sortIndex:-1},a>l?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(h?(v(N),N=-1):h=!0,M(x,a-l))):(e.sortIndex=i,n(u,e),m||g||(m=!0,_(S))),e},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),o=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,i={};function s(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(i[e]=t,e=0;e<t.length;e++)l.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function m(e,t,n,r,o,a,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var h={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){h[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];h[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){h[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){h[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){h[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){h[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){h[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){h[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){h[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=h.hasOwnProperty(t)?h[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(g,e)||!d.call(p,e)&&(f.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);h[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);h[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);h[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){h[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),h.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){h[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),I=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var _=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var z,R=Object.assign;function D(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var o=u.stack.split("\n"),a=r.stack.split("\n"),l=o.length-1,i=a.length-1;1<=l&&0<=i&&o[l]!==a[i];)i--;for(;1<=l&&0<=i;l--,i--)if(o[l]!==a[i]){if(1!==l||1!==i)do{if(l--,0>--i||o[l]!==a[i]){var s="\n"+o[l].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=l&&0<=i);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function B(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case E:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function he(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach(function(e){ge.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ye=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ce=null;function Ee(e){if(e=wo(e)){if("function"!==typeof Se)throw Error(a(280));var t=e.stateNode;t&&(t=So(t),Se(e.stateNode,e.type,t))}}function Ne(e){ke?Ce?Ce.push(e):Ce=[e]:ke=e}function Ie(){if(ke){var e=ke,t=Ce;if(Ce=ke=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Le(){}var Ae=!1;function je(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Te(e,t,n)}finally{Ae=!1,(null!==ke||null!==Ce)&&(Le(),Ie())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=So(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var _e=!1;if(c)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){_e=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ce){_e=!1}function Pe(e,t,n,r,o,a,l,i,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ze=!1,Re=null,De=!1,Fe=null,Ue={onError:function(e){ze=!0,Re=e}};function Be(e,t,n,r,o,a,l,i,s){ze=!1,Re=null,Pe.apply(Ue,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(He(e)!==e)throw Error(a(188))}function $e(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var l=o.alternate;if(null===l){if(null!==(r=o.return)){n=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return We(o),e;if(l===r)return We(o),t;l=l.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=l;else{for(var i=!1,s=o.child;s;){if(s===n){i=!0,n=o,r=l;break}if(s===r){i=!0,r=o,n=l;break}s=s.sibling}if(!i){for(s=l.child;s;){if(s===n){i=!0,n=l,r=o;break}if(s===r){i=!0,r=l,n=o;break}s=s.sibling}if(!i)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Qe=o.unstable_scheduleCallback,Ye=o.unstable_cancelCallback,Ke=o.unstable_shouldYield,Ge=o.unstable_requestPaint,Xe=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,at=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/st|0)|0},it=Math.log,st=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,l=268435455&n;if(0!==l){var i=l&~o;0!==i?r=dt(i):0!==(a&=l)&&(r=dt(a))}else 0!==(l=n&~o)?r=dt(l):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(a=t&-t)||16===o&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-lt(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function ht(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-lt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,kt,Ct,Et,Nt=!1,It=[],Tt=null,Lt=null,At=null,jt=new Map,Ot=new Map,_t=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function zt(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},null!==t&&(null!==(t=wo(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Rt(e){var t=bo(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Et(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wo(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){Dt(e)&&n.delete(t)}function Ut(){Nt=!1,null!==Tt&&Dt(Tt)&&(Tt=null),null!==Lt&&Dt(Lt)&&(Lt=null),null!==At&&Dt(At)&&(At=null),jt.forEach(Ft),Ot.forEach(Ft)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ut)))}function Ht(e){function t(t){return Bt(t,e)}if(0<It.length){Bt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==Lt&&Bt(Lt,e),null!==At&&Bt(At,e),jt.forEach(t),Ot.forEach(t),n=0;n<_t.length;n++)(r=_t[n]).blockedOn===e&&(r.blockedOn=null);for(;0<_t.length&&null===(n=_t[0]).blockedOn;)Rt(n),null===n.blockedOn&&_t.shift()}var Vt=w.ReactCurrentBatchConfig,Wt=!0;function $t(e,t,n,r){var o=bt,a=Vt.transition;Vt.transition=null;try{bt=1,Qt(e,t,n,r)}finally{bt=o,Vt.transition=a}}function qt(e,t,n,r){var o=bt,a=Vt.transition;Vt.transition=null;try{bt=4,Qt(e,t,n,r)}finally{bt=o,Vt.transition=a}}function Qt(e,t,n,r){if(Wt){var o=Kt(e,t,n,r);if(null===o)Wr(e,t,r,Yt,n),Pt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Tt=zt(Tt,e,t,n,r,o),!0;case"dragenter":return Lt=zt(Lt,e,t,n,r,o),!0;case"mouseover":return At=zt(At,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return jt.set(a,zt(jt.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Ot.set(a,zt(Ot.get(a)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==o;){var a=wo(o);if(null!==a&&xt(a),null===(a=Kt(e,t,n,r))&&Wr(e,t,r,Yt,n),a===o)break;o=a}null!==o&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Yt=null;function Kt(e,t,n,r){if(Yt=null,null!==(e=bo(e=xe(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,o="value"in Xt?Xt.value:Xt.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===o[a-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,a){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(o):o[l]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,ln,sn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),dn=R({},un,{view:0,detail:0}),fn=on(dn),pn=R({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(an=e.screenX-sn.screenX,ln=e.screenY-sn.screenY):ln=an=0,sn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=on(pn),mn=on(R({},pn,{dataTransfer:0})),hn=on(R({},dn,{relatedTarget:0})),yn=on(R({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=R({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),wn=on(R({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function En(){return Cn}var Nn=R({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=on(Nn),Tn=on(R({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ln=on(R({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=on(R({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=R({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(jn),_n=[9,13,27,32],Mn=c&&"CompositionEvent"in window,Pn=null;c&&"documentMode"in document&&(Pn=document.documentMode);var zn=c&&"TextEvent"in window&&!Pn,Rn=c&&(!Mn||Pn&&8<Pn&&11>=Pn),Dn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==_n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function $n(e,t,n,r){Ne(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Qn=null;function Yn(e){Dr(e,0)}function Kn(e){if(Q(xo(e)))return e}function Gn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Qn=qn=null)}function nr(e){if("value"===e.propertyName&&Kn(Qn)){var t=[];$n(t,Qn,e,xe(e)),je(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Qn)}function ar(e,t){if("click"===e)return Kn(t)}function lr(e,t){if("input"===e||"change"===e)return Kn(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!ir(e[o],t[o]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function gr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=void 0===r.end?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=cr(n,a);var l=cr(n,r);o&&l&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,hr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==hr||hr!==Y(r)||("selectionStart"in(r=hr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&sr(vr,r)||(vr=r,0<(r=qr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},Cr={};function Er(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return kr[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Nr=Er("animationend"),Ir=Er("animationiteration"),Tr=Er("animationstart"),Lr=Er("transitionend"),Ar=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),s(t,[e])}for(var _r=0;_r<jr.length;_r++){var Mr=jr[_r];Or(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Or(Nr,"onAnimationEnd"),Or(Ir,"onAnimationIteration"),Or(Tr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Lr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,l,i,s,u){if(Be.apply(this,arguments),ze){if(!ze)throw Error(a(198));var c=Re;ze=!1,Re=null,De||(De=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var l=r.length-1;0<=l;l--){var i=r[l],s=i.instance,u=i.currentTarget;if(i=i.listener,s!==a&&o.isPropagationStopped())break e;Rr(o,i,u),a=s}else for(l=0;l<r.length;l++){if(s=(i=r[l]).instance,u=i.currentTarget,i=i.listener,s!==a&&o.isPropagationStopped())break e;Rr(o,i,u),a=s}}}if(De)throw e=Fe,De=!1,Fe=null,e}function Fr(e,t){var n=t[ho];void 0===n&&(n=t[ho]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Br]){e[Br]=!0,l.forEach(function(t){"selectionchange"!==t&&(zr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Gt(t)){case 1:var o=$t;break;case 4:o=qt;break;default:o=Qt}n=o.bind(null,t,n,e),o=void 0,!_e||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,o){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var i=r.stateNode.containerInfo;if(i===o||8===i.nodeType&&i.parentNode===o)break;if(4===l)for(l=r.return;null!==l;){var s=l.tag;if((3===s||4===s)&&((s=l.stateNode.containerInfo)===o||8===s.nodeType&&s.parentNode===o))return;l=l.return}for(;null!==i;){if(null===(l=bo(i)))return;if(5===(s=l.tag)||6===s){r=a=l;continue e}i=i.parentNode}}r=r.return}je(function(){var r=a,o=xe(n),l=[];e:{var i=Ar.get(e);if(void 0!==i){var s=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=In;break;case"focusin":u="focus",s=hn;break;case"focusout":u="blur",s=hn;break;case"beforeblur":case"afterblur":s=hn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Ln;break;case Nr:case Ir:case Tr:s=yn;break;case Lr:s=An;break;case"scroll":s=fn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==i?i+"Capture":null:i;c=[];for(var p,g=r;null!==g;){var m=(p=g).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&(null!=(m=Oe(g,f))&&c.push($r(g,m,p)))),d)break;g=g.return}0<c.length&&(i=new s(i,u,null,n,o),l.push({event:i,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!bo(u)&&!u[mo])&&(s||i)&&(i=o.window===o?o:(i=o.ownerDocument)?i.defaultView||i.parentWindow:window,s?(s=r,null!==(u=(u=n.relatedTarget||n.toElement)?bo(u):null)&&(u!==(d=He(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(s=null,u=r),s!==u)){if(c=gn,m="onMouseLeave",f="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,m="onPointerLeave",f="onPointerEnter",g="pointer"),d=null==s?i:xo(s),p=null==u?i:xo(u),(i=new c(m,g+"leave",s,n,o)).target=d,i.relatedTarget=p,m=null,bo(o)===r&&((c=new c(f,g+"enter",u,n,o)).target=p,c.relatedTarget=d,m=c),d=m,s&&u)e:{for(f=u,g=0,p=c=s;p;p=Qr(p))g++;for(p=0,m=f;m;m=Qr(m))p++;for(;0<g-p;)c=Qr(c),g--;for(;0<p-g;)f=Qr(f),p--;for(;g--;){if(c===f||null!==f&&c===f.alternate)break e;c=Qr(c),f=Qr(f)}c=null}else c=null;null!==s&&Yr(l,i,s,c,!1),null!==u&&null!==d&&Yr(l,d,u,c,!0)}if("select"===(s=(i=r?xo(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===s&&"file"===i.type)var h=Gn;else if(Wn(i))if(Xn)h=lr;else{h=or;var y=rr}else(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(h=ar);switch(h&&(h=h(e,r))?$n(l,h,n,o):(y&&y(e,i,r),"focusout"===e&&(y=i._wrapperState)&&y.controlled&&"number"===i.type&&ee(i,"number",i.value)),y=r?xo(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(hr=y,yr=r,vr=null);break;case"focusout":vr=yr=hr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(l,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(l,n,o)}var v;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(v=en()):(Jt="value"in(Xt=o)?Xt.value:Xt.textContent,Hn=!0)),0<(y=qr(r,b)).length&&(b=new wn(b,e,null,n,o),l.push({event:b,listeners:y}),v?b.data=v:null!==(v=Bn(n))&&(b.data=v))),(v=zn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Dn);case"textInput":return(e=t.data)===Dn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Mn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(o=new wn("onBeforeInput","beforeinput",null,n,o),l.push({event:o,listeners:r}),o.data=v))}Dr(l,t)})}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=Oe(e,n))&&r.unshift($r(e,a,o)),null!=(a=Oe(e,t))&&r.push($r(e,a,o))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,o){for(var a=t._reactName,l=[];null!==n&&n!==r;){var i=n,s=i.alternate,u=i.stateNode;if(null!==s&&s===r)break;5===i.tag&&null!==u&&(i=u,o?null!=(s=Oe(n,a))&&l.unshift($r(n,s,i)):o||null!=(s=Oe(n,a))&&l.push($r(n,s,i))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Kr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Gr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,ao="function"===typeof Promise?Promise:void 0,lo="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ao?function(e){return ao.resolve(null).then(e).catch(io)}:ro;function io(e){setTimeout(function(){throw e})}function so(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Ht(t)}function uo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function co(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),po="__reactFiber$"+fo,go="__reactProps$"+fo,mo="__reactContainer$"+fo,ho="__reactEvents$"+fo,yo="__reactListeners$"+fo,vo="__reactHandles$"+fo;function bo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=co(e);null!==e;){if(n=e[po])return n;e=co(e)}return t}n=(e=n).parentNode}return null}function wo(e){return!(e=e[po]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function So(e){return e[go]||null}var ko=[],Co=-1;function Eo(e){return{current:e}}function No(e){0>Co||(e.current=ko[Co],ko[Co]=null,Co--)}function Io(e,t){Co++,ko[Co]=e.current,e.current=t}var To={},Lo=Eo(To),Ao=Eo(!1),jo=To;function Oo(e,t){var n=e.type.contextTypes;if(!n)return To;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function _o(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mo(){No(Ao),No(Lo)}function Po(e,t,n){if(Lo.current!==To)throw Error(a(168));Io(Lo,t),Io(Ao,n)}function zo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,V(e)||"Unknown",o));return R({},n,r)}function Ro(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||To,jo=Lo.current,Io(Lo,e),Io(Ao,Ao.current),!0}function Do(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=zo(e,t,jo),r.__reactInternalMemoizedMergedChildContext=e,No(Ao),No(Lo),Io(Lo,e)):No(Ao),Io(Ao,n)}var Fo=null,Uo=!1,Bo=!1;function Ho(e){null===Fo?Fo=[e]:Fo.push(e)}function Vo(){if(!Bo&&null!==Fo){Bo=!0;var e=0,t=bt;try{var n=Fo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fo=null,Uo=!1}catch(o){throw null!==Fo&&(Fo=Fo.slice(e+1)),Qe(Ze,Vo),o}finally{bt=t,Bo=!1}}return null}var Wo=[],$o=0,qo=null,Qo=0,Yo=[],Ko=0,Go=null,Xo=1,Jo="";function Zo(e,t){Wo[$o++]=Qo,Wo[$o++]=qo,qo=e,Qo=t}function ea(e,t,n){Yo[Ko++]=Xo,Yo[Ko++]=Jo,Yo[Ko++]=Go,Go=e;var r=Xo;e=Jo;var o=32-lt(r)-1;r&=~(1<<o),n+=1;var a=32-lt(t)+o;if(30<a){var l=o-o%5;a=(r&(1<<l)-1).toString(32),r>>=l,o-=l,Xo=1<<32-lt(t)+o|n<<o|r,Jo=a+e}else Xo=1<<a|n<<o|r,Jo=e}function ta(e){null!==e.return&&(Zo(e,1),ea(e,1,0))}function na(e){for(;e===qo;)qo=Wo[--$o],Wo[$o]=null,Qo=Wo[--$o],Wo[$o]=null;for(;e===Go;)Go=Yo[--Ko],Yo[Ko]=null,Jo=Yo[--Ko],Yo[Ko]=null,Xo=Yo[--Ko],Yo[Ko]=null}var ra=null,oa=null,aa=!1,la=null;function ia(e,t){var n=ju(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ra=e,oa=uo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ra=e,oa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Go?{id:Xo,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=ju(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ra=e,oa=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(aa){var t=oa;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=uo(n.nextSibling);var r=ra;t&&sa(e,t)?ia(r,n):(e.flags=-4097&e.flags|2,aa=!1,ra=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,aa=!1,ra=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function fa(e){if(e!==ra)return!1;if(!aa)return da(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oa)){if(ua(e))throw pa(),Error(a(418));for(;t;)ia(e,t),t=uo(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oa=uo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oa=null}}else oa=ra?uo(e.stateNode.nextSibling):null;return!0}function pa(){for(var e=oa;e;)e=uo(e.nextSibling)}function ga(){oa=ra=null,aa=!1}function ma(e){null===la?la=[e]:la.push(e)}var ha=w.ReactCurrentBatchConfig;function ya(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=r,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=o.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ba(e){return(0,e._init)(e._payload)}function wa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=_u(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ru(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&ba(a)===t.type)?((r=o(t,n.props)).ref=ya(e,t,n),r.return=e,r):((r=Mu(n.type,n.key,n.props,null,e.mode,r)).ref=ya(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Du(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Pu(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ru(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Mu(t.type,t.key,t.props,null,e.mode,n)).ref=ya(e,null,t),n.return=e,n;case S:return(t=Du(t,e.mode,n)).return=e,t;case O:return f(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Pu(t,e.mode,n,null)).return=e,t;va(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===o?u(e,t,n,r):null;case S:return n.key===o?c(e,t,n,r):null;case O:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||P(n))return null!==o?null:d(e,t,n,r,null);va(e,n)}return null}function g(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case O:return g(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||P(r))return d(t,e=e.get(n)||null,r,o,null);va(t,r)}return null}function m(o,a,i,s){for(var u=null,c=null,d=a,m=a=0,h=null;null!==d&&m<i.length;m++){d.index>m?(h=d,d=null):h=d.sibling;var y=p(o,d,i[m],s);if(null===y){null===d&&(d=h);break}e&&d&&null===y.alternate&&t(o,d),a=l(y,a,m),null===c?u=y:c.sibling=y,c=y,d=h}if(m===i.length)return n(o,d),aa&&Zo(o,m),u;if(null===d){for(;m<i.length;m++)null!==(d=f(o,i[m],s))&&(a=l(d,a,m),null===c?u=d:c.sibling=d,c=d);return aa&&Zo(o,m),u}for(d=r(o,d);m<i.length;m++)null!==(h=g(d,o,m,i[m],s))&&(e&&null!==h.alternate&&d.delete(null===h.key?m:h.key),a=l(h,a,m),null===c?u=h:c.sibling=h,c=h);return e&&d.forEach(function(e){return t(o,e)}),aa&&Zo(o,m),u}function h(o,i,s,u){var c=P(s);if("function"!==typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var d=c=null,m=i,h=i=0,y=null,v=s.next();null!==m&&!v.done;h++,v=s.next()){m.index>h?(y=m,m=null):y=m.sibling;var b=p(o,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(o,m),i=l(b,i,h),null===d?c=b:d.sibling=b,d=b,m=y}if(v.done)return n(o,m),aa&&Zo(o,h),c;if(null===m){for(;!v.done;h++,v=s.next())null!==(v=f(o,v.value,u))&&(i=l(v,i,h),null===d?c=v:d.sibling=v,d=v);return aa&&Zo(o,h),c}for(m=r(o,m);!v.done;h++,v=s.next())null!==(v=g(m,o,h,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?h:v.key),i=l(v,i,h),null===d?c=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(o,e)}),aa&&Zo(o,h),c}return function e(r,a,l,s){if("object"===typeof l&&null!==l&&l.type===k&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case x:e:{for(var u=l.key,c=a;null!==c;){if(c.key===u){if((u=l.type)===k){if(7===c.tag){n(r,c.sibling),(a=o(c,l.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===O&&ba(u)===c.type){n(r,c.sibling),(a=o(c,l.props)).ref=ya(r,c,l),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}l.type===k?((a=Pu(l.props.children,r.mode,s,l.key)).return=r,r=a):((s=Mu(l.type,l.key,l.props,null,r.mode,s)).ref=ya(r,a,l),s.return=r,r=s)}return i(r);case S:e:{for(c=l.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===l.containerInfo&&a.stateNode.implementation===l.implementation){n(r,a.sibling),(a=o(a,l.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Du(l,r.mode,s)).return=r,r=a}return i(r);case O:return e(r,a,(c=l._init)(l._payload),s)}if(te(l))return m(r,a,l,s);if(P(l))return h(r,a,l,s);va(r,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==a&&6===a.tag?(n(r,a.sibling),(a=o(a,l)).return=r,r=a):(n(r,a),(a=Ru(l,r.mode,s)).return=r,r=a),i(r)):n(r,a)}}var xa=wa(!0),Sa=wa(!1),ka=Eo(null),Ca=null,Ea=null,Na=null;function Ia(){Na=Ea=Ca=null}function Ta(e){var t=ka.current;No(ka),e._currentValue=t}function La(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Aa(e,t){Ca=e,Na=Ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bi=!0),e.firstContext=null)}function ja(e){var t=e._currentValue;if(Na!==e)if(e={context:e,memoizedValue:t,next:null},null===Ea){if(null===Ca)throw Error(a(308));Ea=e,Ca.dependencies={lanes:0,firstContext:e}}else Ea=Ea.next=e;return t}var Oa=null;function _a(e){null===Oa?Oa=[e]:Oa.push(e)}function Ma(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,_a(t)):(n.next=o.next,o.next=n),t.interleaved=n,Pa(e,r)}function Pa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var za=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ts)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Pa(e,n)}return null===(o=r.interleaved)?(t.next=t,_a(r)):(t.next=o.next,o.next=t),r.interleaved=t,Pa(e,n)}function Ba(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?o=a=l:a=a.next=l,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Va(e,t,n,r){var o=e.updateQueue;za=!1;var a=o.firstBaseUpdate,l=o.lastBaseUpdate,i=o.shared.pending;if(null!==i){o.shared.pending=null;var s=i,u=s.next;s.next=null,null===l?a=u:l.next=u,l=s;var c=e.alternate;null!==c&&((i=(c=c.updateQueue).lastBaseUpdate)!==l&&(null===i?c.firstBaseUpdate=u:i.next=u,c.lastBaseUpdate=s))}if(null!==a){var d=o.baseState;for(l=0,c=u=s=null,i=a;;){var f=i.lane,p=i.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var g=e,m=i;switch(f=t,p=n,m.tag){case 1:if("function"===typeof(g=m.payload)){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(f="function"===typeof(g=m.payload)?g.call(p,d,f):g)||void 0===f)break e;d=R({},d,f);break e;case 2:za=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(f=o.effects)?o.effects=[i]:f.push(i))}else p={eventTime:p,lane:f,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===c?(u=c=p,s=d):c=c.next=p,l|=f;if(null===(i=i.next)){if(null===(i=o.shared.pending))break;i=(f=i).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}if(null===c&&(s=d),o.baseState=s,o.firstBaseUpdate=u,o.lastBaseUpdate=c,null!==(t=o.shared.interleaved)){o=t;do{l|=o.lane,o=o.next}while(o!==t)}else null===a&&(o.shared.lanes=0);zs|=l,e.lanes=l,e.memoizedState=d}}function Wa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(a(191,o));o.call(r)}}}var $a={},qa=Eo($a),Qa=Eo($a),Ya=Eo($a);function Ka(e){if(e===$a)throw Error(a(174));return e}function Ga(e,t){switch(Io(Ya,t),Io(Qa,e),Io(qa,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}No(qa),Io(qa,t)}function Xa(){No(qa),No(Qa),No(Ya)}function Ja(e){Ka(Ya.current);var t=Ka(qa.current),n=se(t,e.type);t!==n&&(Io(Qa,e),Io(qa,n))}function Za(e){Qa.current===e&&(No(qa),No(Qa))}var el=Eo(0);function tl(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nl=[];function rl(){for(var e=0;e<nl.length;e++)nl[e]._workInProgressVersionPrimary=null;nl.length=0}var ol=w.ReactCurrentDispatcher,al=w.ReactCurrentBatchConfig,ll=0,il=null,sl=null,ul=null,cl=!1,dl=!1,fl=0,pl=0;function gl(){throw Error(a(321))}function ml(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function hl(e,t,n,r,o,l){if(ll=l,il=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ol.current=null===e||null===e.memoizedState?Zl:ei,e=n(r,o),dl){l=0;do{if(dl=!1,fl=0,25<=l)throw Error(a(301));l+=1,ul=sl=null,t.updateQueue=null,ol.current=ti,e=n(r,o)}while(dl)}if(ol.current=Jl,t=null!==sl&&null!==sl.next,ll=0,ul=sl=il=null,cl=!1,t)throw Error(a(300));return e}function yl(){var e=0!==fl;return fl=0,e}function vl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ul?il.memoizedState=ul=e:ul=ul.next=e,ul}function bl(){if(null===sl){var e=il.alternate;e=null!==e?e.memoizedState:null}else e=sl.next;var t=null===ul?il.memoizedState:ul.next;if(null!==t)ul=t,sl=e;else{if(null===e)throw Error(a(310));e={memoizedState:(sl=e).memoizedState,baseState:sl.baseState,baseQueue:sl.baseQueue,queue:sl.queue,next:null},null===ul?il.memoizedState=ul=e:ul=ul.next=e}return ul}function wl(e,t){return"function"===typeof t?t(e):t}function xl(e){var t=bl(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=sl,o=r.baseQueue,l=n.pending;if(null!==l){if(null!==o){var i=o.next;o.next=l.next,l.next=i}r.baseQueue=o=l,n.pending=null}if(null!==o){l=o.next,r=r.baseState;var s=i=null,u=null,c=l;do{var d=c.lane;if((ll&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(s=u=f,i=r):u=u.next=f,il.lanes|=d,zs|=d}c=c.next}while(null!==c&&c!==l);null===u?i=r:u.next=s,ir(r,t.memoizedState)||(bi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{l=o.lane,il.lanes|=l,zs|=l,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sl(e){var t=bl(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,l=t.memoizedState;if(null!==o){n.pending=null;var i=o=o.next;do{l=e(l,i.action),i=i.next}while(i!==o);ir(l,t.memoizedState)||(bi=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function kl(){}function Cl(e,t){var n=il,r=bl(),o=t(),l=!ir(r.memoizedState,o);if(l&&(r.memoizedState=o,bi=!0),r=r.queue,zl(Il.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||null!==ul&&1&ul.memoizedState.tag){if(n.flags|=2048,jl(9,Nl.bind(null,n,r,o,t),void 0,null),null===Ls)throw Error(a(349));0!==(30&ll)||El(n,t,o)}return o}function El(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=il.updateQueue)?(t={lastEffect:null,stores:null},il.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Nl(e,t,n,r){t.value=n,t.getSnapshot=r,Tl(t)&&Ll(e)}function Il(e,t,n){return n(function(){Tl(t)&&Ll(e)})}function Tl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}function Ll(e){var t=Pa(e,1);null!==t&&nu(t,e,1,-1)}function Al(e){var t=vl();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:e},t.queue=e,e=e.dispatch=Yl.bind(null,il,e),[t.memoizedState,e]}function jl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=il.updateQueue)?(t={lastEffect:null,stores:null},il.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ol(){return bl().memoizedState}function _l(e,t,n,r){var o=vl();il.flags|=e,o.memoizedState=jl(1|t,n,void 0,void 0===r?null:r)}function Ml(e,t,n,r){var o=bl();r=void 0===r?null:r;var a=void 0;if(null!==sl){var l=sl.memoizedState;if(a=l.destroy,null!==r&&ml(r,l.deps))return void(o.memoizedState=jl(t,n,a,r))}il.flags|=e,o.memoizedState=jl(1|t,n,a,r)}function Pl(e,t){return _l(8390656,8,e,t)}function zl(e,t){return Ml(2048,8,e,t)}function Rl(e,t){return Ml(4,2,e,t)}function Dl(e,t){return Ml(4,4,e,t)}function Fl(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ul(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ml(4,4,Fl.bind(null,t,e),n)}function Bl(){}function Hl(e,t){var n=bl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ml(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vl(e,t){var n=bl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ml(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wl(e,t,n){return 0===(21&ll)?(e.baseState&&(e.baseState=!1,bi=!0),e.memoizedState=n):(ir(n,t)||(n=mt(),il.lanes|=n,zs|=n,e.baseState=!0),t)}function $l(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=al.transition;al.transition={};try{e(!1),t()}finally{bt=n,al.transition=r}}function ql(){return bl().memoizedState}function Ql(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Kl(e))Gl(t,n);else if(null!==(n=Ma(e,t,n,r))){nu(n,e,r,eu()),Xl(n,t,r)}}function Yl(e,t,n){var r=tu(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kl(e))Gl(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=a(l,n);if(o.hasEagerState=!0,o.eagerState=i,ir(i,l)){var s=t.interleaved;return null===s?(o.next=o,_a(t)):(o.next=s.next,s.next=o),void(t.interleaved=o)}}catch(u){}null!==(n=Ma(e,t,o,r))&&(nu(n,e,r,o=eu()),Xl(n,t,r))}}function Kl(e){var t=e.alternate;return e===il||null!==t&&t===il}function Gl(e,t){dl=cl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xl(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Jl={readContext:ja,useCallback:gl,useContext:gl,useEffect:gl,useImperativeHandle:gl,useInsertionEffect:gl,useLayoutEffect:gl,useMemo:gl,useReducer:gl,useRef:gl,useState:gl,useDebugValue:gl,useDeferredValue:gl,useTransition:gl,useMutableSource:gl,useSyncExternalStore:gl,useId:gl,unstable_isNewReconciler:!1},Zl={readContext:ja,useCallback:function(e,t){return vl().memoizedState=[e,void 0===t?null:t],e},useContext:ja,useEffect:Pl,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_l(4194308,4,Fl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _l(4194308,4,e,t)},useInsertionEffect:function(e,t){return _l(4,2,e,t)},useMemo:function(e,t){var n=vl();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vl();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ql.bind(null,il,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vl().memoizedState=e},useState:Al,useDebugValue:Bl,useDeferredValue:function(e){return vl().memoizedState=e},useTransition:function(){var e=Al(!1),t=e[0];return e=$l.bind(null,e[1]),vl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=il,o=vl();if(aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ls)throw Error(a(349));0!==(30&ll)||El(r,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,Pl(Il.bind(null,r,l,e),[e]),r.flags|=2048,jl(9,Nl.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=vl(),t=Ls.identifierPrefix;if(aa){var n=Jo;t=":"+t+"R"+(n=(Xo&~(1<<32-lt(Xo)-1)).toString(32)+n),0<(n=fl++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:ja,useCallback:Hl,useContext:ja,useEffect:zl,useImperativeHandle:Ul,useInsertionEffect:Rl,useLayoutEffect:Dl,useMemo:Vl,useReducer:xl,useRef:Ol,useState:function(){return xl(wl)},useDebugValue:Bl,useDeferredValue:function(e){return Wl(bl(),sl.memoizedState,e)},useTransition:function(){return[xl(wl)[0],bl().memoizedState]},useMutableSource:kl,useSyncExternalStore:Cl,useId:ql,unstable_isNewReconciler:!1},ti={readContext:ja,useCallback:Hl,useContext:ja,useEffect:zl,useImperativeHandle:Ul,useInsertionEffect:Rl,useLayoutEffect:Dl,useMemo:Vl,useReducer:Sl,useRef:Ol,useState:function(){return Sl(wl)},useDebugValue:Bl,useDeferredValue:function(e){var t=bl();return null===sl?t.memoizedState=e:Wl(t,sl.memoizedState,e)},useTransition:function(){return[Sl(wl)[0],bl().memoizedState]},useMutableSource:kl,useSyncExternalStore:Cl,useId:ql,unstable_isNewReconciler:!1};function ni(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ri(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oi={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),o=tu(e),a=Fa(r,o);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ua(e,a,o))&&(nu(t,e,o,r),Ba(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),o=tu(e),a=Fa(r,o);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ua(e,a,o))&&(nu(t,e,o,r),Ba(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),o=Fa(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Ua(e,o,r))&&(nu(t,e,r,n),Ba(t,e,r))}};function ai(e,t,n,r,o,a,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,l):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(o,a))}function li(e,t,n){var r=!1,o=To,a=t.contextType;return"object"===typeof a&&null!==a?a=ja(a):(o=_o(t)?jo:Lo.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oo(e,o):To),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function ii(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oi.enqueueReplaceState(t,t.state,null)}function si(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?o.context=ja(a):(a=_o(t)?jo:Lo.current,o.context=Oo(e,a)),o.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ri(e,t,a,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&oi.enqueueReplaceState(o,o.state,null),Va(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ui(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var o=n}catch(a){o="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:o,digest:null}}function ci(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fi="function"===typeof WeakMap?WeakMap:Map;function pi(e,t,n){(n=Fa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,$s=r),di(0,t)},n}function gi(e,t,n){(n=Fa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){di(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){di(0,t),"function"!==typeof r&&(null===qs?qs=new Set([this]):qs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fi;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function hi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yi(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fa(-1,1)).tag=2,Ua(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var vi=w.ReactCurrentOwner,bi=!1;function wi(e,t,n,r){t.child=null===e?Sa(t,null,n,r):xa(t,e.child,n,r)}function xi(e,t,n,r,o){n=n.render;var a=t.ref;return Aa(t,o),r=hl(e,t,n,r,a,o),n=yl(),null===e||bi?(aa&&n&&ta(t),t.flags|=1,wi(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wi(e,t,o))}function Si(e,t,n,r,o){if(null===e){var a=n.type;return"function"!==typeof a||Ou(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ki(e,t,a,r,o))}if(a=e.child,0===(e.lanes&o)){var l=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(l,r)&&e.ref===t.ref)return Wi(e,t,o)}return t.flags|=1,(e=_u(a,r)).ref=t.ref,e.return=t,t.child=e}function ki(e,t,n,r,o){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bi=!1,t.pendingProps=r=a,0===(e.lanes&o))return t.lanes=e.lanes,Wi(e,t,o);0!==(131072&e.flags)&&(bi=!0)}}return Ni(e,t,n,r,o)}function Ci(e,t,n){var r=t.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Io(_s,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Io(_s,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Io(_s,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Io(_s,Os),Os|=r;return wi(e,t,o,n),t.child}function Ei(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ni(e,t,n,r,o){var a=_o(n)?jo:Lo.current;return a=Oo(t,a),Aa(t,o),n=hl(e,t,n,r,a,o),r=yl(),null===e||bi?(aa&&r&&ta(t),t.flags|=1,wi(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wi(e,t,o))}function Ii(e,t,n,r,o){if(_o(n)){var a=!0;Ro(t)}else a=!1;if(Aa(t,o),null===t.stateNode)Vi(e,t),li(t,n,r),si(t,n,r,o),r=!0;else if(null===e){var l=t.stateNode,i=t.memoizedProps;l.props=i;var s=l.context,u=n.contextType;"object"===typeof u&&null!==u?u=ja(u):u=Oo(t,u=_o(n)?jo:Lo.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof l.getSnapshotBeforeUpdate;d||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==r||s!==u)&&ii(t,l,r,u),za=!1;var f=t.memoizedState;l.state=f,Va(t,r,l,o),s=t.memoizedState,i!==r||f!==s||Ao.current||za?("function"===typeof c&&(ri(t,n,c,r),s=t.memoizedState),(i=za||ai(t,n,i,r,f,s,u))?(d||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),l.props=r,l.state=s,l.context=u,r=i):("function"===typeof l.componentDidMount&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Da(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:ni(t.type,i),l.props=u,d=t.pendingProps,f=l.context,"object"===typeof(s=n.contextType)&&null!==s?s=ja(s):s=Oo(t,s=_o(n)?jo:Lo.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==d||f!==s)&&ii(t,l,r,s),za=!1,f=t.memoizedState,l.state=f,Va(t,r,l,o);var g=t.memoizedState;i!==d||f!==g||Ao.current||za?("function"===typeof p&&(ri(t,n,p,r),g=t.memoizedState),(u=za||ai(t,n,u,r,f,g,s)||!1)?(c||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(r,g,s),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(r,g,s)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),l.props=r,l.state=g,l.context=s,r=u):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ti(e,t,n,r,a,o)}function Ti(e,t,n,r,o,a){Ei(e,t);var l=0!==(128&t.flags);if(!r&&!l)return o&&Do(t,n,!1),Wi(e,t,a);r=t.stateNode,vi.current=t;var i=l&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&l?(t.child=xa(t,e.child,null,a),t.child=xa(t,null,i,a)):wi(e,t,i,a),t.memoizedState=r.state,o&&Do(t,n,!0),t.child}function Li(e){var t=e.stateNode;t.pendingContext?Po(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Po(0,t.context,!1),Ga(e,t.containerInfo)}function Ai(e,t,n,r,o){return ga(),ma(o),t.flags|=256,wi(e,t,n,r),t.child}var ji,Oi,_i,Mi,Pi={dehydrated:null,treeContext:null,retryLane:0};function zi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ri(e,t,n){var r,o=t.pendingProps,l=el.current,i=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&l)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),Io(el,1&l),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=o.children,e=o.fallback,i?(o=t.mode,i=t.child,s={mode:"hidden",children:s},0===(1&o)&&null!==i?(i.childLanes=0,i.pendingProps=s):i=zu(s,o,0,null),e=Pu(e,o,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=zi(n),t.memoizedState=Pi,e):Di(t,s));if(null!==(l=e.memoizedState)&&null!==(r=l.dehydrated))return function(e,t,n,r,o,l,i){if(n)return 256&t.flags?(t.flags&=-257,Fi(e,t,i,r=ci(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=r.fallback,o=t.mode,r=zu({mode:"visible",children:r.children},o,0,null),(l=Pu(l,o,i,null)).flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,0!==(1&t.mode)&&xa(t,e.child,null,i),t.child.memoizedState=zi(i),t.memoizedState=Pi,l);if(0===(1&t.mode))return Fi(e,t,i,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var s=r.dgst;return r=s,Fi(e,t,i,r=ci(l=Error(a(419)),r,void 0))}if(s=0!==(i&e.childLanes),bi||s){if(null!==(r=Ls)){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|i))?0:o)&&o!==l.retryLane&&(l.retryLane=o,Pa(e,o),nu(r,e,o,-1))}return mu(),Fi(e,t,i,r=ci(Error(a(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Iu.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,oa=uo(o.nextSibling),ra=t,aa=!0,la=null,null!==e&&(Yo[Ko++]=Xo,Yo[Ko++]=Jo,Yo[Ko++]=Go,Xo=e.id,Jo=e.overflow,Go=t),t=Di(t,r.children),t.flags|=4096,t)}(e,t,s,o,r,l,n);if(i){i=o.fallback,s=t.mode,r=(l=e.child).sibling;var u={mode:"hidden",children:o.children};return 0===(1&s)&&t.child!==l?((o=t.child).childLanes=0,o.pendingProps=u,t.deletions=null):(o=_u(l,u)).subtreeFlags=14680064&l.subtreeFlags,null!==r?i=_u(r,i):(i=Pu(i,s,n,null)).flags|=2,i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,s=null===(s=e.child.memoizedState)?zi(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Pi,o}return e=(i=e.child).sibling,o=_u(i,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Di(e,t){return(t=zu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fi(e,t,n,r){return null!==r&&ma(r),xa(t,e.child,null,n),(e=Di(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ui(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),La(e.return,t,n)}function Bi(e,t,n,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function Hi(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(wi(e,t,r.children,n),0!==(2&(r=el.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ui(e,n,t);else if(19===e.tag)Ui(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Io(el,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===tl(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Bi(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===tl(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Bi(t,!0,n,null,a);break;case"together":Bi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=_u(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_u(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $i(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qi(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qi(t),null;case 1:case 17:return _o(t.type)&&Mo(),qi(t),null;case 3:return r=t.stateNode,Xa(),No(Ao),No(Lo),rl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==la&&(lu(la),la=null))),Oi(e,t),qi(t),null;case 5:Za(t);var o=Ka(Ya.current);if(n=t.type,null!==e&&null!=t.stateNode)_i(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return qi(t),null}if(e=Ka(qa.current),fa(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[po]=t,r[go]=l,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(o=0;o<Pr.length;o++)Fr(Pr[o],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":G(r,l),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Fr("invalid",r);break;case"textarea":oe(r,l),Fr("invalid",r)}for(var s in ve(n,l),o=null,l)if(l.hasOwnProperty(s)){var u=l[s];"children"===s?"string"===typeof u?r.textContent!==u&&(!0!==l.suppressHydrationWarning&&Jr(r.textContent,u,e),o=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==l.suppressHydrationWarning&&Jr(r.textContent,u,e),o=["children",""+u]):i.hasOwnProperty(s)&&null!=u&&"onScroll"===s&&Fr("scroll",r)}switch(n){case"input":q(r),Z(r,l,!0);break;case"textarea":q(r),le(r);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(r.onclick=Zr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[po]=t,e[go]=r,ji(e,t,!1,!1),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),o=r;break;case"iframe":case"object":case"embed":Fr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Pr.length;o++)Fr(Pr[o],e);o=r;break;case"source":Fr("error",e),o=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),o=r;break;case"details":Fr("toggle",e),o=r;break;case"input":G(e,r),o=K(e,r),Fr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=R({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Fr("invalid",e)}for(l in ve(n,o),u=o)if(u.hasOwnProperty(l)){var c=u[l];"style"===l?he(e,c):"dangerouslySetInnerHTML"===l?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===l?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(i.hasOwnProperty(l)?null!=c&&"onScroll"===l&&Fr("scroll",e):null!=c&&b(e,l,c,s))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(l=r.value)?ne(e,!!r.multiple,l,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qi(t),null;case 6:if(e&&null!=t.stateNode)Mi(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ka(Ya.current),Ka(qa.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(l=r.nodeValue!==n)&&null!==(e=ra))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}l&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return qi(t),null;case 13:if(No(el),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==oa&&0!==(1&t.mode)&&0===(128&t.flags))pa(),ga(),t.flags|=98560,l=!1;else if(l=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!l)throw Error(a(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(a(317));l[po]=t}else ga(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qi(t),l=!1}else null!==la&&(lu(la),la=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&el.current)?0===Ms&&(Ms=3):mu())),null!==t.updateQueue&&(t.flags|=4),qi(t),null);case 4:return Xa(),Oi(e,t),null===e&&Hr(t.stateNode.containerInfo),qi(t),null;case 10:return Ta(t.type._context),qi(t),null;case 19:if(No(el),null===(l=t.memoizedState))return qi(t),null;if(r=0!==(128&t.flags),null===(s=l.rendering))if(r)$i(l,!1);else{if(0!==Ms||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=tl(e))){for(t.flags|=128,$i(l,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(l=n).flags&=14680066,null===(s=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,l.type=s.type,e=s.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Io(el,1&el.current|2),t.child}e=e.sibling}null!==l.tail&&Xe()>Hs&&(t.flags|=128,r=!0,$i(l,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=tl(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),$i(l,!0),null===l.tail&&"hidden"===l.tailMode&&!s.alternate&&!aa)return qi(t),null}else 2*Xe()-l.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=128,r=!0,$i(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=l.last)?n.sibling=s:t.child=s,l.last=s)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Xe(),t.sibling=null,n=el.current,Io(el,r?1&n|2:1&n),t):(qi(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(qi(t),6&t.subtreeFlags&&(t.flags|=8192)):qi(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Yi(e,t){switch(na(t),t.tag){case 1:return _o(t.type)&&Mo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xa(),No(Ao),No(Lo),rl(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(No(el),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ga()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return No(el),null;case 4:return Xa(),null;case 10:return Ta(t.type._context),null;case 22:case 23:return du(),null;default:return null}}ji=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oi=function(){},_i=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ka(qa.current);var a,l=null;switch(n){case"input":o=K(e,o),r=K(e,r),l=[];break;case"select":o=R({},o,{value:void 0}),r=R({},r,{value:void 0}),l=[];break;case"textarea":o=re(e,o),r=re(e,r),l=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ve(n,r),n=null,o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&null!=o[c])if("style"===c){var s=o[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(i.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in r){var u=r[c];if(s=null!=o?o[c]:void 0,r.hasOwnProperty(c)&&u!==s&&(null!=u||null!=s))if("style"===c)if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(l||(l=[]),l.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,s=s?s.__html:void 0,null!=u&&s!==u&&(l=l||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(l=l||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(i.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Fr("scroll",e),l||s===u||(l=[])):(l=l||[]).push(c,u))}n&&(l=l||[]).push("style",n);var c=l;(t.updateQueue=c)&&(t.flags|=4)}},Mi=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ki=!1,Gi=!1,Xi="function"===typeof WeakSet?WeakSet:Set,Ji=null;function Zi(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cu(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Cu(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&es(t,n,a)}o=o.next}while(o!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function os(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[go],delete t[ho],delete t[yo],delete t[vo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function is(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ls(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function us(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(us(e,t,n),e=e.sibling;null!==e;)us(e,t,n),e=e.sibling}var cs=null,ds=!1;function fs(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(ot,n)}catch(i){}switch(n.tag){case 5:Gi||Zi(n,t);case 6:var r=cs,o=ds;cs=null,fs(e,t,n),ds=o,null!==(cs=r)&&(ds?(e=cs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cs.removeChild(n.stateNode));break;case 18:null!==cs&&(ds?(e=cs,n=n.stateNode,8===e.nodeType?so(e.parentNode,n):1===e.nodeType&&so(e,n),Ht(e)):so(cs,n.stateNode));break;case 4:r=cs,o=ds,cs=n.stateNode.containerInfo,ds=!0,fs(e,t,n),cs=r,ds=o;break;case 0:case 11:case 14:case 15:if(!Gi&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var a=o,l=a.destroy;a=a.tag,void 0!==l&&(0!==(2&a)||0!==(4&a))&&es(n,t,l),o=o.next}while(o!==r)}fs(e,t,n);break;case 1:if(!Gi&&(Zi(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Cu(n,t,i)}fs(e,t,n);break;case 21:fs(e,t,n);break;case 22:1&n.mode?(Gi=(r=Gi)||null!==n.memoizedState,fs(e,t,n),Gi=r):fs(e,t,n);break;default:fs(e,t,n)}}function gs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xi),t.forEach(function(t){var r=Tu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var l=e,i=t,s=i;e:for(;null!==s;){switch(s.tag){case 5:cs=s.stateNode,ds=!1;break e;case 3:case 4:cs=s.stateNode.containerInfo,ds=!0;break e}s=s.return}if(null===cs)throw Error(a(160));ps(l,i,o),cs=null,ds=!1;var u=o.alternate;null!==u&&(u.return=null),o.return=null}catch(c){Cu(o,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)hs(t,e),t=t.sibling}function hs(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(h){Cu(e,e.return,h)}try{ns(5,e,e.return)}catch(h){Cu(e,e.return,h)}}break;case 1:ms(t,e),ys(e),512&r&&null!==n&&Zi(n,n.return);break;case 5:if(ms(t,e),ys(e),512&r&&null!==n&&Zi(n,n.return),32&e.flags){var o=e.stateNode;try{fe(o,"")}catch(h){Cu(e,e.return,h)}}if(4&r&&null!=(o=e.stateNode)){var l=e.memoizedProps,i=null!==n?n.memoizedProps:l,s=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===s&&"radio"===l.type&&null!=l.name&&X(o,l),be(s,i);var c=be(s,l);for(i=0;i<u.length;i+=2){var d=u[i],f=u[i+1];"style"===d?he(o,f):"dangerouslySetInnerHTML"===d?de(o,f):"children"===d?fe(o,f):b(o,d,f,c)}switch(s){case"input":J(o,l);break;case"textarea":ae(o,l);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var g=l.value;null!=g?ne(o,!!l.multiple,g,!1):p!==!!l.multiple&&(null!=l.defaultValue?ne(o,!!l.multiple,l.defaultValue,!0):ne(o,!!l.multiple,l.multiple?[]:"",!1))}o[go]=l}catch(h){Cu(e,e.return,h)}}break;case 6:if(ms(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(h){Cu(e,e.return,h)}}break;case 3:if(ms(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(h){Cu(e,e.return,h)}break;case 4:default:ms(t,e),ys(e);break;case 13:ms(t,e),ys(e),8192&(o=e.child).flags&&(l=null!==o.memoizedState,o.stateNode.isHidden=l,!l||null!==o.alternate&&null!==o.alternate.memoizedState||(Bs=Xe())),4&r&&gs(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Gi=(c=Gi)||d,ms(t,e),Gi=c):ms(t,e),ys(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Ji=e,d=e.child;null!==d;){for(f=Ji=d;null!==Ji;){switch(g=(p=Ji).child,p.tag){case 0:case 11:case 14:case 15:ns(4,p,p.return);break;case 1:Zi(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(h){Cu(r,n,h)}}break;case 5:Zi(p,p.return);break;case 22:if(null!==p.memoizedState){xs(f);continue}}null!==g?(g.return=p,Ji=g):xs(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{o=f.stateNode,c?"function"===typeof(l=o.style).setProperty?l.setProperty("display","none","important"):l.display="none":(s=f.stateNode,i=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,s.style.display=me("display",i))}catch(h){Cu(e,e.return,h)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(h){Cu(e,e.return,h)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ms(t,e),ys(e),4&r&&gs(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ls(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(fe(o,""),r.flags&=-33),us(e,is(e),o);break;case 3:case 4:var l=r.stateNode.containerInfo;ss(e,is(e),l);break;default:throw Error(a(161))}}catch(i){Cu(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vs(e,t,n){Ji=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Ji;){var o=Ji,a=o.child;if(22===o.tag&&r){var l=null!==o.memoizedState||Ki;if(!l){var i=o.alternate,s=null!==i&&null!==i.memoizedState||Gi;i=Ki;var u=Gi;if(Ki=l,(Gi=s)&&!u)for(Ji=o;null!==Ji;)s=(l=Ji).child,22===l.tag&&null!==l.memoizedState?Ss(o):null!==s?(s.return=l,Ji=s):Ss(o);for(;null!==a;)Ji=a,bs(a,t,n),a=a.sibling;Ji=o,Ki=i,Gi=u}ws(e)}else 0!==(8772&o.subtreeFlags)&&null!==a?(a.return=o,Ji=a):ws(e)}}function ws(e){for(;null!==Ji;){var t=Ji;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gi||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gi)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ni(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&Wa(t,l,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wa(t,i,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ht(f)}}}break;default:throw Error(a(163))}Gi||512&t.flags&&os(t)}catch(p){Cu(t,t.return,p)}}if(t===e){Ji=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ji=n;break}Ji=t.return}}function xs(e){for(;null!==Ji;){var t=Ji;if(t===e){Ji=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ji=n;break}Ji=t.return}}function Ss(e){for(;null!==Ji;){var t=Ji;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Cu(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(s){Cu(t,o,s)}}var a=t.return;try{os(t)}catch(s){Cu(t,a,s)}break;case 5:var l=t.return;try{os(t)}catch(s){Cu(t,l,s)}}}catch(s){Cu(t,t.return,s)}if(t===e){Ji=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Ji=i;break}Ji=t.return}}var ks,Cs=Math.ceil,Es=w.ReactCurrentDispatcher,Ns=w.ReactCurrentOwner,Is=w.ReactCurrentBatchConfig,Ts=0,Ls=null,As=null,js=0,Os=0,_s=Eo(0),Ms=0,Ps=null,zs=0,Rs=0,Ds=0,Fs=null,Us=null,Bs=0,Hs=1/0,Vs=null,Ws=!1,$s=null,qs=null,Qs=!1,Ys=null,Ks=0,Gs=0,Xs=null,Js=-1,Zs=0;function eu(){return 0!==(6&Ts)?Xe():-1!==Js?Js:Js=Xe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Ts)&&0!==js?js&-js:null!==ha.transition?(0===Zs&&(Zs=mt()),Zs):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function nu(e,t,n,r){if(50<Gs)throw Gs=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&Ts)&&e===Ls||(e===Ls&&(0===(2&Ts)&&(Rs|=n),4===Ms&&iu(e,js)),ru(e,r),1===n&&0===Ts&&0===(1&t.mode)&&(Hs=Xe()+500,Uo&&Vo()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-lt(a),i=1<<l,s=o[l];-1===s?0!==(i&n)&&0===(i&r)||(o[l]=pt(i,t)):s<=t&&(e.expiredLanes|=i),a&=~i}}(e,t);var r=ft(e,e===Ls?js:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Uo=!0,Ho(e)}(su.bind(null,e)):Ho(su.bind(null,e)),lo(function(){0===(6&Ts)&&Vo()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Lu(n,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ou(e,t){if(Js=-1,Zs=0,0!==(6&Ts))throw Error(a(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=ft(e,e===Ls?js:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=hu(e,r);else{t=r;var o=Ts;Ts|=2;var l=gu();for(Ls===e&&js===t||(Vs=null,Hs=Xe()+500,fu(e,t));;)try{vu();break}catch(s){pu(e,s)}Ia(),Es.current=l,Ts=o,null!==As?t=0:(Ls=null,js=0,t=Ms)}if(0!==t){if(2===t&&(0!==(o=gt(e))&&(r=o,t=au(e,o))),1===t)throw n=Ps,fu(e,0),iu(e,r),ru(e,Xe()),n;if(6===t)iu(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!ir(a(),o))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=hu(e,r))&&(0!==(l=gt(e))&&(r=l,t=au(e,l))),1===t))throw n=Ps,fu(e,0),iu(e,r),ru(e,Xe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xu(e,Us,Vs);break;case 3:if(iu(e,r),(130023424&r)===r&&10<(t=Bs+500-Xe())){if(0!==ft(e,0))break;if(((o=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(xu.bind(null,e,Us,Vs),t);break}xu(e,Us,Vs);break;case 4:if(iu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-lt(r);l=1<<i,(i=t[i])>o&&(o=i),r&=~l}if(r=o,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cs(r/1960))-r)){e.timeoutHandle=ro(xu.bind(null,e,Us,Vs),r);break}xu(e,Us,Vs);break;default:throw Error(a(329))}}}return ru(e,Xe()),e.callbackNode===n?ou.bind(null,e):null}function au(e,t){var n=Fs;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=hu(e,t))&&(t=Us,Us=n,null!==t&&lu(t)),e}function lu(e){null===Us?Us=e:Us.push.apply(Us,e)}function iu(e,t){for(t&=~Ds,t&=~Rs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),r=1<<n;e[n]=-1,t&=~r}}function su(e){if(0!==(6&Ts))throw Error(a(327));Su();var t=ft(e,0);if(0===(1&t))return ru(e,Xe()),null;var n=hu(e,t);if(0!==e.tag&&2===n){var r=gt(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=Ps,fu(e,0),iu(e,t),ru(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,Us,Vs),ru(e,Xe()),null}function uu(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&(Hs=Xe()+500,Uo&&Vo())}}function cu(e){null!==Ys&&0===Ys.tag&&0===(6&Ts)&&Su();var t=Ts;Ts|=1;var n=Is.transition,r=bt;try{if(Is.transition=null,bt=1,e)return e()}finally{bt=r,Is.transition=n,0===(6&(Ts=t))&&Vo()}}function du(){Os=_s.current,No(_s)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(na(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mo();break;case 3:Xa(),No(Ao),No(Lo),rl();break;case 5:Za(r);break;case 4:Xa();break;case 13:case 19:No(el);break;case 10:Ta(r.type._context);break;case 22:case 23:du()}n=n.return}if(Ls=e,As=e=_u(e.current,null),js=Os=t,Ms=0,Ps=null,Ds=Rs=zs=0,Us=Fs=null,null!==Oa){for(t=0;t<Oa.length;t++)if(null!==(r=(n=Oa[t]).interleaved)){n.interleaved=null;var o=r.next,a=n.pending;if(null!==a){var l=a.next;a.next=o,r.next=l}n.pending=r}Oa=null}return e}function pu(e,t){for(;;){var n=As;try{if(Ia(),ol.current=Jl,cl){for(var r=il.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}cl=!1}if(ll=0,ul=sl=il=null,dl=!1,fl=0,Ns.current=null,null===n||null===n.return){Ms=1,Ps=t,As=null;break}e:{var l=e,i=n.return,s=n,u=t;if(t=js,s.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=s,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=hi(i);if(null!==g){g.flags&=-257,yi(g,i,s,0,t),1&g.mode&&mi(l,c,t),u=c;var m=(t=g).updateQueue;if(null===m){var h=new Set;h.add(u),t.updateQueue=h}else m.add(u);break e}if(0===(1&t)){mi(l,c,t),mu();break e}u=Error(a(426))}else if(aa&&1&s.mode){var y=hi(i);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yi(y,i,s,0,t),ma(ui(u,s));break e}}l=u=ui(u,s),4!==Ms&&(Ms=2),null===Fs?Fs=[l]:Fs.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Ha(l,pi(0,u,t));break e;case 1:s=u;var v=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===qs||!qs.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,Ha(l,gi(l,s,t));break e}}l=l.return}while(null!==l)}wu(n)}catch(w){t=w,As===n&&null!==n&&(As=n=n.return);continue}break}}function gu(){var e=Es.current;return Es.current=Jl,null===e?Jl:e}function mu(){0!==Ms&&3!==Ms&&2!==Ms||(Ms=4),null===Ls||0===(268435455&zs)&&0===(268435455&Rs)||iu(Ls,js)}function hu(e,t){var n=Ts;Ts|=2;var r=gu();for(Ls===e&&js===t||(Vs=null,fu(e,t));;)try{yu();break}catch(o){pu(e,o)}if(Ia(),Ts=n,Es.current=r,null!==As)throw Error(a(261));return Ls=null,js=0,Ms}function yu(){for(;null!==As;)bu(As)}function vu(){for(;null!==As&&!Ke();)bu(As)}function bu(e){var t=ks(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?wu(e):As=t,Ns.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qi(n,t,Os)))return void(As=n)}else{if(null!==(n=Yi(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Ms=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Ms&&(Ms=5)}function xu(e,t,n){var r=bt,o=Is.transition;try{Is.transition=null,bt=1,function(e,t,n,r){do{Su()}while(null!==Ys);if(0!==(6&Ts))throw Error(a(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-lt(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}(e,l),e===Ls&&(As=Ls=null,js=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Lu(tt,function(){return Su(),null})),l=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||l){l=Is.transition,Is.transition=null;var i=bt;bt=1;var s=Ts;Ts|=4,Ns.current=null,function(e,t){if(eo=Wt,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch(x){n=null;break e}var i=0,s=-1,u=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var g;f!==n||0!==o&&3!==f.nodeType||(s=i+o),f!==l||0!==r&&3!==f.nodeType||(u=i+r),3===f.nodeType&&(i+=f.nodeValue.length),null!==(g=f.firstChild);)p=f,f=g;for(;;){if(f===e)break t;if(p===n&&++c===o&&(s=i),p===l&&++d===r&&(u=i),null!==(g=f.nextSibling))break;p=(f=p).parentNode}f=g}n=-1===s||-1===u?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Wt=!1,Ji=t;null!==Ji;)if(e=(t=Ji).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ji=e;else for(;null!==Ji;){t=Ji;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var h=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?h:ni(t.type,h),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(x){Cu(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Ji=e;break}Ji=t.return}m=ts,ts=!1}(e,n),hs(n,e),gr(to),Wt=!!eo,to=eo=null,e.current=n,vs(n,e,o),Ge(),Ts=s,bt=i,Is.transition=l}else e.current=n;if(Qs&&(Qs=!1,Ys=e,Ks=o),l=e.pendingLanes,0===l&&(qs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ws)throw Ws=!1,e=$s,$s=null,e;0!==(1&Ks)&&0!==e.tag&&Su(),l=e.pendingLanes,0!==(1&l)?e===Xs?Gs++:(Gs=0,Xs=e):Gs=0,Vo()}(e,t,n,r)}finally{Is.transition=o,bt=r}return null}function Su(){if(null!==Ys){var e=wt(Ks),t=Is.transition,n=bt;try{if(Is.transition=null,bt=16>e?16:e,null===Ys)var r=!1;else{if(e=Ys,Ys=null,Ks=0,0!==(6&Ts))throw Error(a(331));var o=Ts;for(Ts|=4,Ji=e.current;null!==Ji;){var l=Ji,i=l.child;if(0!==(16&Ji.flags)){var s=l.deletions;if(null!==s){for(var u=0;u<s.length;u++){var c=s[u];for(Ji=c;null!==Ji;){var d=Ji;switch(d.tag){case 0:case 11:case 15:ns(8,d,l)}var f=d.child;if(null!==f)f.return=d,Ji=f;else for(;null!==Ji;){var p=(d=Ji).sibling,g=d.return;if(as(d),d===c){Ji=null;break}if(null!==p){p.return=g,Ji=p;break}Ji=g}}}var m=l.alternate;if(null!==m){var h=m.child;if(null!==h){m.child=null;do{var y=h.sibling;h.sibling=null,h=y}while(null!==h)}}Ji=l}}if(0!==(2064&l.subtreeFlags)&&null!==i)i.return=l,Ji=i;else e:for(;null!==Ji;){if(0!==(2048&(l=Ji).flags))switch(l.tag){case 0:case 11:case 15:ns(9,l,l.return)}var v=l.sibling;if(null!==v){v.return=l.return,Ji=v;break e}Ji=l.return}}var b=e.current;for(Ji=b;null!==Ji;){var w=(i=Ji).child;if(0!==(2064&i.subtreeFlags)&&null!==w)w.return=i,Ji=w;else e:for(i=b;null!==Ji;){if(0!==(2048&(s=Ji).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(S){Cu(s,s.return,S)}if(s===i){Ji=null;break e}var x=s.sibling;if(null!==x){x.return=s.return,Ji=x;break e}Ji=s.return}}if(Ts=o,Vo(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(ot,e)}catch(S){}r=!0}return r}finally{bt=n,Is.transition=t}}return!1}function ku(e,t,n){e=Ua(e,t=pi(0,t=ui(n,t),1),1),t=eu(),null!==e&&(yt(e,1,t),ru(e,t))}function Cu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qs||!qs.has(r))){t=Ua(t,e=gi(t,e=ui(n,e),1),1),e=eu(),null!==t&&(yt(t,1,e),ru(t,e));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Ls===e&&(js&n)===n&&(4===Ms||3===Ms&&(130023424&js)===js&&500>Xe()-Bs?fu(e,0):Ds|=n),ru(e,t)}function Nu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Pa(e,t))&&(yt(e,t,n),ru(e,n))}function Iu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nu(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Nu(e,n)}function Lu(e,t){return Qe(e,t)}function Au(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ju(e,t,n,r){return new Au(e,t,n,r)}function Ou(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _u(e,t){var n=e.alternate;return null===n?((n=ju(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mu(e,t,n,r,o,l){var i=2;if(r=e,"function"===typeof e)Ou(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case k:return Pu(n.children,o,l,t);case C:i=8,o|=8;break;case E:return(e=ju(12,n,t,2|o)).elementType=E,e.lanes=l,e;case L:return(e=ju(13,n,t,o)).elementType=L,e.lanes=l,e;case A:return(e=ju(19,n,t,o)).elementType=A,e.lanes=l,e;case _:return zu(n,o,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:i=10;break e;case I:i=9;break e;case T:i=11;break e;case j:i=14;break e;case O:i=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=ju(i,n,t,o)).elementType=e,t.type=r,t.lanes=l,t}function Pu(e,t,n,r){return(e=ju(7,e,r,t)).lanes=n,e}function zu(e,t,n,r){return(e=ju(22,e,r,t)).elementType=_,e.lanes=n,e.stateNode={isHidden:!1},e}function Ru(e,t,n){return(e=ju(6,e,null,t)).lanes=n,e}function Du(e,t,n){return(t=ju(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fu(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ht(0),this.expirationTimes=ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ht(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,o,a,l,i,s){return e=new Fu(e,t,n,i,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=ju(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Bu(e){if(!e)return To;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_o(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(_o(n))return zo(e,n,t)}return t}function Hu(e,t,n,r,o,a,l,i,s){return(e=Uu(n,r,!0,e,0,a,0,i,s)).context=Bu(null),n=e.current,(a=Fa(r=eu(),o=tu(n))).callback=void 0!==t&&null!==t?t:null,Ua(n,a,o),e.current.lanes=o,yt(e,o,r),ru(e,r),e}function Vu(e,t,n,r){var o=t.current,a=eu(),l=tu(o);return n=Bu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fa(a,l)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ua(o,t,l))&&(nu(e,o,l,a),Ba(e,o,l)),l}function Wu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $u(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qu(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}ks=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ao.current)bi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bi=!1,function(e,t,n){switch(t.tag){case 3:Li(t),ga();break;case 5:Ja(t);break;case 1:_o(t.type)&&Ro(t);break;case 4:Ga(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Io(ka,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Io(el,1&el.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ri(e,t,n):(Io(el,1&el.current),null!==(e=Wi(e,t,n))?e.sibling:null);Io(el,1&el.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hi(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Io(el,el.current),r)break;return null;case 22:case 23:return t.lanes=0,Ci(e,t,n)}return Wi(e,t,n)}(e,t,n);bi=0!==(131072&e.flags)}else bi=!1,aa&&0!==(1048576&t.flags)&&ea(t,Qo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vi(e,t),e=t.pendingProps;var o=Oo(t,Lo.current);Aa(t,n),o=hl(null,t,r,e,o,n);var l=yl();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_o(r)?(l=!0,Ro(t)):l=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ra(t),o.updater=oi,t.stateNode=o,o._reactInternals=t,si(t,r,e,n),t=Ti(null,t,r,!0,l,n)):(t.tag=0,aa&&l&&ta(t),wi(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vi(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Ou(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===j)return 14}return 2}(r),e=ni(r,e),o){case 0:t=Ni(null,t,r,e,n);break e;case 1:t=Ii(null,t,r,e,n);break e;case 11:t=xi(null,t,r,e,n);break e;case 14:t=Si(null,t,r,ni(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ni(e,t,r,o=t.elementType===r?o:ni(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ii(e,t,r,o=t.elementType===r?o:ni(r,o),n);case 3:e:{if(Li(t),null===e)throw Error(a(387));r=t.pendingProps,o=(l=t.memoizedState).element,Da(e,t),Va(t,r,null,n);var i=t.memoizedState;if(r=i.element,l.isDehydrated){if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Ai(e,t,r,n,o=ui(Error(a(423)),t));break e}if(r!==o){t=Ai(e,t,r,n,o=ui(Error(a(424)),t));break e}for(oa=uo(t.stateNode.containerInfo.firstChild),ra=t,aa=!0,la=null,n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ga(),r===o){t=Wi(e,t,n);break e}wi(e,t,r,n)}t=t.child}return t;case 5:return Ja(t),null===e&&ca(t),r=t.type,o=t.pendingProps,l=null!==e?e.memoizedProps:null,i=o.children,no(r,o)?i=null:null!==l&&no(r,l)&&(t.flags|=32),Ei(e,t),wi(e,t,i,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Ri(e,t,n);case 4:return Ga(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xa(t,null,r,n):wi(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,xi(e,t,r,o=t.elementType===r?o:ni(r,o),n);case 7:return wi(e,t,t.pendingProps,n),t.child;case 8:case 12:return wi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,l=t.memoizedProps,i=o.value,Io(ka,r._currentValue),r._currentValue=i,null!==l)if(ir(l.value,i)){if(l.children===o.children&&!Ao.current){t=Wi(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var s=l.dependencies;if(null!==s){i=l.child;for(var u=s.firstContext;null!==u;){if(u.context===r){if(1===l.tag){(u=Fa(-1,n&-n)).tag=2;var c=l.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),La(l.return,n,t),s.lanes|=n;break}u=u.next}}else if(10===l.tag)i=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(i=l.return))throw Error(a(341));i.lanes|=n,null!==(s=i.alternate)&&(s.lanes|=n),La(i,n,t),i=l.sibling}else i=l.child;if(null!==i)i.return=l;else for(i=l;null!==i;){if(i===t){i=null;break}if(null!==(l=i.sibling)){l.return=i.return,i=l;break}i=i.return}l=i}wi(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Aa(t,n),r=r(o=ja(o)),t.flags|=1,wi(e,t,r,n),t.child;case 14:return o=ni(r=t.type,t.pendingProps),Si(e,t,r,o=ni(r.type,o),n);case 15:return ki(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ni(r,o),Vi(e,t),t.tag=1,_o(r)?(e=!0,Ro(t)):e=!1,Aa(t,n),li(t,r,o),si(t,r,o,n),Ti(null,t,r,!0,e,n);case 19:return Hi(e,t,n);case 22:return Ci(e,t,n)}throw Error(a(156,t.tag))};var Qu="function"===typeof reportError?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}function Ku(e){this._internalRoot=e}function Gu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function Zu(e,t,n,r,o){var a=n._reactRootContainer;if(a){var l=a;if("function"===typeof o){var i=o;o=function(){var e=Wu(l);i.call(e)}}Vu(t,l,e,o)}else l=function(e,t,n,r,o){if(o){if("function"===typeof r){var a=r;r=function(){var e=Wu(l);a.call(e)}}var l=Hu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=l,e[mo]=l.current,Hr(8===e.nodeType?e.parentNode:e),cu(),l}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var i=r;r=function(){var e=Wu(s);i.call(e)}}var s=Uu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=s,e[mo]=s.current,Hr(8===e.nodeType?e.parentNode:e),cu(function(){Vu(t,s,n,r)}),s}(n,t,e,o,r);return Wu(l)}Ku.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Vu(e,t,null,null)},Ku.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu(function(){Vu(null,e,null,null)}),t[mo]=null}},Ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_t.length&&0!==t&&t<_t[n].priority;n++);_t.splice(n,0,e),0===n&&Rt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),ru(t,Xe()),0===(6&Ts)&&(Hs=Xe()+500,Vo()))}break;case 13:cu(function(){var t=Pa(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}}),qu(e,1)}},St=function(e){if(13===e.tag){var t=Pa(e,134217728);if(null!==t)nu(t,e,134217728,eu());qu(e,134217728)}},kt=function(e){if(13===e.tag){var t=tu(e),n=Pa(e,t);if(null!==n)nu(n,e,t,eu());qu(e,t)}},Ct=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=So(r);if(!o)throw Error(a(90));Q(r),J(r,o)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uu,Le=cu;var ec={usingClientEntryPoint:!1,Events:[wo,xo,So,Ne,Ie,uu]},tc={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{ot=rc.inject(nc),at=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gu(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Gu(e))throw Error(a(299));var n=!1,r="",o=Qu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Uu(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Yu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(a(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Gu(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,o=!1,l="",i=Qu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Hu(t,null,e,1,null!=n?n:null,o,0,l,i),e[mo]=t.current,Hr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ku(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(a(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(a(40));return!!e._reactRootContainer&&(cu(function(){Zu(null,null,e,!1,function(){e._reactRootContainer=null,e[mo]=null})}),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&o&&r;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>l[e]=()=>r[e]);return l.default=()=>r,n.d(a,l),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".5b9fe32f.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="prompto-dys-editor:";n.l=(r,o,a,l)=>{if(e[r])e[r].push(o);else{var i,s;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){i=d;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+a),i.src=r),e[r]=[o];var f=(t,n)=>{i.onerror=i.onload=null,clearTimeout(p);var o=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach(e=>e(n)),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),s&&document.head.appendChild(i)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="./",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise((n,r)=>o=e[t]=[n,r]);r.push(o[2]=a);var l=n.p+n.u(t),i=new Error;n.l(l,r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),l=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+l+")",i.name="ChunkLoadError",i.type=a,i.request=l,o[1](i)}},"chunk-"+t,t)}};var t=(t,r)=>{var o,a,l=r[0],i=r[1],s=r[2],u=0;if(l.some(t=>0!==e[t])){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(s)s(n)}for(t&&t(r);u<l.length;u++)a=l[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkprompto_dys_editor=self.webpackChunkprompto_dys_editor||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),o=n(391);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function i(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const c=e=>{if(!e)return"";console.log("\ud83d\udd0d [htmlToMarkdown] HTML avant normalisation:",e),e=(e=>{const t=document.createElement("div");t.innerHTML=e;const n=[];t.childNodes.forEach(e=>{if(e.nodeType===Node.TEXT_NODE){const t=e.textContent.trim();t&&(console.log("\ud83d\udd27 [normalizeOrphanText] Texte orphelin d\xe9tect\xe9:",t),n.push("<div>".concat(t,"</div>")))}else e.nodeType===Node.ELEMENT_NODE&&n.push(e.outerHTML)});const r=n.join("");return console.log("\u2705 [normalizeOrphanText] HTML normalis\xe9:",r),r})(e),console.log("\u2705 [htmlToMarkdown] HTML apr\xe8s normalisation:",e);const t=[];let n=e.replace(/<span[^>]*style="[^"]*color:[^"]*"[^>]*>[^]*?<\/span>/gi,e=>{const n=e.replace(/color:\s*rgb\([^)]+\)/gi,e=>{const t=(e=>{const t=e.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(!t)return e;const n=parseInt(t[1]),r=parseInt(t[2]),o=parseInt(t[3]);return"#".concat(((1<<24)+(n<<16)+(r<<8)+o).toString(16).slice(1))})(e.replace("color:","").trim());return"color: ".concat(t)}),r="__COLOR_SPAN_".concat(t.length,"__");return t.push(n),r}).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/\n\s*\n/g,"\n").replace(/^\s+|\s+$/g,"").replace(/<h1[^>]*>(.*?)<\/h1>/gi,"# $1\n").replace(/<h2[^>]*>(.*?)<\/h2>/gi,"## $1\n").replace(/<h3[^>]*>(.*?)<\/h3>/gi,"### $1\n").replace(/<h4[^>]*>(.*?)<\/h4>/gi,"#### $1\n").replace(/<h5[^>]*>(.*?)<\/h5>/gi,"##### $1\n").replace(/<h6[^>]*>(.*?)<\/h6>/gi,"###### $1\n").replace(/<img[^>]*src="([^"]*)"[^>]*alt="([^"]*)"[^>]*(width="[^"]*"|height="[^"]*"|data-image-id="[^"]*")[^>]*\/?>/gi,(e,t,n)=>{const r=e.match(/width="([^"]*)"/i),o=e.match(/height="([^"]*)"/i),a=e.match(/data-image-id="([^"]*)"/i);let l="![".concat(n,"](").concat(t,")");const i=[];return r&&i.push("width=".concat(r[1])),o&&i.push("height=".concat(o[1])),a&&i.push("id=".concat(a[1])),i.length>0&&(l+="{".concat(i.join(" "),"}")),l}).replace(/<img[^>]*alt="([^"]*)"[^>]*src="([^"]*)"[^>]*(width="[^"]*"|height="[^"]*"|data-image-id="[^"]*")[^>]*\/?>/gi,(e,t,n)=>{const r=e.match(/width="([^"]*)"/i),o=e.match(/height="([^"]*)"/i),a=e.match(/data-image-id="([^"]*)"/i);let l="![".concat(t,"](").concat(n,")");const i=[];return r&&i.push("width=".concat(r[1])),o&&i.push("height=".concat(o[1])),a&&i.push("id=".concat(a[1])),i.length>0&&(l+="{".concat(i.join(" "),"}")),l}).replace(/<img[^>]*src="([^"]*)"[^>]*(width="[^"]*"|height="[^"]*"|data-image-id="[^"]*")[^>]*\/?>/gi,(e,t)=>{const n=e.match(/width="([^"]*)"/i),r=e.match(/height="([^"]*)"/i),o=e.match(/data-image-id="([^"]*)"/i);let a="![](".concat(t,")");const l=[];return n&&l.push("width=".concat(n[1])),r&&l.push("height=".concat(r[1])),o&&l.push("id=".concat(o[1])),l.length>0&&(a+="{".concat(l.join(" "),"}")),a}).replace(/<img[^>]*src="([^"]*)"[^>]*alt="([^"]*)"[^>]*\/?>/gi,"![$2]($1)").replace(/<img[^>]*alt="([^"]*)"[^>]*src="([^"]*)"[^>]*\/?>/gi,"![$1]($2)").replace(/<img[^>]*src="([^"]*)"[^>]*\/?>/gi,"![]($1)").replace(/<strong[^>]*>(.*?)<\/strong>/gi,"**$1**").replace(/<b[^>]*>(.*?)<\/b>/gi,"**$1**").replace(/<em[^>]*>(.*?)<\/em>/gi,"*$1*").replace(/<i[^>]*>(.*?)<\/i>/gi,"*$1*").replace(/<p[^>]*>(.*?)<\/p>/gi,(e,t)=>{const n=t.trim();return n?"".concat(n,"\n\n"):""}).replace(/<div[^>]*>(.*?)<\/div>/gi,"$1\n").replace(/<br\s*\/?>/gi,"\n").replace(/<ol[^>]*(?:style="[^"]*list-style-type:\s*lower-alpha[^"]*"|style="[^"]*lower-alpha[^"]*")[^>]*>([^]*?)<\/ol>/gi,(e,t)=>{const n=t.match(/<li[^>]*>([^]*?)<\/li>/gi)||[],r=e.match(/start="(\d+)"/),o=r?parseInt(r[1])-1:0;return n.map((e,t)=>{const n=e.replace(/<li[^>]*>([^]*?)<\/li>/gi,"$1").trim(),r=String.fromCharCode(97+o+t);return"".concat(r,". ").concat(n)}).join("\n")+"\n"}).replace(/<ol(?![^>]*(?:style="[^"]*list-style-type:\s*lower-alpha|style="[^"]*lower-alpha))[^>]*>([^]*?)<\/ol>/gi,(e,t)=>{const n=t.match(/<li[^>]*>([^]*?)<\/li>/gi)||[],r=e.match(/start="(\d+)"/),o=r?parseInt(r[1]):1;return n.map((e,t)=>{const n=e.replace(/<li[^>]*>([^]*?)<\/li>/gi,"$1").trim();return"".concat(o+t,". ").concat(n)}).join("\n")+"\n"}).replace(/<ul[^>]*>([^]*?)<\/ul>/gi,(e,t)=>(t.match(/<li[^>]*>([^]*?)<\/li>/gi)||[]).map(e=>{const t=e.replace(/<li[^>]*>([^]*?)<\/li>/gi,"$1").replace(/<[^>]+>/g,"").trim();return"- ".concat(t)}).join("\n")+"\n").replace(/__COLOR_SPAN_(\d+)__/g,(e,n)=>t[parseInt(n)]||"").replace(/<(?!span\s+style="[^"]*color:|\/span>)[^>]+>/gi,"").replace(/[ \t]+/g," ").replace(/\n[ \t]+/g,"\n").replace(/\n{3,}/g,"\n\n").trim();return n},d=e=>{if(!e)return"";const t=[];let n=e.replace(/<span[^>]*style="[^"]*color:[^"]*"[^>]*>[^]*?<\/span>/gi,e=>{const n="__SPAN_PRESERVE_".concat(t.length,"__");return t.push(e),n}).replace(/&(?!__SPAN_PRESERVE_)/g,"&amp;").replace(/<(?!__SPAN_PRESERVE_)/g,"&lt;").replace(/>(?!__SPAN_PRESERVE_)/g,"&gt;").replace(/^#{6}\s+(.+)$/gm,"<h6>$1</h6>").replace(/^#{5}\s+(.+)$/gm,"<h5>$1</h5>").replace(/^#{4}\s+(.+)$/gm,"<h4>$1</h4>").replace(/^#{3}\s+(.+)$/gm,"<h3>$1</h3>").replace(/^#{2}\s+(.+)$/gm,"<h2>$1</h2>").replace(/^#{1}\s+(.+)$/gm,"<h1>$1</h1>").replace(/!\[([^\]]*)\]\(([^)]+)\)\{([^}]+)\}/g,(e,t,n,r)=>{let o='<img src="'.concat(n,'" alt="').concat(t,'"');const a=r.match(/width=([\w%]+)/),l=r.match(/height=([\w%]+)/),i=r.match(/id=([a-f0-9-]+)/);return a&&(o+=' width="'.concat(a[1],'"')),l&&(o+=' height="'.concat(l[1],'"')),i&&(o+=' data-image-id="'.concat(i[1],'"')),o+=' style="max-width: 100%; height: auto; display: block;" />','<p class="image-line" style="display: block; margin: 1em 0; text-align: left;">'.concat(o,"</p>")}).replace(/!\[([^\]]*)\]\(([^)]+)\)/g,'<p class="image-line" style="display: block; margin: 1em 0; text-align: left;"><img src="$2" alt="$1" style="max-width: 100%; height: auto; display: block;" /></p>').replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>").replace(/\*([^*]+)\*/g,"<em>$1</em>").replace(/^(\s*)-\s+(.+)$/gm,'<li data-type="bullet">$2</li>').replace(/^(\s*)(\d+)\.\s+(.+)$/gm,'<li data-type="number" data-number="$2">$3</li>').replace(/^(\s*)([a-z])\.\s+(.+)$/gm,'<li data-type="letter" data-letter="$2">$3</li>').replace(/(<li[^>]*data-type="[^"]*"[^>]*>[^]*?<\/li>\n?)+/g,e=>{const t=e.match(/<li[^>]*data-type="[^"]*"[^>]*>[^]*?<\/li>/g)||[],n=[];let r=[],o=null;for(const a of t){const e=a.match(/data-type="([^"]*)"/),t=e?e[1]:null;t!==o?(r.length>0&&n.push({type:o,items:r}),r=[a],o=t):r.push(a)}return r.length>0&&n.push({type:o,items:r}),n.map(e=>{const{type:t,items:n}=e;if("letter"===t){const e=n[0].match(/data-letter="([a-z])"/),t=(e?e[1]:"a").charCodeAt(0)-97,r=n.map(e=>e.replace(/ data-type="[^"]*"| data-letter="[^"]*"/g,""));return t>0?'<ol style="list-style-type: lower-alpha; padding-left: 2.5em;" start="'.concat(t+1,'">').concat(r.join(""),"</ol>"):'<ol style="list-style-type: lower-alpha; padding-left: 2.5em;">'.concat(r.join(""),"</ol>")}if("number"===t){const e=n[0].match(/data-number="(\d+)"/),t=e?parseInt(e[1]):1,r=n.map(e=>e.replace(/ data-type="[^"]*"| data-number="[^"]*"/g,""));return t>1?'<ol style="padding-left: 2.5em;" start="'.concat(t,'">').concat(r.join(""),"</ol>"):'<ol style="padding-left: 2.5em;">'.concat(r.join(""),"</ol>")}if("bullet"===t){const e=n.map(e=>e.replace(/ data-type="[^"]*"/g,""));return'<ul style="padding-left: 2.5em;">'.concat(e.join(""),"</ul>")}return n.join("")}).join("\n")+"\n"}).split("\n\n").map(e=>{if(!(e=e.trim()))return"";if(e.match(/^<h[1-6]|<ul|<ol/))return e;if(e.match(/<ul|<ol/))return e;const t=e.replace(/\n(?!\n)(?!$)/g,"<br>").split("<br>").map(e=>e.trim()).filter(e=>e);return 1===t.length?"<div>".concat(t[0],"</div>"):"<div>".concat(t.join("<br>"),"</div>")}).filter(e=>e).join("\n").replace(/__SPAN_PRESERVE_(\d+)__/g,(e,n)=>t[parseInt(n)]||"").replace(/(<\/(?:ul|ol|h[1-6])>)\s*<br>/g,"$1").replace(/(<\/(?:ul|ol|h[1-6])>)\s*\n/g,"$1").replace(/\n{2,}/g,"\n").replace(/^\n+|\n+$/g,"");return n},f=(e,t,n)=>{const o="undefined"!==typeof window&&"undefined"!==typeof window.eel;(0,r.useEffect)(()=>{"undefined"!==typeof window&&(window.isDesktopMode=o)},[o]),(0,r.useEffect)(()=>{if(o){console.log("\ud83d\udd17 Initialisation du pont Eel..."),window.readMarkdown=function(){if(console.log("\ud83d\udcd6 Python demande le contenu Markdown"),!e)return"";if("markdown"===n||(e=>!!e&&[/^#{1,6}\s+/m,/\*\*[^*]+\*\*/,/\*[^*]+\*/,/^[-*]\s+/m,/^\d+\.\s+/m,/^[a-z]\.\s+/m,/!\[.*?\]\([^)]+\)/].some(t=>t.test(e)))(e))return console.log("\u2705 Contenu d\xe9j\xe0 en Markdown"),e;console.log("\ud83d\udd04 Conversion HTML \u2192 Markdown pour Python");return c(e)},window.writeMarkdown=function(e){if(console.log("\u270f\ufe0f Python injecte du contenu Markdown:",e.substring(0,50)+"..."),!t||"function"!==typeof t)return console.warn("\u26a0\ufe0f setContent non disponible"),!1;const r=(e=>{if(!e)return"";const t=[];let n=e;return n=n.replace(/\*\*([^*]+)\*\*/g,e=>{const n="__BOLD_".concat(t.length,"__");return t.push(e),n}),n=n.replace(/\*([^*\s][^*]*[^*\s])\*/g,e=>{const n="__ITALIC_".concat(t.length,"__");return t.push(e),n}),n=n.replace(/\*/g,""),n=n.replace(/\n{3,}/g,"\n\n"),n=n.trim(),n=n.replace(/__(?:BOLD|ITALIC)_(\d+)__/g,(e,n)=>t[parseInt(n)]||""),n})(e);console.log("\ud83e\uddf9 Nettoyage des ast\xe9risques isol\xe9s effectu\xe9");const o=document.activeElement;if(o&&o.blur&&o.blur(),"markdown"===n)return console.log("\u2705 Injection directe en vue Markdown"),t(r),setTimeout(()=>{const e=document.querySelector(".editor-content");e&&e.focus()},50),!0;console.log("\ud83d\udd04 Conversion Markdown \u2192 HTML pour vue",n);const a=d(r);return t(a),setTimeout(()=>{const e=document.querySelector(".editor-content");if(e&&"wysiwyg"===n){e.innerHTML=a,console.log("\ud83d\udd04 Mise \xe0 jour forc\xe9e du DOM WYSIWYG");const t=new Event("input",{bubbles:!0});e.dispatchEvent(t),e.focus()}else e&&e.focus()},100),!0};try{window.eel.expose(window.readMarkdown,"readMarkdown"),window.eel.expose(window.writeMarkdown,"writeMarkdown"),console.log("\u2705 Fonctions expos\xe9es \xe0 Python : readMarkdown, writeMarkdown")}catch(r){console.warn("\u26a0\ufe0f Erreur exposition Eel:",r)}}},[e,t,n]),(0,r.useEffect)(()=>()=>{"undefined"!==typeof window&&(delete window.readMarkdown,delete window.writeMarkdown)},[])};function p(e){return"undefined"===typeof e||null===e}var g={isNothing:p,isObject:function(e){return"object"===typeof e&&null!==e},toArray:function(e){return Array.isArray(e)?e:p(e)?[]:[e]},repeat:function(e,t){var n,r="";for(n=0;n<t;n+=1)r+=e;return r},isNegativeZero:function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},extend:function(e,t){var n,r,o,a;if(t)for(n=0,r=(a=Object.keys(t)).length;n<r;n+=1)e[o=a[n]]=t[o];return e}};function m(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+="\n\n"+e.mark.snippet),r+" "+n):r}function h(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=m(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}h.prototype=Object.create(Error.prototype),h.prototype.constructor=h,h.prototype.toString=function(e){return this.name+": "+m(this,e)};var y=h;function v(e,t,n,r,o){var a="",l="",i=Math.floor(o/2)-1;return r-t>i&&(t=r-i+(a=" ... ").length),n-r>i&&(n=r+i-(l=" ...").length),{str:a+e.slice(t,n).replace(/\t/g,"\u2192")+l,pos:r-t+a.length}}function b(e,t){return g.repeat(" ",t-e.length)+e}var w=function(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),"number"!==typeof t.indent&&(t.indent=1),"number"!==typeof t.linesBefore&&(t.linesBefore=3),"number"!==typeof t.linesAfter&&(t.linesAfter=2);for(var n,r=/\r?\n|\r|\0/g,o=[0],a=[],l=-1;n=r.exec(e.buffer);)a.push(n.index),o.push(n.index+n[0].length),e.position<=n.index&&l<0&&(l=o.length-2);l<0&&(l=o.length-1);var i,s,u="",c=Math.min(e.line+t.linesAfter,a.length).toString().length,d=t.maxLength-(t.indent+c+3);for(i=1;i<=t.linesBefore&&!(l-i<0);i++)s=v(e.buffer,o[l-i],a[l-i],e.position-(o[l]-o[l-i]),d),u=g.repeat(" ",t.indent)+b((e.line-i+1).toString(),c)+" | "+s.str+"\n"+u;for(s=v(e.buffer,o[l],a[l],e.position,d),u+=g.repeat(" ",t.indent)+b((e.line+1).toString(),c)+" | "+s.str+"\n",u+=g.repeat("-",t.indent+c+3+s.pos)+"^\n",i=1;i<=t.linesAfter&&!(l+i>=a.length);i++)s=v(e.buffer,o[l+i],a[l+i],e.position-(o[l]-o[l+i]),d),u+=g.repeat(" ",t.indent)+b((e.line+i+1).toString(),c)+" | "+s.str+"\n";return u.replace(/\n$/,"")},x=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],S=["scalar","sequence","mapping"];var k=function(e,t){if(t=t||{},Object.keys(t).forEach(function(t){if(-1===x.indexOf(t))throw new y('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=function(e){var t={};return null!==e&&Object.keys(e).forEach(function(n){e[n].forEach(function(e){t[String(e)]=n})}),t}(t.styleAliases||null),-1===S.indexOf(this.kind))throw new y('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')};function C(e,t){var n=[];return e[t].forEach(function(e){var t=n.length;n.forEach(function(n,r){n.tag===e.tag&&n.kind===e.kind&&n.multi===e.multi&&(t=r)}),n[t]=e}),n}function E(e){return this.extend(e)}E.prototype.extend=function(e){var t=[],n=[];if(e instanceof k)n.push(e);else if(Array.isArray(e))n=n.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new y("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit))}t.forEach(function(e){if(!(e instanceof k))throw new y("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new y("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new y("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(e){if(!(e instanceof k))throw new y("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(E.prototype);return r.implicit=(this.implicit||[]).concat(t),r.explicit=(this.explicit||[]).concat(n),r.compiledImplicit=C(r,"implicit"),r.compiledExplicit=C(r,"explicit"),r.compiledTypeMap=function(){var e,t,n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function r(e){e.multi?(n.multi[e.kind].push(e),n.multi.fallback.push(e)):n[e.kind][e.tag]=n.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(r);return n}(r.compiledImplicit,r.compiledExplicit),r};var N=E,I=new k("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}}),T=new k("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}}),L=new k("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}}),A=new N({explicit:[I,T,L]});var j=new k("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});var O=new k("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function _(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function M(e){return 48<=e&&e<=55}function P(e){return 48<=e&&e<=57}var z=new k("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n=e.length,r=0,o=!1;if(!n)return!1;if("-"!==(t=e[r])&&"+"!==t||(t=e[++r]),"0"===t){if(r+1===n)return!0;if("b"===(t=e[++r])){for(r++;r<n;r++)if("_"!==(t=e[r])){if("0"!==t&&"1"!==t)return!1;o=!0}return o&&"_"!==t}if("x"===t){for(r++;r<n;r++)if("_"!==(t=e[r])){if(!_(e.charCodeAt(r)))return!1;o=!0}return o&&"_"!==t}if("o"===t){for(r++;r<n;r++)if("_"!==(t=e[r])){if(!M(e.charCodeAt(r)))return!1;o=!0}return o&&"_"!==t}}if("_"===t)return!1;for(;r<n;r++)if("_"!==(t=e[r])){if(!P(e.charCodeAt(r)))return!1;o=!0}return!(!o||"_"===t)},construct:function(e){var t,n=e,r=1;if(-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),"-"!==(t=n[0])&&"+"!==t||("-"===t&&(r=-1),t=(n=n.slice(1))[0]),"0"===n)return 0;if("0"===t){if("b"===n[1])return r*parseInt(n.slice(2),2);if("x"===n[1])return r*parseInt(n.slice(2),16);if("o"===n[1])return r*parseInt(n.slice(2),8)}return r*parseInt(n,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1===0&&!g.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),R=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var D=/^[-+]?[0-9]+e/;var F=new k("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!R.test(e)||"_"===e[e.length-1])},construct:function(e){var t,n;return n="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:n*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!==0||g.isNegativeZero(e))},represent:function(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(g.isNegativeZero(e))return"-0.0";return n=e.toString(10),D.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"}),U=A.extend({implicit:[j,O,z,F]}),B=U,H=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),V=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");var W=new k("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==H.exec(e)||null!==V.exec(e))},construct:function(e){var t,n,r,o,a,l,i,s,u=0,c=null;if(null===(t=H.exec(e))&&(t=V.exec(e)),null===t)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,o=+t[3],!t[4])return new Date(Date.UTC(n,r,o));if(a=+t[4],l=+t[5],i=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(c=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(c=-c)),s=new Date(Date.UTC(n,r,o,a,l,i,u)),c&&s.setTime(s.getTime()-c),s},instanceOf:Date,represent:function(e){return e.toISOString()}});var $=new k("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}}),q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";var Q=new k("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,r=0,o=e.length,a=q;for(n=0;n<o;n++)if(!((t=a.indexOf(e.charAt(n)))>64)){if(t<0)return!1;r+=6}return r%8===0},construct:function(e){var t,n,r=e.replace(/[\r\n=]/g,""),o=r.length,a=q,l=0,i=[];for(t=0;t<o;t++)t%4===0&&t&&(i.push(l>>16&255),i.push(l>>8&255),i.push(255&l)),l=l<<6|a.indexOf(r.charAt(t));return 0===(n=o%4*6)?(i.push(l>>16&255),i.push(l>>8&255),i.push(255&l)):18===n?(i.push(l>>10&255),i.push(l>>2&255)):12===n&&i.push(l>>4&255),new Uint8Array(i)},predicate:function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},represent:function(e){var t,n,r="",o=0,a=e.length,l=q;for(t=0;t<a;t++)t%3===0&&t&&(r+=l[o>>18&63],r+=l[o>>12&63],r+=l[o>>6&63],r+=l[63&o]),o=(o<<8)+e[t];return 0===(n=a%3)?(r+=l[o>>18&63],r+=l[o>>12&63],r+=l[o>>6&63],r+=l[63&o]):2===n?(r+=l[o>>10&63],r+=l[o>>4&63],r+=l[o<<2&63],r+=l[64]):1===n&&(r+=l[o>>2&63],r+=l[o<<4&63],r+=l[64],r+=l[64]),r}}),Y=Object.prototype.hasOwnProperty,K=Object.prototype.toString;var G=new k("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,r,o,a,l=[],i=e;for(t=0,n=i.length;t<n;t+=1){if(r=i[t],a=!1,"[object Object]"!==K.call(r))return!1;for(o in r)if(Y.call(r,o)){if(a)return!1;a=!0}if(!a)return!1;if(-1!==l.indexOf(o))return!1;l.push(o)}return!0},construct:function(e){return null!==e?e:[]}}),X=Object.prototype.toString;var J=new k("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,r,o,a,l=e;for(a=new Array(l.length),t=0,n=l.length;t<n;t+=1){if(r=l[t],"[object Object]"!==X.call(r))return!1;if(1!==(o=Object.keys(r)).length)return!1;a[t]=[o[0],r[o[0]]]}return!0},construct:function(e){if(null===e)return[];var t,n,r,o,a,l=e;for(a=new Array(l.length),t=0,n=l.length;t<n;t+=1)r=l[t],o=Object.keys(r),a[t]=[o[0],r[o[0]]];return a}}),Z=Object.prototype.hasOwnProperty;var ee=new k("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,n=e;for(t in n)if(Z.call(n,t)&&null!==n[t])return!1;return!0},construct:function(e){return null!==e?e:{}}}),te=B.extend({implicit:[W,$],explicit:[Q,G,J,ee]}),ne=Object.prototype.hasOwnProperty,re=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,oe=/[\x85\u2028\u2029]/,ae=/[,\[\]\{\}]/,le=/^(?:!|!!|![a-z\-]+!)$/i,ie=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function se(e){return Object.prototype.toString.call(e)}function ue(e){return 10===e||13===e}function ce(e){return 9===e||32===e}function de(e){return 9===e||32===e||10===e||13===e}function fe(e){return 44===e||91===e||93===e||123===e||125===e}function pe(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function ge(e){return 120===e?2:117===e?4:85===e?8:0}function me(e){return 48<=e&&e<=57?e-48:-1}function he(e){return 48===e?"\0":97===e?"\x07":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"\x1b":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"\x85":95===e?"\xa0":76===e?"\u2028":80===e?"\u2029":""}function ye(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}function ve(e,t,n){"__proto__"===t?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:n}):e[t]=n}for(var be=new Array(256),we=new Array(256),xe=0;xe<256;xe++)be[xe]=he(xe)?1:0,we[xe]=he(xe);function Se(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||te,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function ke(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=w(n),new y(t,n)}function Ce(e,t){throw ke(e,t)}function Ee(e,t){e.onWarning&&e.onWarning.call(null,ke(e,t))}var Ne={YAML:function(e,t,n){var r,o,a;null!==e.version&&Ce(e,"duplication of %YAML directive"),1!==n.length&&Ce(e,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&Ce(e,"ill-formed argument of the YAML directive"),o=parseInt(r[1],10),a=parseInt(r[2],10),1!==o&&Ce(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=a<2,1!==a&&2!==a&&Ee(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var r,o;2!==n.length&&Ce(e,"TAG directive accepts exactly two arguments"),r=n[0],o=n[1],le.test(r)||Ce(e,"ill-formed tag handle (first argument) of the TAG directive"),ne.call(e.tagMap,r)&&Ce(e,'there is a previously declared suffix for "'+r+'" tag handle'),ie.test(o)||Ce(e,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch(a){Ce(e,"tag prefix is malformed: "+o)}e.tagMap[r]=o}};function Ie(e,t,n,r){var o,a,l,i;if(t<n){if(i=e.input.slice(t,n),r)for(o=0,a=i.length;o<a;o+=1)9===(l=i.charCodeAt(o))||32<=l&&l<=1114111||Ce(e,"expected valid JSON character");else re.test(i)&&Ce(e,"the stream contains non-printable characters");e.result+=i}}function Te(e,t,n,r){var o,a,l,i;for(g.isObject(n)||Ce(e,"cannot merge mappings; the provided source object is unacceptable"),l=0,i=(o=Object.keys(n)).length;l<i;l+=1)a=o[l],ne.call(t,a)||(ve(t,a,n[a]),r[a]=!0)}function Le(e,t,n,r,o,a,l,i,s){var u,c;if(Array.isArray(o))for(u=0,c=(o=Array.prototype.slice.call(o)).length;u<c;u+=1)Array.isArray(o[u])&&Ce(e,"nested arrays are not supported inside keys"),"object"===typeof o&&"[object Object]"===se(o[u])&&(o[u]="[object Object]");if("object"===typeof o&&"[object Object]"===se(o)&&(o="[object Object]"),o=String(o),null===t&&(t={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(a))for(u=0,c=a.length;u<c;u+=1)Te(e,t,a[u],n);else Te(e,t,a,n);else e.json||ne.call(n,o)||!ne.call(t,o)||(e.line=l||e.line,e.lineStart=i||e.lineStart,e.position=s||e.position,Ce(e,"duplicated mapping key")),ve(t,o,a),delete n[o];return t}function Ae(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):Ce(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function je(e,t,n){for(var r=0,o=e.input.charCodeAt(e.position);0!==o;){for(;ce(o);)9===o&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),o=e.input.charCodeAt(++e.position);if(t&&35===o)do{o=e.input.charCodeAt(++e.position)}while(10!==o&&13!==o&&0!==o);if(!ue(o))break;for(Ae(e),o=e.input.charCodeAt(e.position),r++,e.lineIndent=0;32===o;)e.lineIndent++,o=e.input.charCodeAt(++e.position)}return-1!==n&&0!==r&&e.lineIndent<n&&Ee(e,"deficient indentation"),r}function Oe(e){var t,n=e.position;return!(45!==(t=e.input.charCodeAt(n))&&46!==t||t!==e.input.charCodeAt(n+1)||t!==e.input.charCodeAt(n+2)||(n+=3,0!==(t=e.input.charCodeAt(n))&&!de(t)))}function _e(e,t){1===t?e.result+=" ":t>1&&(e.result+=g.repeat("\n",t-1))}function Me(e,t){var n,r,o=e.tag,a=e.anchor,l=[],i=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=l),r=e.input.charCodeAt(e.position);0!==r&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,Ce(e,"tab characters must not be used in indentation")),45===r)&&de(e.input.charCodeAt(e.position+1));)if(i=!0,e.position++,je(e,!0,-1)&&e.lineIndent<=t)l.push(null),r=e.input.charCodeAt(e.position);else if(n=e.line,Re(e,t,3,!1,!0),l.push(e.result),je(e,!0,-1),r=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==r)Ce(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!i&&(e.tag=o,e.anchor=a,e.kind="sequence",e.result=l,!0)}function Pe(e){var t,n,r,o,a=!1,l=!1;if(33!==(o=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&Ce(e,"duplication of a tag property"),60===(o=e.input.charCodeAt(++e.position))?(a=!0,o=e.input.charCodeAt(++e.position)):33===o?(l=!0,n="!!",o=e.input.charCodeAt(++e.position)):n="!",t=e.position,a){do{o=e.input.charCodeAt(++e.position)}while(0!==o&&62!==o);e.position<e.length?(r=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):Ce(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==o&&!de(o);)33===o&&(l?Ce(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),le.test(n)||Ce(e,"named tag handle cannot contain such characters"),l=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);r=e.input.slice(t,e.position),ae.test(r)&&Ce(e,"tag suffix cannot contain flow indicator characters")}r&&!ie.test(r)&&Ce(e,"tag name cannot contain such characters: "+r);try{r=decodeURIComponent(r)}catch(i){Ce(e,"tag name is malformed: "+r)}return a?e.tag=r:ne.call(e.tagMap,n)?e.tag=e.tagMap[n]+r:"!"===n?e.tag="!"+r:"!!"===n?e.tag="tag:yaml.org,2002:"+r:Ce(e,'undeclared tag handle "'+n+'"'),!0}function ze(e){var t,n;if(38!==(n=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&Ce(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!de(n)&&!fe(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Ce(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Re(e,t,n,r,o){var a,l,i,s,u,c,d,f,p,m=1,h=!1,y=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=l=i=4===n||3===n,r&&je(e,!0,-1)&&(h=!0,e.lineIndent>t?m=1:e.lineIndent===t?m=0:e.lineIndent<t&&(m=-1)),1===m)for(;Pe(e)||ze(e);)je(e,!0,-1)?(h=!0,i=a,e.lineIndent>t?m=1:e.lineIndent===t?m=0:e.lineIndent<t&&(m=-1)):i=!1;if(i&&(i=h||o),1!==m&&4!==n||(f=1===n||2===n?t:t+1,p=e.position-e.lineStart,1===m?i&&(Me(e,p)||function(e,t,n){var r,o,a,l,i,s,u,c=e.tag,d=e.anchor,f={},p=Object.create(null),g=null,m=null,h=null,y=!1,v=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=f),u=e.input.charCodeAt(e.position);0!==u;){if(y||-1===e.firstTabInLine||(e.position=e.firstTabInLine,Ce(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),a=e.line,63!==u&&58!==u||!de(r)){if(l=e.line,i=e.lineStart,s=e.position,!Re(e,n,2,!1,!0))break;if(e.line===a){for(u=e.input.charCodeAt(e.position);ce(u);)u=e.input.charCodeAt(++e.position);if(58===u)de(u=e.input.charCodeAt(++e.position))||Ce(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(Le(e,f,p,g,m,null,l,i,s),g=m=h=null),v=!0,y=!1,o=!1,g=e.tag,m=e.result;else{if(!v)return e.tag=c,e.anchor=d,!0;Ce(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!v)return e.tag=c,e.anchor=d,!0;Ce(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===u?(y&&(Le(e,f,p,g,m,null,l,i,s),g=m=h=null),v=!0,y=!0,o=!0):y?(y=!1,o=!0):Ce(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,u=r;if((e.line===a||e.lineIndent>t)&&(y&&(l=e.line,i=e.lineStart,s=e.position),Re(e,t,4,!0,o)&&(y?m=e.result:h=e.result),y||(Le(e,f,p,g,m,h,l,i,s),g=m=h=null),je(e,!0,-1),u=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&0!==u)Ce(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return y&&Le(e,f,p,g,m,null,l,i,s),v&&(e.tag=c,e.anchor=d,e.kind="mapping",e.result=f),v}(e,p,f))||function(e,t){var n,r,o,a,l,i,s,u,c,d,f,p,g=!0,m=e.tag,h=e.anchor,y=Object.create(null);if(91===(p=e.input.charCodeAt(e.position)))l=93,u=!1,a=[];else{if(123!==p)return!1;l=125,u=!0,a={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=a),p=e.input.charCodeAt(++e.position);0!==p;){if(je(e,!0,t),(p=e.input.charCodeAt(e.position))===l)return e.position++,e.tag=m,e.anchor=h,e.kind=u?"mapping":"sequence",e.result=a,!0;g?44===p&&Ce(e,"expected the node content, but found ','"):Ce(e,"missed comma between flow collection entries"),f=null,i=s=!1,63===p&&de(e.input.charCodeAt(e.position+1))&&(i=s=!0,e.position++,je(e,!0,t)),n=e.line,r=e.lineStart,o=e.position,Re(e,t,1,!1,!0),d=e.tag,c=e.result,je(e,!0,t),p=e.input.charCodeAt(e.position),!s&&e.line!==n||58!==p||(i=!0,p=e.input.charCodeAt(++e.position),je(e,!0,t),Re(e,t,1,!1,!0),f=e.result),u?Le(e,a,y,d,c,f,n,r,o):i?a.push(Le(e,null,y,d,c,f,n,r,o)):a.push(c),je(e,!0,t),44===(p=e.input.charCodeAt(e.position))?(g=!0,p=e.input.charCodeAt(++e.position)):g=!1}Ce(e,"unexpected end of the stream within a flow collection")}(e,f)?y=!0:(l&&function(e,t){var n,r,o,a,l=1,i=!1,s=!1,u=t,c=0,d=!1;if(124===(a=e.input.charCodeAt(e.position)))r=!1;else{if(62!==a)return!1;r=!0}for(e.kind="scalar",e.result="";0!==a;)if(43===(a=e.input.charCodeAt(++e.position))||45===a)1===l?l=43===a?3:2:Ce(e,"repeat of a chomping mode identifier");else{if(!((o=me(a))>=0))break;0===o?Ce(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?Ce(e,"repeat of an indentation width identifier"):(u=t+o-1,s=!0)}if(ce(a)){do{a=e.input.charCodeAt(++e.position)}while(ce(a));if(35===a)do{a=e.input.charCodeAt(++e.position)}while(!ue(a)&&0!==a)}for(;0!==a;){for(Ae(e),e.lineIndent=0,a=e.input.charCodeAt(e.position);(!s||e.lineIndent<u)&&32===a;)e.lineIndent++,a=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>u&&(u=e.lineIndent),ue(a))c++;else{if(e.lineIndent<u){3===l?e.result+=g.repeat("\n",i?1+c:c):1===l&&i&&(e.result+="\n");break}for(r?ce(a)?(d=!0,e.result+=g.repeat("\n",i?1+c:c)):d?(d=!1,e.result+=g.repeat("\n",c+1)):0===c?i&&(e.result+=" "):e.result+=g.repeat("\n",c):e.result+=g.repeat("\n",i?1+c:c),i=!0,s=!0,c=0,n=e.position;!ue(a)&&0!==a;)a=e.input.charCodeAt(++e.position);Ie(e,n,e.position,!1)}}return!0}(e,f)||function(e,t){var n,r,o;if(39!==(n=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=o=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(Ie(e,r,e.position,!0),39!==(n=e.input.charCodeAt(++e.position)))return!0;r=e.position,e.position++,o=e.position}else ue(n)?(Ie(e,r,o,!0),_e(e,je(e,!1,t)),r=o=e.position):e.position===e.lineStart&&Oe(e)?Ce(e,"unexpected end of the document within a single quoted scalar"):(e.position++,o=e.position);Ce(e,"unexpected end of the stream within a single quoted scalar")}(e,f)||function(e,t){var n,r,o,a,l,i;if(34!==(i=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;0!==(i=e.input.charCodeAt(e.position));){if(34===i)return Ie(e,n,e.position,!0),e.position++,!0;if(92===i){if(Ie(e,n,e.position,!0),ue(i=e.input.charCodeAt(++e.position)))je(e,!1,t);else if(i<256&&be[i])e.result+=we[i],e.position++;else if((l=ge(i))>0){for(o=l,a=0;o>0;o--)(l=pe(i=e.input.charCodeAt(++e.position)))>=0?a=(a<<4)+l:Ce(e,"expected hexadecimal character");e.result+=ye(a),e.position++}else Ce(e,"unknown escape sequence");n=r=e.position}else ue(i)?(Ie(e,n,r,!0),_e(e,je(e,!1,t)),n=r=e.position):e.position===e.lineStart&&Oe(e)?Ce(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}Ce(e,"unexpected end of the stream within a double quoted scalar")}(e,f)?y=!0:!function(e){var t,n,r;if(42!==(r=e.input.charCodeAt(e.position)))return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!de(r)&&!fe(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Ce(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),ne.call(e.anchorMap,n)||Ce(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],je(e,!0,-1),!0}(e)?function(e,t,n){var r,o,a,l,i,s,u,c,d=e.kind,f=e.result;if(de(c=e.input.charCodeAt(e.position))||fe(c)||35===c||38===c||42===c||33===c||124===c||62===c||39===c||34===c||37===c||64===c||96===c)return!1;if((63===c||45===c)&&(de(r=e.input.charCodeAt(e.position+1))||n&&fe(r)))return!1;for(e.kind="scalar",e.result="",o=a=e.position,l=!1;0!==c;){if(58===c){if(de(r=e.input.charCodeAt(e.position+1))||n&&fe(r))break}else if(35===c){if(de(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&Oe(e)||n&&fe(c))break;if(ue(c)){if(i=e.line,s=e.lineStart,u=e.lineIndent,je(e,!1,-1),e.lineIndent>=t){l=!0,c=e.input.charCodeAt(e.position);continue}e.position=a,e.line=i,e.lineStart=s,e.lineIndent=u;break}}l&&(Ie(e,o,a,!1),_e(e,e.line-i),o=a=e.position,l=!1),ce(c)||(a=e.position+1),c=e.input.charCodeAt(++e.position)}return Ie(e,o,a,!1),!!e.result||(e.kind=d,e.result=f,!1)}(e,f,1===n)&&(y=!0,null===e.tag&&(e.tag="?")):(y=!0,null===e.tag&&null===e.anchor||Ce(e,"alias node should not have any properties")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===m&&(y=i&&Me(e,p))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&Ce(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),s=0,u=e.implicitTypes.length;s<u;s+=1)if((d=e.implicitTypes[s]).resolve(e.result)){e.result=d.construct(e.result),e.tag=d.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if("!"!==e.tag){if(ne.call(e.typeMap[e.kind||"fallback"],e.tag))d=e.typeMap[e.kind||"fallback"][e.tag];else for(d=null,s=0,u=(c=e.typeMap.multi[e.kind||"fallback"]).length;s<u;s+=1)if(e.tag.slice(0,c[s].tag.length)===c[s].tag){d=c[s];break}d||Ce(e,"unknown tag !<"+e.tag+">"),null!==e.result&&d.kind!==e.kind&&Ce(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+d.kind+'", not "'+e.kind+'"'),d.resolve(e.result,e.tag)?(e.result=d.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):Ce(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||y}function De(e){var t,n,r,o,a=e.position,l=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(o=e.input.charCodeAt(e.position))&&(je(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==o));){for(l=!0,o=e.input.charCodeAt(++e.position),t=e.position;0!==o&&!de(o);)o=e.input.charCodeAt(++e.position);for(r=[],(n=e.input.slice(t,e.position)).length<1&&Ce(e,"directive name must not be less than one character in length");0!==o;){for(;ce(o);)o=e.input.charCodeAt(++e.position);if(35===o){do{o=e.input.charCodeAt(++e.position)}while(0!==o&&!ue(o));break}if(ue(o))break;for(t=e.position;0!==o&&!de(o);)o=e.input.charCodeAt(++e.position);r.push(e.input.slice(t,e.position))}0!==o&&Ae(e),ne.call(Ne,n)?Ne[n](e,n,r):Ee(e,'unknown document directive "'+n+'"')}je(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,je(e,!0,-1)):l&&Ce(e,"directives end mark is expected"),Re(e,e.lineIndent-1,4,!1,!0),je(e,!0,-1),e.checkLineBreaks&&oe.test(e.input.slice(a,e.position))&&Ee(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Oe(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,je(e,!0,-1)):e.position<e.length-1&&Ce(e,"end of the stream or a document separator is expected")}function Fe(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new Se(e,t),r=e.indexOf("\0");for(-1!==r&&(n.position=r,Ce(n,"null byte is not allowed in input")),n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)De(n);return n.documents}var Ue={loadAll:function(e,t,n){null!==t&&"object"===typeof t&&"undefined"===typeof n&&(n=t,t=null);var r=Fe(e,n);if("function"!==typeof t)return r;for(var o=0,a=r.length;o<a;o+=1)t(r[o])},load:function(e,t){var n=Fe(e,t);if(0!==n.length){if(1===n.length)return n[0];throw new y("expected a single document in the stream, but found more")}}},Be=Object.prototype.toString,He=Object.prototype.hasOwnProperty,Ve=65279,We={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},$e=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],qe=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Qe(e){var t,n,r;if(t=e.toString(16).toUpperCase(),e<=255)n="x",r=2;else if(e<=65535)n="u",r=4;else{if(!(e<=4294967295))throw new y("code point within a string may not be greater than 0xFFFFFFFF");n="U",r=8}return"\\"+n+g.repeat("0",r-t.length)+t}function Ye(e){this.schema=e.schema||te,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=g.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var n,r,o,a,l,i,s;if(null===t)return{};for(n={},o=0,a=(r=Object.keys(t)).length;o<a;o+=1)l=r[o],i=String(t[l]),"!!"===l.slice(0,2)&&(l="tag:yaml.org,2002:"+l.slice(2)),(s=e.compiledTypeMap.fallback[l])&&He.call(s.styleAliases,i)&&(i=s.styleAliases[i]),n[l]=i;return n}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType='"'===e.quotingType?2:1,this.forceQuotes=e.forceQuotes||!1,this.replacer="function"===typeof e.replacer?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Ke(e,t){for(var n,r=g.repeat(" ",t),o=0,a=-1,l="",i=e.length;o<i;)-1===(a=e.indexOf("\n",o))?(n=e.slice(o),o=i):(n=e.slice(o,a+1),o=a+1),n.length&&"\n"!==n&&(l+=r),l+=n;return l}function Ge(e,t){return"\n"+g.repeat(" ",e.indent*t)}function Xe(e){return 32===e||9===e}function Je(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&e!==Ve||65536<=e&&e<=1114111}function Ze(e){return Je(e)&&e!==Ve&&13!==e&&10!==e}function et(e,t,n){var r=Ze(e),o=r&&!Xe(e);return(n?r:r&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e)&&35!==e&&!(58===t&&!o)||Ze(t)&&!Xe(t)&&35===e||58===t&&o}function tt(e,t){var n,r=e.charCodeAt(t);return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(r-55296)+n-56320+65536:r}function nt(e){return/^\n* /.test(e)}function rt(e,t,n,r,o,a,l,i){var s,u,c=0,d=null,f=!1,p=!1,g=-1!==r,m=-1,h=Je(u=tt(e,0))&&u!==Ve&&!Xe(u)&&45!==u&&63!==u&&58!==u&&44!==u&&91!==u&&93!==u&&123!==u&&125!==u&&35!==u&&38!==u&&42!==u&&33!==u&&124!==u&&61!==u&&62!==u&&39!==u&&34!==u&&37!==u&&64!==u&&96!==u&&function(e){return!Xe(e)&&58!==e}(tt(e,e.length-1));if(t||l)for(s=0;s<e.length;c>=65536?s+=2:s++){if(!Je(c=tt(e,s)))return 5;h=h&&et(c,d,i),d=c}else{for(s=0;s<e.length;c>=65536?s+=2:s++){if(10===(c=tt(e,s)))f=!0,g&&(p=p||s-m-1>r&&" "!==e[m+1],m=s);else if(!Je(c))return 5;h=h&&et(c,d,i),d=c}p=p||g&&s-m-1>r&&" "!==e[m+1]}return f||p?n>9&&nt(e)?5:l?2===a?5:2:p?4:3:!h||l||o(e)?2===a?5:2:1}function ot(e,t,n,r,o){e.dump=function(){if(0===t.length)return 2===e.quotingType?'""':"''";if(!e.noCompatMode&&(-1!==$e.indexOf(t)||qe.test(t)))return 2===e.quotingType?'"'+t+'"':"'"+t+"'";var a=e.indent*Math.max(1,n),l=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-a),i=r||e.flowLevel>-1&&n>=e.flowLevel;switch(rt(t,i,e.indent,l,function(t){return function(e,t){var n,r;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(e.implicitTypes[n].resolve(t))return!0;return!1}(e,t)},e.quotingType,e.forceQuotes&&!r,o)){case 1:return t;case 2:return"'"+t.replace(/'/g,"''")+"'";case 3:return"|"+at(t,e.indent)+lt(Ke(t,a));case 4:return">"+at(t,e.indent)+lt(Ke(function(e,t){var n,r,o=/(\n+)([^\n]*)/g,a=function(){var n=e.indexOf("\n");return n=-1!==n?n:e.length,o.lastIndex=n,it(e.slice(0,n),t)}(),l="\n"===e[0]||" "===e[0];for(;r=o.exec(e);){var i=r[1],s=r[2];n=" "===s[0],a+=i+(l||n||""===s?"":"\n")+it(s,t),l=n}return a}(t,l),a));case 5:return'"'+function(e){for(var t,n="",r=0,o=0;o<e.length;r>=65536?o+=2:o++)r=tt(e,o),!(t=We[r])&&Je(r)?(n+=e[o],r>=65536&&(n+=e[o+1])):n+=t||Qe(r);return n}(t)+'"';default:throw new y("impossible error: invalid scalar style")}}()}function at(e,t){var n=nt(e)?String(t):"",r="\n"===e[e.length-1];return n+(r&&("\n"===e[e.length-2]||"\n"===e)?"+":r?"":"-")+"\n"}function lt(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function it(e,t){if(""===e||" "===e[0])return e;for(var n,r,o=/ [^ ]/g,a=0,l=0,i=0,s="";n=o.exec(e);)(i=n.index)-a>t&&(r=l>a?l:i,s+="\n"+e.slice(a,r),a=r+1),l=i;return s+="\n",e.length-a>t&&l>a?s+=e.slice(a,l)+"\n"+e.slice(l+1):s+=e.slice(a),s.slice(1)}function st(e,t,n,r){var o,a,l,i="",s=e.tag;for(o=0,a=n.length;o<a;o+=1)l=n[o],e.replacer&&(l=e.replacer.call(n,String(o),l)),(ct(e,t+1,l,!0,!0,!1,!0)||"undefined"===typeof l&&ct(e,t+1,null,!0,!0,!1,!0))&&(r&&""===i||(i+=Ge(e,t)),e.dump&&10===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}function ut(e,t,n){var r,o,a,l,i,s;for(a=0,l=(o=n?e.explicitTypes:e.implicitTypes).length;a<l;a+=1)if(((i=o[a]).instanceOf||i.predicate)&&(!i.instanceOf||"object"===typeof t&&t instanceof i.instanceOf)&&(!i.predicate||i.predicate(t))){if(n?i.multi&&i.representName?e.tag=i.representName(t):e.tag=i.tag:e.tag="?",i.represent){if(s=e.styleMap[i.tag]||i.defaultStyle,"[object Function]"===Be.call(i.represent))r=i.represent(t,s);else{if(!He.call(i.represent,s))throw new y("!<"+i.tag+'> tag resolver accepts not "'+s+'" style');r=i.represent[s](t,s)}e.dump=r}return!0}return!1}function ct(e,t,n,r,o,a,l){e.tag=null,e.dump=n,ut(e,n,!1)||ut(e,n,!0);var i,s=Be.call(e.dump),u=r;r&&(r=e.flowLevel<0||e.flowLevel>t);var c,d,f="[object Object]"===s||"[object Array]"===s;if(f&&(d=-1!==(c=e.duplicates.indexOf(n))),(null!==e.tag&&"?"!==e.tag||d||2!==e.indent&&t>0)&&(o=!1),d&&e.usedDuplicates[c])e.dump="*ref_"+c;else{if(f&&d&&!e.usedDuplicates[c]&&(e.usedDuplicates[c]=!0),"[object Object]"===s)r&&0!==Object.keys(e.dump).length?(!function(e,t,n,r){var o,a,l,i,s,u,c="",d=e.tag,f=Object.keys(n);if(!0===e.sortKeys)f.sort();else if("function"===typeof e.sortKeys)f.sort(e.sortKeys);else if(e.sortKeys)throw new y("sortKeys must be a boolean or a function");for(o=0,a=f.length;o<a;o+=1)u="",r&&""===c||(u+=Ge(e,t)),i=n[l=f[o]],e.replacer&&(i=e.replacer.call(n,l,i)),ct(e,t+1,l,!0,!0,!0)&&((s=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&10===e.dump.charCodeAt(0)?u+="?":u+="? "),u+=e.dump,s&&(u+=Ge(e,t)),ct(e,t+1,i,!0,s)&&(e.dump&&10===e.dump.charCodeAt(0)?u+=":":u+=": ",c+=u+=e.dump));e.tag=d,e.dump=c||"{}"}(e,t,e.dump,o),d&&(e.dump="&ref_"+c+e.dump)):(!function(e,t,n){var r,o,a,l,i,s="",u=e.tag,c=Object.keys(n);for(r=0,o=c.length;r<o;r+=1)i="",""!==s&&(i+=", "),e.condenseFlow&&(i+='"'),l=n[a=c[r]],e.replacer&&(l=e.replacer.call(n,a,l)),ct(e,t,a,!1,!1)&&(e.dump.length>1024&&(i+="? "),i+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),ct(e,t,l,!1,!1)&&(s+=i+=e.dump));e.tag=u,e.dump="{"+s+"}"}(e,t,e.dump),d&&(e.dump="&ref_"+c+" "+e.dump));else if("[object Array]"===s)r&&0!==e.dump.length?(e.noArrayIndent&&!l&&t>0?st(e,t-1,e.dump,o):st(e,t,e.dump,o),d&&(e.dump="&ref_"+c+e.dump)):(!function(e,t,n){var r,o,a,l="",i=e.tag;for(r=0,o=n.length;r<o;r+=1)a=n[r],e.replacer&&(a=e.replacer.call(n,String(r),a)),(ct(e,t,a,!1,!1)||"undefined"===typeof a&&ct(e,t,null,!1,!1))&&(""!==l&&(l+=","+(e.condenseFlow?"":" ")),l+=e.dump);e.tag=i,e.dump="["+l+"]"}(e,t,e.dump),d&&(e.dump="&ref_"+c+" "+e.dump));else{if("[object String]"!==s){if("[object Undefined]"===s)return!1;if(e.skipInvalid)return!1;throw new y("unacceptable kind of an object to dump "+s)}"?"!==e.tag&&ot(e,e.dump,t,a,u)}null!==e.tag&&"?"!==e.tag&&(i=encodeURI("!"===e.tag[0]?e.tag.slice(1):e.tag).replace(/!/g,"%21"),i="!"===e.tag[0]?"!"+i:"tag:yaml.org,2002:"===i.slice(0,18)?"!!"+i.slice(18):"!<"+i+">",e.dump=i+" "+e.dump)}return!0}function dt(e,t){var n,r,o=[],a=[];for(ft(e,o,a),n=0,r=a.length;n<r;n+=1)t.duplicates.push(o[a[n]]);t.usedDuplicates=new Array(r)}function ft(e,t,n){var r,o,a;if(null!==e&&"object"===typeof e)if(-1!==(o=t.indexOf(e)))-1===n.indexOf(o)&&n.push(o);else if(t.push(e),Array.isArray(e))for(o=0,a=e.length;o<a;o+=1)ft(e[o],t,n);else for(o=0,a=(r=Object.keys(e)).length;o<a;o+=1)ft(e[r[o]],t,n)}function pt(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var gt={Type:k,Schema:N,FAILSAFE_SCHEMA:A,JSON_SCHEMA:U,CORE_SCHEMA:B,DEFAULT_SCHEMA:te,load:Ue.load,loadAll:Ue.loadAll,dump:{dump:function(e,t){var n=new Ye(t=t||{});n.noRefs||dt(e,n);var r=e;return n.replacer&&(r=n.replacer.call({"":r},"",r)),ct(n,0,r,!0,!0)?n.dump+"\n":""}}.dump,YAMLException:y,types:{binary:Q,float:F,map:L,null:j,pairs:J,set:ee,timestamp:W,bool:O,int:z,merge:$,omap:G,seq:T,str:I},safeLoad:pt("safeLoad","load"),safeLoadAll:pt("safeLoadAll","loadAll"),safeDump:pt("safeDump","dump")};const mt="promptodys_config",ht={developer_mode:!1};const yt=new class{constructor(){this.config=u({},ht),this.listeners=[]}async loadConfig(){console.log("[ConfigManager] \ud83d\udd04 Chargement de la configuration...");const e=this.loadFromLocalStorage();if(e)console.log("[ConfigManager] \u2705 Configuration charg\xe9e depuis localStorage:",e),this.config=e;else try{const e=await this.loadFromYAML();e?(console.log("[ConfigManager] \u2705 Configuration charg\xe9e depuis YAML:",e),this.config=e):(console.log("[ConfigManager] \ud83d\udccb Utilisation de la configuration par d\xe9faut:",ht),this.config=u({},ht))}catch(t){console.warn("[ConfigManager] \u26a0\ufe0f Erreur lors du chargement du fichier YAML:",t),this.config=u({},ht)}return console.log("[ConfigManager] \ud83d\udee0\ufe0f For\xe7age du developer_mode \xe0 false pour le d\xe9marrage"),this.config.developer_mode=!1,this.saveToLocalStorage(this.config),this.config}loadFromLocalStorage(){try{const e=localStorage.getItem(mt);if(e)return JSON.parse(e)}catch(e){console.error("[ConfigManager] \u274c Erreur lors de la lecture de localStorage:",e)}return null}async loadFromYAML(){try{const e=await fetch("/config.yaml");if(!e.ok)throw new Error("HTTP ".concat(e.status));const t=await e.text();return gt.load(t)}catch(e){return console.warn("[ConfigManager] \u26a0\ufe0f Impossible de charger config.yaml:",e.message),null}}saveToLocalStorage(e){try{localStorage.setItem(mt,JSON.stringify(e)),console.log("[ConfigManager] \ud83d\udcbe Configuration sauvegard\xe9e dans localStorage")}catch(t){console.error("[ConfigManager] \u274c Erreur lors de la sauvegarde dans localStorage:",t)}}set(e,t){console.log("[ConfigManager] \ud83d\udd27 Mise \xe0 jour: ".concat(e," = ").concat(t)),this.config[e]=t,this.saveToLocalStorage(this.config),this.notifyListeners()}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return void 0!==this.config[e]?this.config[e]:t}getAll(){return u({},this.config)}reset(){console.log("[ConfigManager] \ud83d\udd04 R\xe9initialisation de la configuration..."),this.config=u({},ht),this.saveToLocalStorage(this.config),this.notifyListeners()}addListener(e){this.listeners.push(e)}removeListener(e){this.listeners=this.listeners.filter(t=>t!==e)}notifyListeners(){this.listeners.forEach(e=>{try{e(this.config)}catch(t){console.error("[ConfigManager] \u274c Erreur dans un listener:",t)}})}};const vt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[t,n]=(0,r.useState)(!1),[o,a]=(0,r.useState)(!1),[l,i]=(0,r.useState)(!1),[s,u]=(0,r.useState)([]),c=(0,r.useRef)(e);(0,r.useEffect)(()=>{c.current=e},[e]);const{pitch:d=1,rate:f=1,volume:p=1,voiceName:g=null}=c.current,m=(0,r.useRef)(null),h=(0,r.useRef)(window.speechSynthesis),y=(0,r.useRef)(0),v=(0,r.useRef)("");(0,r.useEffect)(()=>{if("undefined"!==typeof window&&window.speechSynthesis){i(!0);const e=()=>{const e=window.speechSynthesis.getVoices();u(e)};e(),void 0!==window.speechSynthesis.onvoiceschanged&&(window.speechSynthesis.onvoiceschanged=e)}},[]),(0,r.useEffect)(()=>{if(t&&!o&&v.current){const e=y.current;h.current.cancel(),setTimeout(()=>{k(v.current,e)},50)}},[e.voiceName,e.rate,e.pitch]);const b=(0,r.useCallback)(()=>{n(!1),a(!1),y.current=0},[]),w=(0,r.useCallback)(()=>{l&&(h.current.cancel(),n(!1),a(!1))},[l]),x=(0,r.useCallback)(()=>{l&&(h.current.pause(),a(!0))},[l]),S=(0,r.useCallback)(()=>{l&&(h.current.resume(),a(!1))},[l]),k=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!l||!e)return;v.current=e,w();const r=c.current,{pitch:o=1,rate:i=1,volume:u=1,voiceName:d=null}=r,f=t>0?e.substring(t):e,p=new SpeechSynthesisUtterance(f);if(m.current=p,p.pitch=o,p.rate=i,p.volume=u,d&&s.length>0){const e=s.find(e=>e.name===d);e&&(p.voice=e)}else{const e=s.find(e=>e.lang.startsWith("fr"));e&&(p.voice=e)}p.onstart=()=>{n(!0),a(!1)},p.onboundary=e=>{y.current=t+e.charIndex},p.onend=b,p.onerror=e=>{console.error("Erreur TTS:",e),b()},h.current.speak(p)},[l,w,s,b]);return(0,r.useEffect)(()=>()=>{t&&w()},[w,t]),{isSupported:l,isSpeaking:t,isPaused:o,speak:k,pause:x,resume:S,cancel:w,voices:s}};function bt(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function wt(e,t){let n;return(r,o)=>(()=>{if(n)return n;const r=indexedDB.open(e);return r.onupgradeneeded=()=>r.result.createObjectStore(t),n=bt(r),n.then(e=>{e.onclose=()=>n=void 0},()=>{}),n})().then(e=>o(e.transaction(t,r).objectStore(t)))}let xt;function St(){return xt||(xt=wt("keyval-store","keyval")),xt}const kt=async(e,t)=>{console.log("\ud83d\udd04 [ImageStore] D\xe9but sauvegarde image:",t.name||"blob","(".concat(Math.round(t.size/1024),"KB)")),console.log("\ud83c\udd94 [ImageStore] Utilisation ID fourni:",e);try{return await function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:St())("readwrite",n=>(n.put(t,e),bt(n.transaction)))}(e,t),console.log("\u2705 [ImageStore] Image sauvegard\xe9e en IndexedDB:",e),console.log("\ud83d\udcca [ImageStore] D\xe9tails:",{imageId:e,fileName:t.name||"unnamed",fileSize:"".concat(Math.round(t.size/1024),"KB"),fileType:t.type}),e}catch(n){throw console.error("\u274c [ImageStore] Erreur sauvegarde:",n),new Error("\xc9chec sauvegarde image: ".concat(n.message))}},Ct=async e=>{console.log("\ud83d\udd0d [ImageStore] Chargement image:",e);try{const t=await function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:St())("readonly",t=>bt(t.get(e)))}(e);if(!t)return console.warn("\u26a0\ufe0f [ImageStore] Image non trouv\xe9e en IndexedDB:",e),null;console.log("\ud83d\udce6 [ImageStore] Blob r\xe9cup\xe9r\xe9:",{imageId:e,blobSize:"".concat(Math.round(t.size/1024),"KB"),blobType:t.type});const n=URL.createObjectURL(t);return console.log("\ud83d\udd17 [ImageStore] Object URL cr\xe9\xe9e:",n),n}catch(t){return console.error("\u274c [ImageStore] Erreur chargement:",t),null}};console.log("\ud83d\ude80 [ImageStore] Module initialis\xe9 avec idb-keyval");var Et=n(579);const Nt=e=>{let{content:t,setContent:n,viewMode:o,onViewModeChange:a,currentFormat:l,onFormatChange:i,editorRef:s,onThemeSettingsToggle:f,onConfigModalToggle:p,developerMode:g=!1,ignoreSelectionChangeRef:m,selectedImage:h,storeBlobForUrl:y,getBlobFromUrl:v,getAllBlobs:b,restoreSelection:w,saveSelection:x}=e;const[S,k]=(0,r.useState)(!1),[C,E]=(0,r.useState)("MonDocument"),[N,I]=(0,r.useState)(!1),[T,L]=(0,r.useState)(!1),[A,j]=(0,r.useState)(!1),[O,_]=(0,r.useState)(!1),[M,P]=(0,r.useState)(!1),[z,R]=(0,r.useState)(!1),[D,F]=(0,r.useState)(""),U={backgroundColor:"var(--dys-text-color)",color:"var(--dys-bg-color)",border:"2px solid var(--dys-text-color)",fontWeight:"bold"},B={backgroundColor:"var(--dys-bg-color)",color:"var(--dys-text-color)",border:"1px solid var(--dys-text-color)"},H={backgroundColor:"#e0e0e0",color:"#999",border:"1px solid #ccc",cursor:"not-allowed",opacity:.6},V=!!h,W=()=>"showDirectoryPicker"in window&&"showOpenFilePicker"in window,$=(e,t)=>{const n=new Date,r=n.getFullYear().toString()+String(n.getMonth()+1).padStart(2,"0")+String(n.getDate()).padStart(2,"0")+"_"+String(n.getHours()).padStart(2,"0")+String(n.getMinutes()).padStart(2,"0")+String(n.getSeconds()).padStart(2,"0"),o=e.replace(/\.[^/.]+$/,"")||"image";return"".concat(o,"_").concat(r,".").concat(t)},q=async e=>{try{let t;if(e.startsWith("blob:")&&v){const n=v(e);if(n)t=n;else{const n=await fetch(e);t=await n.blob()}}else{const n=await fetch(e);t=await n.blob()}return new Promise(e=>{const n=new FileReader;n.onload=()=>e(n.result),n.readAsDataURL(t)})}catch(t){return console.error("Erreur conversion image base64:",t),e}},Q=e=>{console.log("\ud83d\udd0d [MHTML Parser] Analyse du contenu MHTML...");const t=e.split("\n");let n=!1,r=[],o=!1;for(let l=0;l<t.length;l++){const e=t[l];if(e.toLowerCase().includes("content-type: text/html"))console.log("\ud83d\udccd [MHTML Parser] Partie HTML trouv\xe9e \xe0 la ligne",l),n=!0,o=!0;else if(e.startsWith("------")||e.startsWith("--")&&e.length>10){if(n){console.log("\ud83d\udccd [MHTML Parser] Fin de partie HTML \xe0 la ligne",l);break}n=!1}else if(n&&o){if(""===e.trim()&&0===r.length)continue;(r.length>0||""!==e.trim())&&r.push(e)}}const a=r.join("\n").trim();return console.log("\ud83d\udcc4 [MHTML Parser] HTML extrait, longueur:",a.length),a},Y=e=>{console.log("\ud83d\udd0d [HTML Parser] Analyse du contenu HTML standard...");const t=e.match(/<body[^>]*>([\s\S]*?)<\/body>/i);return t?(console.log("\ud83d\udccd [HTML Parser] Contenu <body> trouv\xe9"),t[1].trim()):(console.log("\ud83d\udccd [HTML Parser] Pas de <body>, utilisation du contenu complet"),e.trim())},K=e=>(console.log("\ud83e\uddf9 [HTML Import] Nettoyage du HTML import\xe9..."),e.replace(/<script[^>]*>[\s\S]*?<\/script>/gi,"").replace(/<style[^>]*>[\s\S]*?<\/style>/gi,"").replace(/\s*(?:class|id|style)="[^"]*"/gi,"").replace(/\s*on\w+="[^"]*"/gi,"").replace(/\s+/g," ").replace(/>\s+</g,"><").trim()),G=async e=>{try{var n;I(!0),console.log("\ud83d\udcbe [SAVE] D\xe9but du processus de sauvegarde...");const r=(null===(n=s.current)||void 0===n?void 0:n.innerHTML)||t;console.log("\ud83d\udcbe [SAVE] HTML r\xe9cup\xe9r\xe9, longueur:",r.length),console.log("\ud83d\udd0d [SAVE] \xc9tape 1 - Validation pr\xe9-sauvegarde...");const o=(e=>{console.log("\ud83d\udd0d [VALIDATION] D\xe9but validation des images avant sauvegarde...");const t=(new DOMParser).parseFromString(e,"text/html"),n=t.querySelectorAll('img[src^="blob:"]'),r=Array.from(n).filter(e=>!e.hasAttribute("data-image-id")),o=t.querySelectorAll("img[data-image-id]");if(console.log("\ud83d\udd0d [VALIDATION] Images blob temporaires (sans data-image-id):",r.length),console.log("\ud83d\udd0d [VALIDATION] Images persistantes (avec data-image-id):",o.length),console.log("\ud83d\udd0d [VALIDATION] Total images blob:",n.length),0===r.length)return console.log("\u2705 [VALIDATION] Aucune image blob temporaire \xe0 valider"),console.log("\u2705 [VALIDATION] Images persistantes OK, sauvegarde autoris\xe9e"),{valid:!0,missingBlobs:[],totalImages:r.length+o.length};const a=b?b():new Map,l=Array.from(a.keys());console.log("\ud83d\udd0d [VALIDATION] Blobs temporaires en m\xe9moire:",l.length),console.log("\ud83d\udd0d [VALIDATION] URLs temporaires stock\xe9es:",l);const i=[];r.forEach((e,t)=>{const n=e.src;if(a.has(n)){const e=a.get(n);console.log("\u2705 [VALIDATION] Blob temporaire trouv\xe9 pour image ".concat(t+1,":"),null===e||void 0===e?void 0:e.name,"(".concat(null===e||void 0===e?void 0:e.size," bytes)"))}else console.log("\u274c [VALIDATION] Blob temporaire MANQUANT pour image ".concat(t+1,":"),n),i.push({index:t+1,url:n,alt:e.alt||"image sans nom"})});const s=0===i.length;return s?(console.log("\u2705 [VALIDATION] Validation r\xe9ussie - toutes les images sont disponibles"),console.log("\u2705 [VALIDATION] Total: ".concat(r.length," blob temporaires + ").concat(o.length," persistantes"))):(console.log("\u274c [VALIDATION] Validation \xe9chou\xe9e - ".concat(i.length,"/").concat(r.length," image(s) blob temporaire(s) manquante(s)")),console.log("\u274c [VALIDATION] Images manquantes d\xe9tail:",i)),{valid:s,missingBlobs:i,totalImages:r.length+o.length}})(r);if(!o.valid){console.log("\u274c [SAVE] Sauvegarde bloqu\xe9e - images manquantes d\xe9tect\xe9es");const e=o.missingBlobs.length,t=o.totalImages;let n="\u274c Impossible de sauvegarder le document\n\n";return n+="".concat(e," image(s) sur ").concat(t," ne sont pas disponibles en m\xe9moire.\n\n"),n+="Images concern\xe9es :\n",o.missingBlobs.forEach(e=>{n+="\u2022 Image ".concat(e.index,': "').concat(e.alt,'"\n')}),n+="\nVeuillez :\n",n+="1. R\xe9ins\xe9rer les images manquantes\n",n+="2. Ou supprimer les images corrompues\n",n+="3. Puis r\xe9essayer la sauvegarde",alert(n),void I(!1)}console.log("\u2705 [SAVE] Validation r\xe9ussie - poursuite de la sauvegarde"),console.log("\ud83d\udcbe [SAVE] \xc9tape 2 - S\xe9lection du dossier de destination...");const a=await window.showDirectoryPicker({mode:"readwrite"}),l=await(async(e,t)=>{let n=t,r=1;for(;;)try{await e.getDirectoryHandle(n),n="".concat(t," (").concat(r,")"),r++}catch(o){break}return n})(a,e.trim()),i=await a.getDirectoryHandle(l,{create:!0});console.log("\ud83d\udcbe [SAVE] \xc9tape 3 - Extraction et sauvegarde des images...");const u=await(async(e,t)=>{console.log("\ud83d\udd0d extractAndSaveImages appel\xe9e avec HTML:",e.substring(0,200)+"...");const n=(new DOMParser).parseFromString(e,"text/html"),r=n.querySelectorAll('img[src^="blob:"]');if(console.log("\ud83d\udd0d Nombre d'images trouv\xe9es:",r.length),r.forEach((e,t)=>{console.log("\ud83d\udd0d Image ".concat(t+1,":"),e.src,"|",e.alt)}),0===r.length)return console.log("\u274c Aucune image trouv\xe9e - HTML:",e),e;const o=await t.getDirectoryHandle("images",{create:!0});for(const l of r){const e=l.src,t=l.alt||"image";try{let n;if(e.startsWith("blob:")&&v){const t=v(e);if(t)console.log("\u2705 Blob trouv\xe9 en m\xe9moire pour:",e,"Name:",null===t||void 0===t?void 0:t.name,"Size:",null===t||void 0===t?void 0:t.size),n=t;else{console.log("\u26a0\ufe0f Blob non trouv\xe9 en m\xe9moire pour:",e),console.log("\ud83d\udcca Blobs disponibles en m\xe9moire:",b?b().size:"getAllBlobs non disponible"),b&&console.log("\ud83d\udd0d URLs des blobs stock\xe9s:",Array.from(b().keys())),console.log("\ud83d\udd04 Tentative de fetch:",e);const t=await fetch(e);n=await t.blob()}}else{const t=await fetch(e);n=await t.blob()}if(!n){console.error("\u274c Impossible de r\xe9cup\xe9rer l'image:",e);continue}const r=(n.type||"image/png").split("/")[1]||"png",a=$(t||"image",r),i=await o.getFileHandle(a,{create:!0}),s=await i.createWritable();await s.write(n),await s.close(),l.src="./images/".concat(a),console.log("\u2705 Image sauvegard\xe9e:",a)}catch(a){console.error("\u274c Erreur sauvegarde image:",a)}}return n.body.innerHTML})(r,i),d=c(u),f="".concat(l,".md"),p=await i.getFileHandle(f,{create:!0}),g=await p.createWritable();await g.write(d),await g.close();const m=(u.match(/src=["']\.\/images\/[^"']+["']/g)||[]).length,h=m>0?"\u2705 Document sauvegard\xe9 avec succ\xe8s :\n".concat(f," + ").concat(m," image(s) dans ").concat(l,"/"):"\u2705 Document sauvegard\xe9 avec succ\xe8s :\n".concat(f," dans ").concat(l,"/");alert(h),k(!1)}catch(r){if(console.error("\u274c Erreur sauvegarde:",r),"AbortError"===r.name)return void k(!1);alert("\u274c Erreur lors de la sauvegarde :\n".concat(r.message))}finally{I(!1)}},X=async()=>{if(console.log("\ud83d\udd25 DEBUG: handleSaveMarkdown appel\xe9e"),!W())return console.log("\u274c DEBUG: File System Access API non support\xe9e"),void alert("\u274c Votre navigateur ne supporte pas l'acc\xe8s aux fichiers.");console.log("\u2705 DEBUG: File System Access API support\xe9e"),k(!0)},J=()=>{""!==C.trim()&&G(C)},Z=async(e,t)=>{const n=[...e.matchAll(/<img[^>]+src=["']\.\/(images\/[^"']+)["'][^>]*>/g)];if(0===n.length)return e;let r=e;try{const e=await t.getDirectoryHandle("images");for(const t of n){const[n,a]=t,l=a.split("/")[1];try{const t=await e.getFileHandle(l),n=await t.getFile(),o=URL.createObjectURL(n);r=r.replace('"./'.concat(a,'"'),'"'.concat(o,'"')),console.log("\u2705 Image locale charg\xe9e:",l)}catch(o){console.error("\u274c Image introuvable:",l,o)}}}catch(a){console.log("\u2139\ufe0f Dossier images non trouv\xe9")}return r},ee=()=>{const e=localStorage.getItem("dysThemeSettings");if(!e)return!1;const t=JSON.parse(e).backgroundColor.replace("#","");return.299*parseInt(t.substr(0,2),16)+.587*parseInt(t.substr(2,2),16)+.114*parseInt(t.substr(4,2),16)<128},te=[{name:ee()?"Blanc":"Noir",value:ee()?"#ffffff":"#000000"},{name:"Bleu",value:"#3399ff"},{name:"Vert",value:"#00cc00"},{name:"Rouge",value:"#ff0000"},{name:"Orange",value:"#ff9900"},{name:"Violet",value:"#ff00ff"},{name:"Jaune",value:"#ffff00"}],ne=()=>{var e,t,n,r,o,a,l;if(h)return console.log("\ud83d\uddbc\ufe0f [isSelectionOnImage] Image s\xe9lectionn\xe9e via clic"),!0;const i=window.getSelection();if(!i.rangeCount)return!1;let s=i.getRangeAt(0).commonAncestorContainer;return s.nodeType===Node.TEXT_NODE&&(s=s.parentElement),"IMG"===(null===(e=s)||void 0===e?void 0:e.tagName)?(console.log("\ud83d\uddbc\ufe0f [isSelectionOnImage] Image d\xe9tect\xe9e directement"),!0):null!==(t=s)&&void 0!==t&&null!==(n=t.closest)&&void 0!==n&&n.call(t,".image-line")||null!==(r=s)&&void 0!==r&&null!==(o=r.closest)&&void 0!==o&&o.call(r,".image-container")?(console.log("\ud83d\uddbc\ufe0f [isSelectionOnImage] Conteneur image-line/container d\xe9tect\xe9"),!0):"IMG"===(null===(a=s)||void 0===a||null===(l=a.parentElement)||void 0===l?void 0:l.tagName)&&(console.log("\ud83d\uddbc\ufe0f [isSelectionOnImage] Parent direct est une image"),!0)},re=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(console.log("\ud83d\ude80 EXECCOMMAND START:",e,"currentFormat AVANT:",l),console.log("\ud83d\udd12 ignoreSelectionChangeRef AVANT activation:",m.current),"wysiwyg"!==o||!s.current)return;if(ne()&&"foreColor"!==e)return void console.log("\ud83d\udeab [execCommand] Formatage bloqu\xe9 - s\xe9lection sur image");m.current=!0,console.log("\ud83d\udd12 PROTECTION ACTIV\xc9E - ignoreSelectionChangeRef:",m.current),s.current.focus();const n=u({},l);"bold"===e?(n.bold=!l.bold,document.execCommand("bold",!1,null)):"italic"===e?(n.italic=!l.italic,document.execCommand("italic",!1,null)):"underline"===e?(n.underline=!l.underline,document.execCommand("underline",!1,null)):"normal"===e?(n.bold=!1,n.italic=!1,n.underline=!1,n.color="#000000",n.fontSize="16px",n.fontFamily="system-ui",n.heading=null,n.list=null,document.queryCommandState("bold")&&document.execCommand("bold",!1,null),document.queryCommandState("italic")&&document.execCommand("italic",!1,null),document.queryCommandState("underline")&&document.execCommand("underline",!1,null),document.execCommand("removeFormat",!1,null),document.execCommand("formatBlock",!1,"p")):"foreColor"===e?(n.color=t,document.execCommand("foreColor",!1,t)):document.execCommand(e,!1,t),console.log("\ud83d\udcdd APPEL onFormatChange avec newFormat:",n),i(n),console.log("\u2705 onFormatChange appel\xe9"),"normal"===e&&setTimeout(()=>{i({bold:!1,italic:!1,underline:!1,color:"#000000",fontSize:"16px",fontFamily:"system-ui",heading:null,list:null})},10),setTimeout(()=>{console.log("\ud83d\udd13 D\xc9SACTIVATION PROTECTION apr\xe8s 100ms"),m.current=!1,console.log("\ud83d\udd13 ignoreSelectionChangeRef maintenant:",m.current)},100),console.log("\ud83d\ude80 EXECCOMMAND END:",e)},oe=e=>{if(!e||!e.style)return;const t=e.style.color||window.getComputedStyle(e).color;e.removeAttribute("style"),t&&"rgb(0, 0, 0)"!==t&&"#000000"!==t&&(e.style.color=t);e.querySelectorAll("[style]").forEach(e=>{const t=e.style.color||window.getComputedStyle(e).color;e.removeAttribute("style"),t&&"rgb(0, 0, 0)"!==t&&"#000000"!==t&&(e.style.color=t)})},ae=e=>{"wysiwyg"===o&&s.current&&(ne()?console.log("\ud83d\udeab [handleHeading] Titre bloqu\xe9 - s\xe9lection sur image"):(s.current.focus(),(()=>{const e=window.getSelection();if(e.rangeCount>0){let t=e.getRangeAt(0).commonAncestorContainer;for(;t&&1!==t.nodeType;)t=t.parentNode;let n=t;for(;n&&n!==s.current;){if("UL"===n.tagName)return console.log("\ud83d\uddd1\ufe0f Liste \xe0 puces d\xe9tect\xe9e, suppression..."),document.execCommand("insertUnorderedList",!1,null),!0;if("OL"===n.tagName)return console.log("\ud83d\uddd1\ufe0f Liste ordonn\xe9e d\xe9tect\xe9e, suppression..."),document.execCommand("insertOrderedList",!1,null),!0;n=n.parentNode}}})(),document.execCommand("removeFormat",!1,null),document.execCommand("formatBlock",!1,e),setTimeout(()=>{const e=window.getSelection();if(e.rangeCount>0){var t;let r=e.getRangeAt(0).commonAncestorContainer;for(;r&&1!==r.nodeType;)r=r.parentNode;for(;r&&(null===(n=r.tagName)||void 0===n||!n.match(/^H[1-6]$/));){var n;r=r.parentNode}r&&null!==(t=r.tagName)&&void 0!==t&&t.match(/^H[1-6]$/)&&(console.log("\ud83e\uddf9 [handleHeading] Nettoyage styles inline du titre"),oe(r))}},50),i({bold:!1,italic:!1,color:"#000000",fontSize:"16px",fontFamily:"system-ui",heading:e,list:null})))},le=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=window.getSelection();if(n.rangeCount>0){let r=n.getRangeAt(0).commonAncestorContainer;for(;r&&1!==r.nodeType;)r=r.parentNode;for(;r&&r.tagName!==e;)r=r.parentNode;r&&r.tagName===e&&(r.style.paddingLeft="2.5em",r.style.listStyleType=t||"",console.log("\u2705 Styles appliqu\xe9s \xe0 <".concat(e,">:"),{paddingLeft:r.style.paddingLeft,listStyleType:r.style.listStyleType||"default"}))}},ie=e=>{if("wysiwyg"!==o||!s.current)return;if(ne())return void console.log("\ud83d\udeab [handleList] Liste bloqu\xe9e - s\xe9lection sur image");if(s.current.focus(),l.list===e)return console.log("\ud83d\udd04 [handleList] Toggle OFF simple"),"bullet"===e?document.execCommand("insertUnorderedList",!1,null):document.execCommand("insertOrderedList",!1,null),void i(u(u({},l),{},{list:null}));(()=>{const e=window.getSelection();if(e.rangeCount>0){let n=e.getRangeAt(0).commonAncestorContainer;for(;n&&1!==n.nodeType;)n=n.parentNode;let r=n;for(;r&&r!==s.current;){var t;if(null!==(t=r.tagName)&&void 0!==t&&t.match(/^H[1-6]$/))return console.log("\ud83d\uddd1\ufe0f Titre d\xe9tect\xe9, conversion en paragraphe..."),document.execCommand("formatBlock",!1,"p"),!0;r=r.parentNode}}})();("number"===l.list||"letter"===l.list)&&("number"===e||"letter"===e)?(console.log("\ud83d\udd04 [handleList] Smart Switch: ".concat(l.list," -> ").concat(e)),le("OL","letter"===e?"lower-alpha":null)):(console.log("\ud83d\udd04 [handleList] Standard Switch: ".concat(l.list||"none"," -> ").concat(e)),"bullet"===e?(document.execCommand("insertUnorderedList",!1,null),le("UL")):"number"===e?(document.execCommand("insertOrderedList",!1,null),le("OL")):"letter"===e&&(document.execCommand("insertOrderedList",!1,null),le("OL","lower-alpha"))),setTimeout(()=>{const e=window.getSelection();if(e.rangeCount>0){let t=e.getRangeAt(0).commonAncestorContainer;for(;t&&1!==t.nodeType;)t=t.parentNode;for(;t&&"LI"!==t.tagName;)t=t.parentNode;t&&"LI"===t.tagName&&(console.log("\ud83e\uddf9 [handleList] Nettoyage styles inline de la liste"),oe(t))}},50),i({bold:!1,italic:!1,color:"#000000",fontSize:"16px",fontFamily:"system-ui",heading:null,list:e})},se=()=>{if(s.current){const e="";s.current.innerHTML=e,n(e);const t=new Event("input",{bubbles:!0});s.current.dispatchEvent(t)}a("wysiwyg")};return(0,Et.jsxs)("div",{className:"rounded-lg py-3 shadow-lg w-full",style:{backgroundColor:"var(--dys-bg-color)",fontFamily:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[(0,Et.jsx)("hr",{style:{border:"none",borderTop:"2px solid var(--dys-text-color)",margin:"0 0 12px 0"}}),(0,Et.jsxs)("div",{className:"flex items-center justify-start space-x-6 mb-2 w-full",children:[(0,Et.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Et.jsx)("span",{className:"text-sm font-medium",style:{color:"var(--dys-text-color)"},children:"Format:"}),(0,Et.jsx)("button",{onClick:()=>re("normal"),className:"px-2 py-0.5 text-xs rounded",style:V?H:l.bold||l.italic||l.underline||l.heading||l.list?B:U,disabled:V||"wysiwyg"!==o,children:"Normal"}),(0,Et.jsx)("button",{onClick:()=>re("bold"),className:"px-2 py-0.5 text-xs rounded font-bold",style:V?H:l.bold?U:B,disabled:V||"wysiwyg"!==o,children:"Gras"}),(0,Et.jsx)("button",{onClick:()=>re("italic"),className:"px-2 py-0.5 text-xs rounded italic",style:V?H:l.italic?U:B,disabled:V||"wysiwyg"!==o,children:"Italique"}),(0,Et.jsx)("button",{onClick:()=>re("underline"),className:"px-2 py-0.5 text-xs rounded underline",style:V?H:l.underline?U:B,disabled:V||"wysiwyg"!==o,children:"Soulign\xe9"})]}),(0,Et.jsx)("div",{className:"flex space-x-1",children:te.map((e,t)=>(0,Et.jsx)("button",{onClick:()=>re("foreColor",e.value),className:"w-4 h-4 rounded-full border-2 ".concat(l.color===e.value?"border-blue-500 ring-2 ring-blue-300":"border-gray-300 hover:border-gray-500"),style:{backgroundColor:e.value},disabled:"wysiwyg"!==o,title:e.name},t))}),(0,Et.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,Et.jsx)("span",{className:"text-sm font-medium",style:{color:"var(--dys-text-color)"},children:"Mode:"}),(0,Et.jsxs)("select",{value:o,onChange:e=>a(e.target.value),className:"px-3 py-1 text-sm rounded border border-gray-400 bg-white text-gray-700 hover:bg-gray-50 hover:border-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Et.jsx)("option",{value:"wysiwyg",children:"\ud83d\udcdd \xc9diteur visuel"}),(0,Et.jsx)("option",{value:"markdown",disabled:!g,children:"#\ufe0f\u20e3 Code Markdown"}),(0,Et.jsx)("option",{value:"html",disabled:!g,children:"\ud83c\udf10 Code HTML"})]})]}),(0,Et.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,Et.jsx)("span",{className:"text-sm font-medium",style:{color:"var(--dys-text-color)"},children:"Document:"}),(0,Et.jsxs)("div",{className:"relative group",children:[(0,Et.jsx)("button",{onClick:()=>{console.log("\ud83d\udd34 DEBUG: Bouton Sauvegarder cliqu\xe9!"),X()},className:"border border-gray-400 bg-white text-gray-700 hover:bg-gray-50 hover:border-gray-500 px-2 py-1 text-xs rounded",children:"\ud83d\udcbe Sauvegarder"}),(0,Et.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:["Sauvegarder le document sur l'ordinateur",(0,Et.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"})]})]}),(0,Et.jsxs)("div",{className:"relative group",children:[(0,Et.jsx)("button",{onClick:async()=>{if(W())try{const t=await window.showDirectoryPicker({mode:"read"}),n=t.name,r="".concat(n,".md");try{const e=await t.getFileHandle(r),n=await e.getFile(),o=await n.text();let l=d(o);if(l=await Z(l,t),s.current){s.current.innerHTML=l;const e=new Event("input",{bubbles:!0});s.current.dispatchEvent(e)}a("wysiwyg");const i=(l.match(/src=["']blob:[^"']+["']/g)||[]).length,u=i>0?"\u2705 Document ouvert avec succ\xe8s :\n".concat(r," + ").concat(i," image(s) charg\xe9e(s)"):"\u2705 Document ouvert avec succ\xe8s :\n".concat(r);alert(u)}catch(e){if(window.confirm("Le fichier ".concat(r," n'existe pas dans ce r\xe9pertoire.\n\nVoulez-vous cr\xe9er un nouveau document ?"))){const e=d("");if(s.current){s.current.innerHTML=e;const t=new Event("input",{bubbles:!0});s.current.dispatchEvent(t)}a("wysiwyg"),alert("\ud83d\udcdd Nouveau document cr\xe9\xe9 : ".concat(n,'\n\nUtilisez "Sauvegarder" pour l\'enregistrer.'))}}}catch(t){if(console.error("\u274c Erreur ouverture document:",t),"AbortError"===t.name)return;alert("\u274c Erreur lors de l'ouverture du document :\n".concat(t.message))}else alert("\u274c Votre navigateur ne supporte pas l'acc\xe8s aux fichiers.")},className:"border border-gray-400 bg-white text-gray-700 hover:bg-gray-50 hover:border-gray-500 px-2 py-1 text-xs rounded",children:"\ud83d\udcc1 Ouvrir"}),(0,Et.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:["Ouvrir un Document existant",(0,Et.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"})]})]}),(0,Et.jsxs)("div",{className:"relative group",children:[(0,Et.jsx)("button",{onClick:()=>_(!0),className:"border border-gray-400 bg-white text-gray-700 hover:bg-gray-50 hover:border-gray-500 px-2 py-1 text-xs rounded",children:"\ud83c\udd95 Nouveau"}),(0,Et.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:["Cr\xe9er un Nouveau Document Vierge",(0,Et.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"})]})]}),(0,Et.jsxs)("div",{className:"relative group",children:[(0,Et.jsx)("button",{onClick:async()=>{try{var e;console.log("\ud83d\udd04 [OneNote Export] D\xe9but export vers OneNote...");const r=(null===(e=s.current)||void 0===e?void 0:e.innerHTML)||t,o=(new DOMParser).parseFromString(r,"text/html"),a=o.querySelectorAll('img[src^="blob:"]');console.log("\ud83d\udd0d [OneNote Export] Images blob trouv\xe9es:",a.length);for(const e of a){const t=await q(e.src);e.src=t,console.log("\u2705 [OneNote Export] Image convertie en base64")}let l=o.body.innerHTML;l=l.replace(/\s*data-image-id="[^"]*"/gi,"").replace(/\s*class="[^"]*"/gi,"").replace(/\s*contenteditable="[^"]*"/gi,"").replace(/\s*style="[^"]*resizable[^"]*"/gi,"").replace(/\s*draggable="[^"]*"/gi,"").replace(/\s*data-resizable="[^"]*"/gi,""),n=l,console.log("\ud83d\udd27 [OneNote Export] Formatage HTML pour OneNote..."),l=n.replace(/([^>])\n([^<])/g,"$1<br>\n$2").replace(/<div([^>]*)>/gi,"<p$1>").replace(/<\/div>/gi,"</p>").replace(/<br\s*\/?>\ s*<br\s*\/?>/gi,"</p><p>").replace(/<br\s*\/?>/gi,"<br>").replace(/<p[^>]*>\s*<\/p>/gi,"<p>&nbsp;</p>").replace(/<\/(h[1-6]|p|ul|ol|li)>/gi,"</$1>\n").replace(/\n\s*\n/g,"\n").trim(),console.log("\ud83e\uddf9 [OneNote Export] HTML nettoy\xe9 et format\xe9 pour OneNote"),console.log("\ud83d\udccb [OneNote Export] HTML final:",l.substring(0,200)+"...");const i=(e=>{console.log("\ud83d\udcdd [OneNote Export] Extraction texte brut avec retours \xe0 la ligne...");const t=(new DOMParser).parseFromString(e,"text/html"),n=e=>{let t="";for(const r of e.childNodes)if(r.nodeType===Node.TEXT_NODE)t+=r.textContent;else if(r.nodeType===Node.ELEMENT_NODE){const e=r.tagName.toLowerCase();["h1","h2","h3","h4","h5","h6"].includes(e)?t+="\n"+n(r)+"\n":["p","div"].includes(e)?t+=n(r)+"\n":t+="br"===e?"\n":"li"===e?"\u2022 "+n(r)+"\n":n(r)}return t},r=n(t.body).replace(/\n\n+/g,"\n\n").trim();return console.log("\ud83d\udcdd [OneNote Export] Texte brut extrait:",r.substring(0,100)+"..."),r})(l);console.log("\ud83d\udcdd [OneNote Export] Texte brut final:",i.substring(0,200)+"...");const u=new Blob([l],{type:"text/html"}),c=new Blob([i],{type:"text/plain"}),d=new ClipboardItem({"text/html":u,"text/plain":c});await navigator.clipboard.write([d]),console.log("\u2705 [OneNote Export] Contenu copi\xe9 dans le presse-papier"),P(!0)}catch(r){console.error("\u274c [OneNote Export] Erreur:",r),alert("\u274c Erreur lors de l'export OneNote:\n".concat(r.message))}var n},className:"border border-gray-400 bg-white text-gray-700 hover:bg-gray-50 hover:border-gray-500 px-2 py-1 text-xs rounded",children:"\ud83d\udccb OneNote"}),(0,Et.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:["Export OneNote",(0,Et.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"})]})]}),(0,Et.jsxs)("div",{className:"relative group",children:[(0,Et.jsx)("button",{onClick:()=>document.getElementById("html-import-input").click(),className:"border border-gray-400 bg-white text-gray-700 hover:bg-gray-50 hover:border-gray-500 px-2 py-1 text-xs rounded",children:"\ud83d\udcc1 Importer HTML"}),(0,Et.jsx)("input",{id:"html-import-input",type:"file",accept:".html,.htm,.mht,.mhtml",onChange:async e=>{const t=e.target.files[0];if(t){console.log("\ud83d\udce5 [HTML Import] D\xe9but import fichier:",t.name,"| Type:",t.type,"| Taille:",t.size);try{const e=new FileReader;e.onload=async e=>{try{const n=e.target.result;console.log("\ud83d\udcc4 [HTML Import] Contenu lu, longueur:",n.length);let r="";if(t.name.toLowerCase().endsWith(".mht")||t.name.toLowerCase().endsWith(".mhtml")||n.includes("Content-Type: multipart/related")?(console.log("\ud83d\udd0d [HTML Import] Format MHTML d\xe9tect\xe9"),r=Q(n)):(console.log("\ud83d\udd0d [HTML Import] Format HTML standard d\xe9tect\xe9"),r=Y(n)),!r||""===r.trim())throw new Error("Aucun contenu HTML valide trouv\xe9 dans le fichier");console.log("\u2705 [HTML Import] HTML extrait, longueur:",r.length),console.log("\ud83d\udcdd [HTML Import] Aper\xe7u HTML:",r.substring(0,300)+"...");const o=K(r);if(s.current){s.current.innerHTML=o;const e=new Event("input",{bubbles:!0});s.current.dispatchEvent(e)}a("wysiwyg"),F(t.name),R(!0),console.log("\u2705 [HTML Import] Import termin\xe9 avec succ\xe8s")}catch(n){console.error("\u274c [HTML Import] Erreur traitement fichier:",n),alert("\u274c Erreur lors de l'import du fichier:\n".concat(n.message))}},e.onerror=()=>{console.error("\u274c [HTML Import] Erreur lecture fichier"),alert("\u274c Erreur lors de la lecture du fichier")},e.readAsText(t,"utf-8")}catch(n){console.error("\u274c [HTML Import] Erreur g\xe9n\xe9rale:",n),alert("\u274c Erreur lors de l'import:\n".concat(n.message))}e.target.value=""}},className:"hidden"}),(0,Et.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:["Importer fichier HTML/MHTML (OneNote)",(0,Et.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"})]})]})]})]}),(0,Et.jsxs)("div",{className:"flex items-center justify-start space-x-6 w-full",children:[(0,Et.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Et.jsx)("span",{className:"text-sm font-medium",style:{color:"var(--dys-text-color)"},children:"Titres:"}),(0,Et.jsx)("button",{onClick:()=>re("normal"),className:"px-2 py-0.5 text-xs rounded",style:V?H:l.heading||l.list?B:U,disabled:V||"wysiwyg"!==o,children:"Texte"}),(0,Et.jsx)("button",{onClick:()=>ae("h3"),className:"px-2 py-0.5 text-xs rounded",style:V?H:"h3"===l.heading?U:B,disabled:V||"wysiwyg"!==o,children:"Titre 1"}),(0,Et.jsx)("button",{onClick:()=>ae("h2"),className:"px-2 py-0.5 text-xs rounded",style:V?H:"h2"===l.heading?U:B,disabled:V||"wysiwyg"!==o,children:"Titre 2"}),(0,Et.jsx)("button",{onClick:()=>ae("h1"),className:"px-2 py-0.5 text-xs rounded",style:V?H:"h1"===l.heading?U:B,disabled:V||"wysiwyg"!==o,children:"Titre 3"})]}),(0,Et.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Et.jsx)("span",{className:"text-sm font-medium",style:{color:"var(--dys-text-color)"},children:"Listes:"}),(0,Et.jsx)("button",{onClick:()=>{"wysiwyg"===o&&s.current&&(s.current.focus(),"bullet"===l.list?document.execCommand("insertUnorderedList",!1,null):"number"!==l.list&&"letter"!==l.list||document.execCommand("insertOrderedList",!1,null),i(u(u({},l),{},{list:null})))},className:"px-2 py-0.5 text-xs rounded",style:V?H:B,disabled:V||"wysiwyg"!==o,title:"Supprimer la liste",children:"\u2717"}),(0,Et.jsx)("button",{onClick:()=>ie("bullet"),className:"px-2 py-0.5 text-xs rounded",style:V?H:"bullet"===l.list?U:B,disabled:V||"wysiwyg"!==o,children:"\u2022 Puces"}),(0,Et.jsx)("button",{onClick:()=>ie("number"),className:"px-2 py-0.5 text-xs rounded",style:V?H:"number"===l.list?U:B,disabled:V||"wysiwyg"!==o,children:"1. Num\xe9ros"}),(0,Et.jsx)("button",{onClick:()=>ie("letter"),className:"px-2 py-0.5 text-xs rounded",style:V?H:"letter"===l.list?U:B,disabled:V||"wysiwyg"!==o,children:"a. Lettres"})]}),(0,Et.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Et.jsx)("span",{className:"text-sm font-medium",style:{color:"var(--dys-text-color)"},children:"\xc9dition:"}),(0,Et.jsxs)("div",{className:"relative group",children:[(0,Et.jsx)("button",{onClick:()=>document.execCommand("undo",!1,null),className:"px-2 py-0.5 text-xs rounded border border-gray-400 bg-white text-gray-700 hover:bg-gray-50 hover:border-gray-500",disabled:"wysiwyg"!==o,children:"\u21b6"}),(0,Et.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:["Annuler (Ctrl+Z)",(0,Et.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"})]})]}),(0,Et.jsxs)("div",{className:"relative group",children:[(0,Et.jsx)("button",{onClick:()=>document.execCommand("redo",!1,null),className:"px-2 py-0.5 text-xs rounded border border-gray-400 bg-white text-gray-700 hover:bg-gray-50 hover:border-gray-500",disabled:"wysiwyg"!==o,children:"\u21b7"}),(0,Et.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:["R\xe9tablir (Ctrl+Y)",(0,Et.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"})]})]}),(0,Et.jsxs)("div",{className:"relative group",children:[(0,Et.jsx)("button",{onClick:()=>{x&&(console.log("\ud83d\udcbe [Toolbar] Sauvegarde explicite de la s\xe9lection avant upload"),x()),document.getElementById("image-input").click()},className:"px-3 py-1 text-sm rounded border border-gray-400 bg-white text-gray-700 hover:bg-gray-50 hover:border-gray-500 font-medium",disabled:"wysiwyg"!==o,children:"\ud83d\uddbc\ufe0f Image"}),(0,Et.jsx)("input",{id:"image-input",type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t&&t.type.startsWith("image/"))if(console.log("\ud83d\udd04 [handleImageUpload] D\xe9but upload image:",t.name,t.type,"".concat(Math.round(t.size/1024),"KB")),"wysiwyg"===o&&s.current){w&&(console.log("\ud83d\udd04 [handleImageUpload] Restauration de la s\xe9lection..."),w());try{var r;console.log("\ud83d\udcbe [handleImageUpload] Sauvegarde en IndexedDB...");const o=crypto.randomUUID();await kt(o,t);const a=URL.createObjectURL(t);console.log("\ud83d\udd17 [handleImageUpload] Object URL temporaire cr\xe9\xe9e:",a),s.current.focus();const l=window.getSelection();let u=null;if(l.rangeCount>0){let e=l.getRangeAt(0).commonAncestorContainer;e.nodeType===Node.TEXT_NODE&&(e=e.parentElement);const t=["P","DIV","LI","H1","H2","H3","H4","H5","H6","UL","OL","BLOCKQUOTE"];let n=e;for(;n&&n!==s.current;){if(t.includes(n.tagName)){u=n;break}n=n.parentNode}if(u&&"LI"===u.tagName){const e=u.closest("ul, ol");e&&(u=e)}}console.log("\ud83d\uddbc\ufe0f [handleImageUpload] Bloc parent sauvegard\xe9 AVANT insertion:",(null===(r=u)||void 0===r?void 0:r.tagName)||"aucun");const c='<img src="'.concat(a,'" data-image-id="').concat(o,'" width="300px" style="height: auto; max-width: 100%; display: block;" alt="').concat(t.name,'" class="newly-inserted" />');document.execCommand("insertHTML",!1,c),console.log("\ud83d\uddbc\ufe0f [handleImageUpload] Image ins\xe9r\xe9e, post-traitement...");const d=s.current.querySelector("img.newly-inserted");if(d){console.log("\ud83d\uddbc\ufe0f [handleImageUpload] Image trouv\xe9e, d\xe9but isolation...");const e=d.parentNode,t=d.nextSibling;d.classList.remove("newly-inserted");const n=document.createElement("p");if(n.className="image-line",n.style.cssText="display: block; margin: 1em 0; text-align: left;",n.appendChild(d),e===s.current)t?s.current.insertBefore(n,t):s.current.appendChild(n);else if(e){const r=e.textContent.trim(),o=e.querySelectorAll("img").length;if(""===r.replace(/[\u200B-\u200D\uFEFF]/g,"").trim()&&0===o)console.log("\ud83d\uddbc\ufe0f [handleImageUpload] Bloc parent vide, remplacement"),e.parentNode.replaceChild(n,e);else{console.log("\ud83d\uddbc\ufe0f [handleImageUpload] Bloc parent non-vide, SPLIT requis");const r=e.cloneNode(!1);let o=t;for(;o;){const e=o.nextSibling;r.appendChild(o),o=e}e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n),n.nextSibling?n.parentNode.insertBefore(r,n.nextSibling):n.parentNode.appendChild(r),""===r.innerHTML.trim()&&(r.innerHTML="<br>")}}const r=document.createElement("p");r.innerHTML="<br>",n.nextSibling?n.parentNode.insertBefore(r,n.nextSibling):n.parentNode.appendChild(r);const o=window.getSelection(),a=document.createRange();a.setStart(r,0),a.collapse(!0),o.removeAllRanges(),o.addRange(a),console.log("\u2705 [handleImageUpload] Image isol\xe9e sur sa propre ligne")}s.current.querySelectorAll("h1 .image-line, h2 .image-line, h3 .image-line, h4 .image-line, h5 .image-line, h6 .image-line").forEach(e=>{console.log("\ud83e\uddf9 [handleImageUpload] Correction structure invalide");const t=e.closest("h1, h2, h3, h4, h5, h6");t&&t.parentNode&&(t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e))}),console.log("\ud83d\udcdd [handleImageUpload] Insertion compl\xe8te, imageId:",o),setTimeout(async()=>{if(n&&(console.log("\ud83d\udd04 [handleImageUpload] Force re-rendu pour styles image"),n(s.current.innerHTML)),s.current){console.log("\ud83d\udd04 [handleImageUpload] D\xe9clenchement r\xe9hydratation post-upload...");const t=s.current.querySelectorAll("img[data-image-id]");console.log("\ud83d\udd0d [handleImageUpload] ".concat(t.length," images \xe0 r\xe9hydrater trouv\xe9es"));for(const n of t){const t=n.getAttribute("data-image-id");if(n.src.startsWith("blob:")){console.log("\ud83d\udd04 [handleImageUpload] R\xe9hydratation image:",t);try{const e=await Ct(t);e&&(console.log("\u2705 [handleImageUpload] R\xe9hydratation r\xe9ussie:",n.src,"->",e),n.src=e)}catch(e){console.error("\u274c [handleImageUpload] Erreur r\xe9hydratation:",e)}}}}},200),i({bold:!1,italic:!1,color:"#000000",fontSize:"16px",fontFamily:"system-ui",heading:null,list:null}),console.log("\u2705 [handleImageUpload] Image persistante ins\xe9r\xe9e:",{fileName:t.name,imageId:o,persistedInIndexedDB:!0}),e.target.value=""}catch(a){console.error("\u274c [handleImageUpload] ERREUR D\xc9TAILL\xc9E insertion image:",{message:a.message,stack:a.stack,fileName:t.name,fileSize:t.size,fileType:t.type}),alert("Erreur: ".concat(a.message||"Insertion image \xe9chou\xe9e"))}}else console.warn("\u26a0\ufe0f Upload ignor\xe9 - Mode non-WYSIWYG ou \xe9diteur non disponible");else alert("Veuillez s\xe9lectionner un fichier image valide.")},className:"hidden"}),(0,Et.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:["Ins\xe9rer une image",(0,Et.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"})]})]}),(0,Et.jsxs)("div",{className:"relative group",children:[(0,Et.jsx)("button",{onClick:f,className:"px-3 py-1 text-sm rounded border border-gray-400 bg-white text-gray-700 hover:bg-gray-50 hover:border-gray-500 font-medium",children:"\ud83c\udfa8 Th\xe8me"}),(0,Et.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:["Param\xe8tres du th\xe8me",(0,Et.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"})]})]}),(0,Et.jsxs)("div",{className:"relative group",children:[(0,Et.jsx)("button",{onClick:p,className:"px-3 py-1 text-sm rounded border border-gray-400 bg-white text-gray-700 hover:bg-gray-50 hover:border-gray-500 font-medium",children:"\u2699\ufe0f Config"}),(0,Et.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:["Configuration g\xe9n\xe9rale de l'\xe9diteur",(0,Et.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"})]})]})]})]}),S&&(0,Et.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100]",children:(0,Et.jsxs)("div",{className:"system-ui bg-white rounded-lg p-4 w-64 shadow-xl border-4 border-orange-400",children:[(0,Et.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"\ud83d\udcbe Sauvegarder le document"}),(0,Et.jsxs)("div",{className:"mb-6",children:[(0,Et.jsx)("label",{htmlFor:"document-name",className:"block text-sm font-semibold text-gray-800 mb-3",children:"Nom du document :"}),(0,Et.jsx)("input",{id:"document-name",type:"text",value:C,onChange:e=>E(e.target.value),onKeyPress:e=>{"Enter"!==e.key||N||J(),"Escape"===e.key&&k(!1)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-800 font-medium",placeholder:"MonDocument",autoFocus:!0,disabled:N,spellCheck:"false",autoComplete:"off",autoCorrect:"off"}),(0,Et.jsx)("p",{className:"text-sm text-gray-600 mt-2 flex items-center",children:"\u2728 Un nom unique sera g\xe9n\xe9r\xe9 automatiquement si n\xe9cessaire"})]}),(0,Et.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Et.jsx)("button",{onClick:()=>k(!1),disabled:N,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50 transition-colors duration-200",children:"\u274c Annuler"}),(0,Et.jsx)("button",{onClick:J,disabled:N||""===C.trim(),className:"px-5 py-2.5 text-sm font-semibold text-gray-800 bg-blue-50 border border-blue-300 rounded-lg hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:N?"\u23f3 Sauvegarde...":"\ud83d\udcbe Sauvegarder"})]})]})}),O&&(0,Et.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100]",children:(0,Et.jsxs)("div",{className:"system-ui bg-white rounded-lg p-4 w-64 shadow-xl border-4 border-orange-400",children:[(0,Et.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"\u26a0\ufe0f Document non sauvegard\xe9"}),(0,Et.jsx)("div",{className:"mb-6",children:(0,Et.jsx)("p",{className:"text-sm text-gray-700",children:"Que souhaitez-vous faire ?"})}),(0,Et.jsxs)("div",{className:"flex justify-between space-x-2",children:[(0,Et.jsx)("button",{onClick:()=>{_(!1),X()},className:"px-3 py-2 text-xs font-medium text-gray-800 bg-green-50 border border-green-300 rounded-lg hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors duration-200",children:"\ud83d\udcbe Sauvegarder puis nouveau"}),(0,Et.jsx)("button",{onClick:()=>{_(!1),se()},className:"px-3 py-2 text-xs font-medium text-gray-800 bg-red-50 border border-red-300 rounded-lg hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors duration-200",children:"\ud83d\uddd1\ufe0f Nouveau sans sauvegarder"}),(0,Et.jsx)("button",{onClick:()=>_(!1),className:"px-3 py-2 text-xs font-medium text-gray-800 bg-gray-50 border border-gray-300 rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200",children:"\u21a9\ufe0f Annuler"})]})]})}),M&&(0,Et.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100]",children:(0,Et.jsxs)("div",{className:"system-ui bg-white rounded-lg p-6 w-80 shadow-xl border-4 border-blue-400",children:[(0,Et.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"\u2705 Export OneNote r\xe9ussi"}),(0,Et.jsxs)("div",{className:"mb-6 text-center",children:[(0,Et.jsx)("div",{className:"text-4xl mb-3",children:"\ud83d\udccb"}),(0,Et.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:"Le contenu est maintenant dans le presse-papier,"}),(0,Et.jsx)("p",{className:"text-sm font-medium text-blue-700",children:"pr\xeat \xe0 \xeatre coll\xe9 dans OneNote !"})]}),(0,Et.jsx)("div",{className:"text-center",children:(0,Et.jsx)("button",{onClick:()=>P(!1),className:"px-6 py-2 text-sm font-medium text-gray-800 bg-blue-50 border border-blue-300 rounded-lg hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200",children:"\ud83d\udc4d OK"})})]})}),z&&(0,Et.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100]",children:(0,Et.jsxs)("div",{className:"system-ui bg-white rounded-lg p-6 w-80 shadow-xl border-4 border-green-400",children:[(0,Et.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"\u2705 Import HTML r\xe9ussi"}),(0,Et.jsxs)("div",{className:"mb-6 text-center",children:[(0,Et.jsx)("div",{className:"text-4xl mb-3",children:"\ud83d\udcc1"}),(0,Et.jsxs)("p",{className:"text-sm text-gray-700 mb-2",children:["Le contenu de ",(0,Et.jsx)("strong",{children:D})]}),(0,Et.jsx)("p",{className:"text-sm font-medium text-green-700",children:"a \xe9t\xe9 import\xe9 avec succ\xe8s dans l'\xe9diteur !"})]}),(0,Et.jsx)("div",{className:"text-center",children:(0,Et.jsx)("button",{onClick:()=>R(!1),className:"px-6 py-2 text-sm font-medium text-gray-800 bg-green-50 border border-green-300 rounded-lg hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors duration-200",children:"\ud83d\udc4d OK"})})]})})]})};const It=async(e,t)=>{if(!e||!t||!e.startsWith("./assets/"))return e;try{const n=e.replace("./assets/",""),r=await t.getDirectoryHandle("assets"),o=await r.getFileHandle(n),a=await o.getFile();return URL.createObjectURL(a)}catch(n){return console.error("\u274c Erreur conversion Blob URL pour ".concat(e,":"),n),e}},Tt=(0,r.forwardRef)((e,t)=>{let{content:n,setContent:o,viewMode:a,onInput:l,currentFormat:i,onFormatChange:s,mathJaxReady:c,ignoreSelectionChangeRef:d,selectedImage:f,onImageClick:p,onEditorClick:g,onDeleteSelectedImage:m,onSelectionChange:h,storeBlobForUrl:y,editorRef:v}=e;(0,r.useRef)(!1);const b=(0,r.useRef)(""),w=(0,r.useCallback)((e,t)=>{const n="".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),r="".concat(n,"_").concat(e.name),o=new File([e],r,{type:e.type}),a=URL.createObjectURL(o);return console.log("\ud83c\udfaf [createUniqueBlob] Cr\xe9ation blob unique:",r,"->",a),t(a,o),{blobUrl:a,uniqueFile:o}},[]),x=(0,r.useCallback)(async e=>{console.log("\ud83d\udd0d [forceVerify] V\xe9rification persistance images...");const t=e.querySelectorAll("img[data-image-id]");console.log("\ud83d\udd0d [forceVerify] ".concat(t.length," images avec data-image-id trouv\xe9es"));for(const r of t){const e=r.getAttribute("data-image-id");try{const t=await Ct(e);if(t)console.log("\u2705 [forceVerify] Image ".concat(e," OK en IndexedDB (").concat(Math.round(t.size/1024),"KB)"));else if(console.error("\u274c [forceVerify] Image ".concat(e," MANQUANTE en IndexedDB")),r.src.startsWith("blob:"))try{const t=await fetch(r.src),n=await t.blob();await kt(e,n),console.log("\ud83d\udd04 [forceVerify] Re-sauvegarde OK pour ".concat(e))}catch(n){console.error("\u274c [forceVerify] \xc9chec re-sauvegarde ".concat(e,":"),n)}}catch(n){console.error(" [forceVerify] Erreur v\xe9rification ".concat(e,":"),n)}}},[]),S=(0,r.useCallback)(async e=>{if(console.log(" [rehydrateImages] D\xe9but r\xe9hydratation des images..."),!e)return void console.warn(" [rehydrateImages] Pas de conteneur fourni");const t=e.querySelectorAll("img[data-image-id]");console.log(" [rehydrateImages] ".concat(t.length," images avec data-image-id trouv\xe9es"));for(const r of t){const e=r.getAttribute("data-image-id");console.log(" [rehydrateImages] Traitement image:",e);try{const t=await Ct(e);if(t){const n=r.getAttribute("width"),o=r.getAttribute("height"),a=r.getAttribute("alt")||"";console.log(" [rehydrateImages] Image charg\xe9e:",{imageId:e,oldSrc:r.src,newSrc:t,width:n,height:o,alt:a}),r.src=t,console.log(" [rehydrateImages] Image r\xe9hydrat\xe9e avec succ\xe8s:",e)}else console.warn(" [rehydrateImages] Image non trouv\xe9e en IndexedDB:",e)}catch(n){console.error(" [rehydrateImages] Erreur r\xe9hydratation:",e,n)}}console.log(" [rehydrateImages] R\xe9hydratation termin\xe9e")},[]),k=(0,r.useCallback)(async(e,t)=>{console.log(" [processImageBlobs] Traitement des images...");const n=e.querySelectorAll('img[src^="blob:"]');console.log("\ud83d\udd0d [processImageBlobs] Images blob trouv\xe9es:",n.length);for(const a of n){const e=a.src;try{console.log("\ud83d\udce5 [processImageBlobs] Traitement blob:",e);const n=await fetch(e),r=await n.blob(),o=new File([r],"pasted-image.png",{type:r.type}),{blobUrl:l}=w(o,t);a.src=l,console.log("\u2705 [processImageBlobs] Image blob mise \xe0 jour:",e,"->",l)}catch(o){console.error("\u274c [processImageBlobs] Erreur blob pour:",e,o)}}const r=e.querySelectorAll('img[src^="data:image/"]');console.log("\ud83d\udd0d [processImageBlobs] Images base64 trouv\xe9es:",r.length);for(const a of r){const e=a.src;try{console.log("\ud83d\udce5 [processImageBlobs] Traitement base64 (longueur:",e.length,"chars)");const n=await fetch(e),r=await n.blob(),o=(new Date).toISOString().replace(/[:.]/g,"-").slice(0,-5),l="pasted-screenshot-".concat(o,".png"),i=crypto.randomUUID();await kt(i,r);const s=URL.createObjectURL(r),u=new File([r],l,{type:r.type});t&&t(s,u),a.src=s,a.setAttribute("data-image-id",i),a.setAttribute("alt",l),console.log(" [processImageBlobs] Image base64 convertie:",e.substring(0,50)+"...","->",s,"ID:",i)}catch(o){console.error(" [processImageBlobs] Erreur base64 pour:",e.substring(0,50),o)}}console.log(" [processImageBlobs] OPTION B - Force v\xe9rification persistance..."),await x(e),setTimeout(async()=>{console.log(" [processImageBlobs] OPTION B - Double r\xe9hydratation..."),await S(e)},500),console.log(" [processImageBlobs] Traitement termin\xe9")},[x,S,w]),C=(0,r.useCallback)(async e=>{if(console.log(" [migrateOldBlobImages] D\xe9but migration des anciennes images..."),!e)return void console.warn("\u26a0\ufe0f [migrateOldBlobImages] Pas de conteneur fourni");const t=e.querySelectorAll('img[src^="blob:"]:not([data-image-id])');if(console.log("\ud83d\udd0d [migrateOldBlobImages] ".concat(t.length," anciennes images blob trouv\xe9es")),0!==t.length){for(const e of t){const t=e.src;console.log("\ud83d\udd04 [migrateOldBlobImages] Migration image:",t);try{const r=await fetch(t);if(!r.ok){console.warn("\u26a0\ufe0f [migrateOldBlobImages] Impossible de r\xe9cup\xe9rer le blob:",r.status);continue}const o=await r.blob();console.log("\ud83d\udce6 [migrateOldBlobImages] Blob r\xe9cup\xe9r\xe9:",{size:"".concat(Math.round(o.size/1024),"KB"),type:o.type});const a=e.alt||"migrated_image_".concat(Date.now(),".png"),l=new File([o],a,{type:o.type}),i=crypto.randomUUID();await kt(i,l),console.log("\ud83d\udcbe [migrateOldBlobImages] Image migr\xe9e vers IndexedDB:",i),e.setAttribute("data-image-id",i);const s=URL.createObjectURL(o);e.src=s;try{URL.revokeObjectURL(t),console.log("\ud83e\uddf9 [migrateOldBlobImages] Ancienne URL r\xe9voqu\xe9e:",t)}catch(n){console.warn("\u26a0\ufe0f [migrateOldBlobImages] Impossible de r\xe9voquer ancienne URL:",n)}console.log("\u2705 [migrateOldBlobImages] Image migr\xe9e avec succ\xe8s:",{oldUrl:t,newImageId:i,fileName:a})}catch(r){console.error("\u274c [migrateOldBlobImages] Erreur migration:",t,r)}}if(console.log("\u2705 [migrateOldBlobImages] Migration termin\xe9e"),l&&e.innerHTML){console.log("\ud83d\udcbe [migrateOldBlobImages] D\xe9clenchement sauvegarde apr\xe8s migration...");const t=new Event("input",{bubbles:!0});e.dispatchEvent(t)}}else console.log("\u2705 [migrateOldBlobImages] Aucune migration n\xe9cessaire")},[l]),E=(0,r.useCallback)(e=>{e&&(e.style.height="auto",e.style.height=Math.max(384,e.scrollHeight)+"px")},[]);(0,r.useEffect)(()=>{console.log(" [Editor] Effect r\xe9hydratation - Chargement initial");(async()=>{console.log(" [Editor] Demande stockage persistant..."),await(async()=>{if(console.log("\ud83d\udd12 [ImageStore] Demande stockage persistant..."),!("storage"in navigator)||!("persist"in navigator.storage))return console.warn("\u26a0\ufe0f [ImageStore] API storage.persist() non support\xe9e"),!1;try{const e=await navigator.storage.persist();return console.log(e?"\u2705 [ImageStore] Stockage persistant accord\xe9":"\u26a0\ufe0f [ImageStore] Stockage persistant refus\xe9"),e}catch(e){return console.error("\u274c [ImageStore] Erreur demande persistance:",e),!1}})(),v.current?(console.log(" [Editor] D\xe9clenchement r\xe9hydratation..."),await S(v.current),console.log(" [Editor] D\xe9clenchement migration anciennes images..."),await C(v.current)):console.warn(" [Editor] editorRef pas encore pr\xeat pour r\xe9hydratation")})()},[S,C]),(0,r.useEffect)(()=>{if(n&&n!==b.current&&v.current){console.log(" [Editor] Contenu chang\xe9 - V\xe9rification r\xe9hydratation..."),b.current=n;const e=1e3;console.log(" [Editor] D\xe9lai r\xe9hydratation: ".concat(e,"ms (env: ").concat("production",")")),setTimeout(async()=>{await S(v.current),await C(v.current)},e)}},[n,S,C]);const N=(0,r.useCallback)(e=>{let t=0;return e.replace(/<br\s*\/?>/gi,"<br>\n").replace(/<\/?(h[1-6]|p|div|ul|ol|li|strong|em|span)[^>]*>/gi,e=>{if(e.startsWith("</"))return t=Math.max(0,t-1),e+"\n";{const n="\n"+" ".repeat(2*t)+e;return e.match(/<(ul|ol|li|div|p|h[1-6])[^>]*>/i)&&t++,n}}).split("\n").map((e,n)=>{if(0===n)return e.trim();if(""===e.trim())return"";if(e.trim().startsWith("</")){const n=Math.max(0,t-1);return" ".repeat(2*n)+e.trim()}return e.startsWith(" ")?e:" ".repeat(2*t)+e.trim()}).join("\n").replace(/^\n+/,"").replace(/\n{2,}/g,"\n").trim()},[]),I=(0,r.useCallback)(e=>{if(console.log("\ud83d\udcdd handleWysiwygChange d\xe9clench\xe9"),!v.current)return;const t=v.current.innerHTML.replace(/<span(?![^>]*style="[^"]*color:)[^>]*>\s*<\/span>/g,"").replace(/(&nbsp;\s*){2,}/g,"&nbsp;").replace(/<font[^>]*color="([^"]*)"[^>]*>(.*?)<\/font>/g,'<span style="color: $1;">$2</span>').replace(/<b\b[^>]*>(.*?)<\/b>/g,"<strong>$1</strong>").replace(/<i\b[^>]*>(.*?)<\/i>/g,"<em>$1</em>");console.log("\ud83d\udd0d Contenu actuel vs nouveau:",n.length,"vs",t.length),t!==n&&(console.log("\u2705 WYSIWYG Changement - Appel onInput direct"),l({target:{innerHTML:t}})),!h||null!==d&&void 0!==d&&d.current?console.log("\u274c EDITOR handleWysiwygChange - onSelectionChange BLOQU\xc9 - ignoreFlag:",null===d||void 0===d?void 0:d.current):(console.log("\ud83d\udd04 EDITOR handleWysiwygChange - Va appeler onSelectionChange dans 50ms"),setTimeout(h,50))},[n,l,h]),T=(0,r.useCallback)(()=>{console.log("\ud83d\udccd EDITOR handleSelectionChange - ignoreFlag:",null===d||void 0===d?void 0:d.current),null!==d&&void 0!==d&&d.current?console.log("\u274c EDITOR handleSelectionChange - BLOQU\xc9 par ignoreFlag"):"wysiwyg"===a&&document.activeElement===v.current?(console.log("\u2705 EDITOR handleSelectionChange - VA APPELER onSelectionChange"),h()):console.log("\u26a0\ufe0f EDITOR handleSelectionChange - SKIP conditions")},[a,h,d]);(0,r.useEffect)(()=>{(async()=>{if("wysiwyg"===a&&v.current&&v.current.innerHTML!==n){const e=document.activeElement===v.current,t=window.getSelection().rangeCount>0;if(e&&t)return;const r={directory:null,name:null};let o=n;r.directory&&(o=await(async(e,t)=>{if(!e||!t)return e;const n=[...e.matchAll(/<img[^>]+src=["']\.\/assets\/([^"']+)["'][^>]*>/g)];if(0===n.length)return e;let r=e;for(const o of n){const e=o[0],n=o[1],a="./assets/".concat(n),l=await It(a,t);if(l!==a){const t=e.replace(a,l);r=r.replace(e,t)}}return r})(n,r.directory)),v.current.innerHTML=o,window.MathJax&&window.MathJax.typesetPromise&&window.MathJax.typesetPromise([v.current]).catch(e=>{console.warn("Erreur MathJax:",e)}),setTimeout(()=>{var e,t;console.log("\ud83d\udd04 [F5 Fix] Retraitement forc\xe9 des poign\xe9es d'images apr\xe8s initialisation");const n=null===(e=v.current)||void 0===e?void 0:e.querySelectorAll("img");n&&null!==(t=v.current)&&void 0!==t&&t.addResizeHandlesToImage&&(n.forEach(e=>{e.removeAttribute("data-resizable");const t=e.closest(".resizable-image");if(t&&t.parentNode){t.parentNode.insertBefore(e,t),t.remove()}v.current.addResizeHandlesToImage(e)}),console.log("\u2705 [F5 Fix] Poign\xe9es retrait\xe9es pour",n.length,"image(s)"))},300)}})()},[a,n]);const L=(0,r.useCallback)(e=>{if("wysiwyg"===a&&v.current){if(f)try{const t=document.createElement("div"),n=f.cloneNode(!0);return t.appendChild(n),e.clipboardData.setData("text/html",t.innerHTML),e.clipboardData.setData("text/plain",f.src),void e.preventDefault()}catch(t){console.warn("Erreur copie image:",t)}const n=window.getSelection();if(n.rangeCount>0){const t=n.getRangeAt(0).cloneContents(),r=document.createElement("div");r.appendChild(t);const o=r.innerHTML.replace(/<div[^>]*>/gi,"").replace(/<\/div>/gi,"\n").replace(/<br\s*\/?>/gi,"\n").replace(/<p[^>]*>/gi,"").replace(/<\/p>/gi,"\n").replace(/<[^>]+>/g,"").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/\n+$/,"");e.clipboardData.setData("text/plain",o),e.preventDefault()}}},[a,f]),A=(0,r.useCallback)(e=>{console.log("\ud83d\udccb [DEBUG] handlePaste D\xc9CLENCH\xc9!",{viewMode:a,hasEditor:!!v.current}),"wysiwyg"===a&&v.current&&setTimeout(async()=>{console.log("\ud83d\udd04 Refresh forc\xe9 apr\xe8s coller"),y&&await k(v.current,y),console.log("\u2705 [handlePaste] Images trait\xe9es par processImageBlobs");const e=v.current.querySelectorAll("img");console.log("\ud83d\uddbc\ufe0f [handlePaste] Images trouv\xe9es:",e.length),e.forEach(e=>{var t;if(e.closest(".image-line"))return void console.log("\ud83d\uddbc\ufe0f [handlePaste] Image d\xe9j\xe0 isol\xe9e, ignor\xe9e");const n=e.closest(".resizable-image")||e;let r=n.parentElement;const o=["P","DIV","LI","H1","H2","H3","H4","H5","H6","BLOCKQUOTE","SPAN"];for(;r&&r!==v.current&&!o.includes(r.tagName);)r=r.parentNode;if(r&&"LI"===r.tagName){const e=r.closest("ul, ol");e&&(r=e)}if(console.log("\ud83d\uddbc\ufe0f [handlePaste] Bloc parent trouv\xe9:",(null===(t=r)||void 0===t?void 0:t.tagName)||"aucun"),r&&r!==v.current){const e=document.createElement("p");e.className="image-line",e.style.cssText="display: block; margin: 1em 0; text-align: left; list-style: none !important;";const t=n.nextSibling;e.appendChild(n);const o=r.textContent.trim(),a=r.querySelectorAll("img"),l=""===o.replace(/[\u200B-\u200D\uFEFF]/g,"").trim()&&0===a.length;if(console.log("\ud83d\uddbc\ufe0f [handlePaste] Bloc parent vide apr\xe8s d\xe9placement ?",l,"Text:",o),l)console.log("\ud83d\uddbc\ufe0f [handlePaste] Bloc vide, remplacement"),r.parentNode.replaceChild(e,r);else{console.log("\ud83d\uddbc\ufe0f [handlePaste] Bloc non-vide, SPLIT requis");const n=r.cloneNode(!1);let o=t;for(;o;){const e=o.nextSibling;n.appendChild(o),o=e}r.nextSibling?r.parentNode.insertBefore(e,r.nextSibling):r.parentNode.appendChild(e),e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n),""===n.innerHTML.trim()&&(n.innerHTML="<br>")}console.log("\u2705 [handlePaste] Image isol\xe9e apr\xe8s:",r.tagName)}});v.current.querySelectorAll("img:not([data-resizable])").forEach(e=>{v.current.addResizeHandlesToImage&&v.current.addResizeHandlesToImage(e)});if(v.current.querySelectorAll("h1 .image-line, h2 .image-line, h3 .image-line, h4 .image-line, h5 .image-line, h6 .image-line").forEach(e=>{console.log("\ud83e\uddf9 [handlePaste] Correction structure invalide - image-line dans heading");const t=e.closest("h1, h2, h3, h4, h5, h6");t&&t.parentNode&&(t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e))}),l){const e=new Event("input",{bubbles:!0});v.current.dispatchEvent(e)}},100),console.log("\ud83d\udccb [DEBUG] handlePaste termin\xe9")},[a,T,L]);switch((0,r.useEffect)(()=>{"wysiwyg"!==a&&v.current&&E(v.current)},[n,a,E]),(0,r.useEffect)(()=>{if(console.log("\ud83d\udd17 [DEBUG] Attachement events, viewMode:",a,"editorRef:",!!v.current),"wysiwyg"===a&&v.current){const e=e=>{console.log("\ud83d\udd25 [DEBUG] PASTE EVENT D\xc9TECT\xc9!",{target:e.target.tagName,currentTarget:e.currentTarget.tagName,hasClipboardData:!!e.clipboardData})};return document.addEventListener("selectionchange",T),v.current.addEventListener("copy",L),v.current.addEventListener("paste",A),v.current.addEventListener("paste",e),console.log("\u2705 [DEBUG] Event paste attach\xe9 \xe0 editorRef.current + debug global"),()=>{var t,n,r;console.log("\ud83d\uddd1\ufe0f [DEBUG] Nettoyage events"),document.removeEventListener("selectionchange",T),null===(t=v.current)||void 0===t||t.removeEventListener("copy",L),null===(n=v.current)||void 0===n||n.removeEventListener("paste",A),null===(r=v.current)||void 0===r||r.removeEventListener("paste",e)}}},[a,T,L]),(0,r.useEffect)(()=>{if("wysiwyg"===a&&v.current){if(v.current.querySelectorAll("img").forEach(e=>{const t=e.closest(".resizable-image");t&&t.classList.remove("image-selected")}),f){const e=f.closest(".resizable-image");e&&e.classList.add("image-selected")}}},[f,a,n]),(0,r.useEffect)(()=>{if("wysiwyg"===a&&v.current){const e=t=>{var n;if(v.current.addResizeHandlesToImage=e,t.getAttribute("data-resizable")||null!==(n=t.parentElement)&&void 0!==n&&n.classList.contains("resizable-image"))return;if(!t.complete||0===t.naturalWidth)return void t.addEventListener("load",()=>e(t),{once:!0});t.setAttribute("data-resizable","true");const r=document.createElement("div");let o,a;r.className="resizable-image",t.addEventListener("click",e=>{e.stopPropagation(),p&&p(t)});const i=t.getAttribute("width"),s=t.getAttribute("height"),u=t.style.width,c=t.style.height;i&&s?(o=parseInt(i),a=parseInt(s),console.log("\ud83d\udccf Dimensions depuis attributs:",o,"x",a)):u&&c?(o=parseInt(u),a=parseInt(c),console.log("\ud83d\udccf Dimensions depuis style:",o,"x",a)):(o=t.naturalWidth||300,a=t.naturalHeight||200,console.log("\ud83d\udccf Dimensions naturelles:",o,"x",a));if(a>300){const e=o/a;a=300,o=Math.round(a*e),console.log("\ud83d\udd04 Image redimensionn\xe9e pour hauteur max 300px:",o,"x",a),t.setAttribute("width",o+"px"),t.setAttribute("height",a+"px"),t.style.width=o+"px",t.style.height=a+"px"}r.style.width=o+"px",r.style.height=a+"px",t.parentNode?(t.parentNode.insertBefore(r,t),r.appendChild(t),["nw","ne","sw","se"].forEach(e=>{const n=document.createElement("div");n.className="resize-handle ".concat(e),n.dataset.corner=e,n.addEventListener("mousedown",n=>{n.preventDefault(),n.stopPropagation();const o=n.clientX,a=(n.clientY,r.offsetWidth),i=r.offsetHeight,s=a/i,u=n=>{const l=n.clientX-o;n.clientY;let u=a,c=i;switch(e){case"se":case"ne":u=Math.max(50,a+l),c=u/s;break;case"sw":case"nw":u=Math.max(50,a-l),c=u/s}r.style.width=u+"px",r.style.height=c+"px",t.style.width="100%",t.style.height="100%",t.setAttribute("width",Math.round(u)+"px"),t.setAttribute("height",Math.round(c)+"px")},c=()=>{if(document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",c),l){const e=new Event("input",{bubbles:!0});v.current.dispatchEvent(e)}};document.addEventListener("mousemove",u),document.addEventListener("mouseup",c)}),r.appendChild(n)})):console.warn("\u26a0\ufe0f Image sans parentNode, impossible d'ajouter les poign\xe9es de redimensionnement")},t=new MutationObserver(t=>{t.forEach(t=>{t.addedNodes.forEach(t=>{"IMG"===t.nodeName?e(t):t.querySelectorAll&&t.querySelectorAll("img").forEach(e)})})});return t.observe(v.current,{childList:!0,subtree:!0}),v.current.querySelectorAll("img").forEach(e),()=>t.disconnect()}},[a,l,n]),console.log("\ud83d\udd04 Editor.js - Rendu switch/case, viewMode:",a),a){case"wysiwyg":return console.log("\ud83c\udfaf SWITCH - Vue WYSIWYG"),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("style",{children:"\n            .editor-content h1 { \n              font-size: 2em; \n              font-weight: bold; \n              margin: 0.67em 0; \n              line-height: 1.2;\n            }\n            .editor-content h2 { \n              font-size: 1.5em; \n              font-weight: bold; \n              margin: 0.75em 0; \n              line-height: 1.3;\n            }\n            .editor-content h3 { \n              font-size: 1.17em; \n              font-weight: bold; \n              margin: 0.83em 0; \n              line-height: 1.4;\n            }\n            .editor-content p {\n              margin: 0.5em 0;\n            }\n            .editor-content ul {\n              margin: 0.5em 0;\n              padding-left: 2em;\n              list-style-type: disc;\n            }\n            .editor-content ol {\n              margin: 0.5em 0;\n              padding-left: 2em;\n              list-style-type: decimal;\n            }\n            .editor-content ol[style*=\"lower-alpha\"] {\n              list-style-type: lower-alpha;\n            }\n            .editor-content li {\n              margin: 0.25em 0;\n            }\n            \n            /* Styles pour images redimensionnables */\n            .editor-content img {\n              max-width: 100%;\n              height: auto;\n              position: relative;\n              cursor: pointer;\n            }\n            \n            .resizable-image {\n              position: relative;\n              display: inline-block;\n              border: 2px solid transparent;\n            }\n            \n            .resizable-image:hover {\n              border: 2px solid #3b82f6;\n            }\n            \n            /* Style pour image s\xe9lectionn\xe9e - SOLUTION RADICALE */\n            .image-selected {\n              position: relative;\n            }\n            \n            .image-selected::after {\n              content: '';\n              position: absolute;\n              top: -4px;\n              left: -4px;\n              right: -4px;\n              bottom: -4px;\n              border: 4px solid #1d4ed8;\n              box-shadow: 0 0 0 3px rgba(29, 78, 216, 0.3), 0 0 12px rgba(29, 78, 216, 0.4);\n              background: rgba(29, 78, 216, 0.05);\n              outline: 2px solid #ffffff;\n              outline-offset: 2px;\n              pointer-events: none;\n              z-index: 1;\n            }\n            \n            .resizable-image img {\n              width: 100%;\n              height: 100%;\n              display: block;\n              position: relative;\n              z-index: 0;\n            }\n            \n            .resizable-image .resize-handle {\n              position: absolute;\n              width: 10px;\n              height: 10px;\n              background: #3b82f6;\n              border: 2px solid white;\n              border-radius: 50%;\n              opacity: 0;\n              cursor: nw-resize;\n              transition: opacity 0.2s;\n            }\n            \n            .resizable-image:hover .resize-handle,\n            .image-selected .resize-handle {\n              opacity: 1;\n            }\n            \n            .resize-handle.nw { top: -2px; left: -2px; cursor: nw-resize; }\n            .resize-handle.ne { top: -2px; right: -2px; cursor: ne-resize; }\n            .resize-handle.sw { bottom: -2px; left: -2px; cursor: sw-resize; }\n            .resize-handle.se { bottom: -2px; right: -2px; cursor: se-resize; }\n          "}),(0,Et.jsx)("div",{className:"editor-content",ref:e=>{v.current=e},contentEditable:"true",suppressContentEditableWarning:!0,spellCheck:!1,onInput:e=>{console.log("\ud83c\udfaf WYSIWYG onInput d\xe9clench\xe9!"),I(e)},onKeyUp:e=>{console.log("\u2328\ufe0f WYSIWYG onKeyUp d\xe9clench\xe9! Touche:",e.key),I(e)},onPaste:e=>{console.log("\ud83d\udccb WYSIWYG onPaste d\xe9clench\xe9!"),setTimeout(()=>I(e),10)},onMouseUp:e=>{console.log("\ud83d\uddb1\ufe0f WYSIWYG onMouseUp - S\xe9lection chang\xe9e - ignoreFlag:",null===d||void 0===d?void 0:d.current),!h||null!==d&&void 0!==d&&d.current?console.log("\u274c EDITOR onMouseUp - onSelectionChange BLOQU\xc9"):(console.log("\u2705 EDITOR onMouseUp - VA APPELER onSelectionChange dans 10ms"),setTimeout(h,10))},onKeyDown:e=>{if(e&&e.key){if(console.log("\ud83d\udd3d WYSIWYG onKeyDown d\xe9clench\xe9! Touche:",e.key),f){if("Delete"===e.key||"Backspace"===e.key){e.preventDefault();if((f.closest(".resizable-image")||f).remove(),p&&p(null),l){const e=new Event("input",{bubbles:!0});v.current.dispatchEvent(e)}return}if("Enter"===e.key){e.preventDefault();const t=f.closest(".resizable-image");if(t&&t.parentNode){const e=document.createElement("p");if(e.innerHTML="<br>",t.parentNode.insertBefore(e,t.nextSibling),console.log("\ud83d\udccd ENTER Image - Cr\xe9ation du paragraphe:",e),setTimeout(()=>{var t;console.log("\ud83d\udccd ENTER Image - Positionnement curseur APR\xc8S stabilisation");const n=window.getSelection(),r=document.createRange();console.log("\ud83d\udccd ENTER Image - Selection avant (delayed):",n.rangeCount),r.setStart(e,0),r.collapse(!0),console.log("\ud83d\udccd ENTER Image - Range (delayed) startContainer:",r.startContainer),console.log("\ud83d\udccd ENTER Image - Range (delayed) startOffset:",r.startOffset),n.removeAllRanges(),n.addRange(r),console.log("\ud83d\udccd ENTER Image - Selection (delayed) apr\xe8s:",n.rangeCount),null===(t=v.current)||void 0===t||t.focus(),console.log("\ud83d\udccd ENTER Image - Positionnement termin\xe9 avec succ\xe8s!")},100),l){const e=new Event("input",{bubbles:!0});v.current.dispatchEvent(e)}p&&p(null)}return}}e&&e.key&&("ArrowUp"===e.key||"ArrowDown"===e.key||"ArrowLeft"===e.key||"ArrowRight"===e.key)&&setTimeout(()=>{console.log("\ud83d\udd3c EDITOR onKeyDown Navigation - ignoreFlag:",null===d||void 0===d?void 0:d.current),!h||null!==d&&void 0!==d&&d.current?console.log("\u274c EDITOR Navigation - onSelectionChange BLOQU\xc9"):(console.log("\u2705 EDITOR Navigation - VA APPELER onSelectionChange"),h())},10)}else console.warn("\u26a0\ufe0f \xc9v\xe9nement onKeyDown invalide:",e)},onFocus:e=>{console.log("\ud83d\udd0d WYSIWYG onFocus - Mise \xe0 jour formatage - ignoreFlag:",null===d||void 0===d?void 0:d.current),!h||null!==d&&void 0!==d&&d.current?console.log("\u274c EDITOR onFocus - onSelectionChange BLOQU\xc9"):(console.log("\u2705 EDITOR onFocus - VA APPELER onSelectionChange dans 10ms"),setTimeout(h,10))},onChange:e=>{console.log("\ud83d\udd04 onChange d\xe9clench\xe9!")},onClick:g,style:{minHeight:"384px",outline:"none",padding:"20px",lineHeight:"var(--dys-line-height)",fontFamily:"var(--dys-font-family)",fontSize:"var(--dys-font-size)",color:"var(--dys-text-color)",backgroundColor:"var(--dys-bg-color)",overflow:"auto",wordWrap:"break-word",whiteSpace:"pre-wrap",border:"2px solid #cbd5e1",borderRadius:"8px",boxShadow:"inset 0 2px 4px 0 rgba(0, 0, 0, 0.06)"}})]},"wysiwyg");case"markdown":{console.log("\ud83d\udcdd SWITCH - Vue MARKDOWN");const e=n;return(0,Et.jsx)("div",{className:"relative",children:(0,Et.jsx)("textarea",{ref:e=>{v&&(v.current=e)},value:e,onChange:e=>{const t=e.target.value;t!==n&&l(u(u({},e),{},{target:u(u({},e.target),{},{value:t})}))},spellCheck:!1,className:"editor-content p-2 w-full h-full border-2 border-slate-300 rounded-lg shadow-inner focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",style:{fontFamily:"var(--dys-font-family)",fontSize:"var(--dys-font-size)",lineHeight:"var(--dys-line-height)",color:"var(--dys-text-color)",backgroundColor:"var(--dys-bg-color)",overflow:"auto",wordWrap:"break-word",whiteSpace:"pre-wrap",paddingBottom:"2rem"},placeholder:"\xc9crivez en Markdown...\r # Titre 1\r\n## Titre 2\r\n### Titre 3\r **Gras** *Italique*\r - Liste \xe0 puces\r\n1. Liste num\xe9rot\xe9e\r\na. Liste alphab\xe9tique\r $E = mc^2$ (formule inline)\r\n$$\\\\int_{-\\\\infty}^{\\\\infty} e^{-x^2} dx = \\\\sqrt{\\\\pi}$$ (formule block)"})},"markdown")}case"html":{console.log("\ud83d\udd27 SWITCH - Vue HTML");const e=N(n);return(0,Et.jsx)("div",{className:"relative",children:(0,Et.jsx)("textarea",{ref:e=>{v&&(v.current=e)},value:e,onChange:e=>{const t=e.target.value;t!==N(n)&&l(u(u({},e),{},{target:u(u({},e.target),{},{value:t})}))},className:"editor-content p-2 w-full h-full border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",style:{fontFamily:'Monaco, "Cascadia Code", "Roboto Mono", monospace',overflow:"auto",wordWrap:"break-word",whiteSpace:"pre-wrap",border:"2px solid #cbd5e1",borderRadius:"8px",boxShadow:"inset 0 2px 4px 0 rgba(0, 0, 0, 0.06)",paddingBottom:"2rem"},placeholder:"Code source HTML..."})},"html")}default:return console.log("\u274c SWITCH - AUCUNE VUE CORRESPONDANTE, viewMode:",a),null}}),Lt=Tt,At=e=>{let{currentFormat:t,content:n,dysSettings:r,isTtsSupported:o,isSpeaking:a,isPaused:l,handleSpeak:i,handleStopSpeak:s}=e;return(0,Et.jsx)("div",{className:"px-4 py-2",style:{backgroundColor:"var(--dys-bg-color)"},children:(0,Et.jsxs)("div",{className:"flex items-center text-sm",style:{color:"var(--dys-text-color)"},children:[(0,Et.jsxs)("div",{className:"flex space-x-6",children:[(0,Et.jsxs)("span",{children:["\u270f\ufe0f ",(0,Et.jsx)("span",{className:"font-medium",children:(()=>{if(!r)return"Standard";const e={Verdana:"Verdana",Arial:"Arial","Comic Sans MS":"Comic Sans",Lexend:"Lexend",OpenDyslexic:"OpenDyslexic"}[r.fontFamily]||r.fontFamily;return"".concat(e," \u2022 ").concat(r.fontSize,"px")})()})]}),(0,Et.jsxs)("span",{children:["Format: ",(0,Et.jsx)("span",{className:"font-medium",children:(()=>{const e=[];if(t.heading){const n={h1:"Titre 3",h2:"Titre 2",h3:"Titre 1"};e.push(n[t.heading]||t.heading.toUpperCase())}if(t.list){const n={bullet:"Liste \xe0 puces",number:"Liste num\xe9rot\xe9e",letter:"Liste alphab\xe9tique"};e.push(n[t.list]||"Liste")}return t.heading||t.list||e.push("Texte"),t.bold&&e.push("Gras"),t.italic&&e.push("Italique"),e.join(", ")})()}),(0,Et.jsx)("span",{className:"inline-block rounded ml-2",style:{backgroundColor:t.color||"#000000",width:"12px",height:"12px",minWidth:"12px",minHeight:"12px",border:"1px solid #ccc"}})]})]}),o&&(0,Et.jsxs)("div",{className:"flex items-center space-x-2",style:{marginLeft:"auto",paddingLeft:"48px"},children:[(0,Et.jsx)("span",{style:{fontSize:"14px"},children:"Lecture vocale :"}),(0,Et.jsx)("button",{onClick:i,className:"px-2 py-1 rounded transition-colors",style:{fontSize:"16.8px",backgroundColor:a||l?"#3b82f6":"#e5e7eb",color:a||l?"#ffffff":"#374151"},title:a?l?"Reprendre la lecture":"Mettre en pause":"Lire le texte s\xe9lectionn\xe9",children:a&&!l?"\u23f8\ufe0f":"\ud83d\udd0a"}),(a||l)&&(0,Et.jsx)("button",{onClick:s,className:"px-2 py-1 rounded transition-colors",style:{fontSize:"16.8px",backgroundColor:"#e5e7eb",color:"#374151"},title:"Arr\xeater la lecture",children:"\u23f9\ufe0f"})]})]})})},jt=e=>{let{settings:t,backgroundOptions:n,textOptions:r,fontOptions:o,presetThemes:a,isSettingsOpen:l,updateSetting:i,resetToDefaults:s,applyPresetTheme:c,toggleSettings:d}=e;const{voices:f}=vt();if(!l)return null;const p={floatingPanel:{position:"fixed",top:"20px",right:"20px",width:"400px",minWidth:"350px",maxWidth:"600px",minHeight:"100px",maxHeight:"80vh",resize:"both",overflow:"auto",zIndex:1e3,cursor:"default"},modal:{backgroundColor:"white",padding:"6px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)",height:"100%",width:"100%",overflowY:"auto",border:"2px solid #e5e7eb",fontSize:"14px",lineHeight:"1.5"},dragHandle:{backgroundColor:"#f3f4f6",padding:"3px",borderRadius:"8px 8px 0 0",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px",fontWeight:"600",color:"#374151"},panel:{backgroundColor:"white",borderRadius:"8px",padding:"6px",maxWidth:"500px",width:"90%",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px",borderBottom:"1px solid #e5e7eb",paddingBottom:"2px"},title:{fontSize:"18px",fontWeight:"600",color:"#1f2937",margin:0},closeButton:{backgroundColor:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",padding:"3px 6px",display:"flex",alignItems:"center",gap:"3px",transition:"all 0.2s ease",position:"relative",fontSize:"12px",fontWeight:"500",color:"#374151"},section:{marginBottom:"4px"},sectionTitle:{fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"2px"},optionGroup:{display:"flex",gap:"3px",flexWrap:"wrap"},colorButton:{width:"25px",height:"25px",borderRadius:"5px",border:"2px solid transparent",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"9px",fontWeight:"500"},activeColorButton:{borderColor:"#3b82f6",boxShadow:"0 0 0 2px rgba(59, 130, 246, 0.2)"},select:{width:"100%",padding:"3px 6px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",backgroundColor:"white"},sliderContainer:{display:"flex",alignItems:"center",gap:"6px"},slider:{flex:1,height:"3px",borderRadius:"1.5px",background:"#e5e7eb",outline:"none",cursor:"pointer"},sliderValue:{fontSize:"11px",fontWeight:"500",color:"#374151",minWidth:"25px",textAlign:"center"},presetButton:{padding:"6px 10px",borderRadius:"6px",border:"2px solid transparent",cursor:"pointer",fontSize:"9px",fontWeight:"600",textAlign:"center",minWidth:"70px",transition:"all 0.2s ease"},activePresetButton:{borderColor:"#3b82f6",boxShadow:"0 0 0 2px rgba(59, 130, 246, 0.2)"},presetGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"3px"}};return(0,Et.jsx)("div",{style:p.floatingPanel,children:(0,Et.jsxs)("div",{style:p.modal,children:[(0,Et.jsxs)("div",{style:p.dragHandle,children:[(0,Et.jsx)("span",{children:"\u2699\ufe0f Param\xe8tres du th\xe8me"}),(0,Et.jsx)("button",{onClick:d,style:p.closeButton,title:"Fermer les param\xe8tres du th\xe8me",children:"\u274c Fermer"})]}),(0,Et.jsxs)("div",{style:p.section,children:[(0,Et.jsx)("div",{style:p.sectionTitle,children:"Th\xe8mes pr\xe9d\xe9finis"}),(0,Et.jsx)("div",{style:p.presetGrid,children:a.map(e=>{const n=t.backgroundColor===e.backgroundColor&&t.textColor===e.textColor;return(0,Et.jsx)("button",{style:u(u({},p.presetButton),{},{backgroundColor:e.backgroundColor,color:e.textColor,border:"2px solid ".concat(e.textColor)},n?p.activePresetButton:{}),onClick:()=>c(e),title:"Appliquer le th\xe8me ".concat(e.name),children:e.name},e.name)})})]}),(0,Et.jsxs)("div",{style:p.section,children:[(0,Et.jsx)("div",{style:p.sectionTitle,children:"Couleur d'arri\xe8re-plan"}),(0,Et.jsx)("div",{style:p.optionGroup,children:n.map(e=>(0,Et.jsx)("button",{style:u(u({},p.colorButton),{},{backgroundColor:e.value,color:"#fafafa"===e.value?"#374151":"#1f2937"},t.backgroundColor===e.value?p.activeColorButton:{}),onClick:()=>i("backgroundColor",e.value),title:e.name,children:e.name.charAt(0)},e.value))})]}),(0,Et.jsxs)("div",{style:p.section,children:[(0,Et.jsx)("div",{style:p.sectionTitle,children:"Couleur du texte"}),(0,Et.jsx)("div",{style:p.optionGroup,children:r.map(e=>(0,Et.jsx)("button",{style:u(u({},p.colorButton),{},{backgroundColor:e.value,color:"white"},t.textColor===e.value?p.activeColorButton:{}),onClick:()=>i("textColor",e.value),title:e.name,children:"Aa"},e.value))})]}),(0,Et.jsxs)("div",{style:p.section,children:[(0,Et.jsx)("div",{style:p.sectionTitle,children:"Police de caract\xe8res"}),(0,Et.jsx)("select",{style:p.select,value:t.fontFamily,onChange:e=>i("fontFamily",e.target.value),children:o.map(e=>(0,Et.jsx)("option",{value:e.value,children:e.name},e.value))})]}),(0,Et.jsxs)("div",{style:p.section,children:[(0,Et.jsx)("div",{style:p.sectionTitle,children:"Taille de police"}),(0,Et.jsxs)("div",{style:p.sliderContainer,children:[(0,Et.jsx)("input",{type:"range",min:"12",max:"24",step:"1",value:t.fontSize,onChange:e=>i("fontSize",parseInt(e.target.value)),style:p.slider}),(0,Et.jsxs)("div",{style:p.sliderValue,children:[t.fontSize,"px"]})]})]}),(0,Et.jsxs)("div",{style:p.section,children:[(0,Et.jsx)("div",{style:p.sectionTitle,children:"Espacement des lignes"}),(0,Et.jsxs)("div",{style:p.sliderContainer,children:[(0,Et.jsx)("input",{type:"range",min:"1.2",max:"2.0",step:"0.1",value:t.lineHeight,onChange:e=>i("lineHeight",parseFloat(e.target.value)),style:p.slider}),(0,Et.jsx)("div",{style:p.sliderValue,children:t.lineHeight.toFixed(1)})]})]}),(0,Et.jsxs)("div",{style:p.section,children:[(0,Et.jsx)("div",{style:p.sectionTitle,children:"Espacement entre les mots"}),(0,Et.jsxs)("div",{style:p.sliderContainer,children:[(0,Et.jsx)("input",{type:"range",min:"0",max:"10",step:"0.5",value:t.wordSpacing,onChange:e=>i("wordSpacing",parseFloat(e.target.value)),style:p.slider}),(0,Et.jsxs)("div",{style:p.sliderValue,children:[t.wordSpacing,"px"]})]})]}),(0,Et.jsxs)("div",{style:p.section,children:[(0,Et.jsx)("div",{style:u(u({},p.sectionTitle),{},{marginTop:"8px",borderTop:"1px solid #e5e7eb",paddingTop:"4px"}),children:"\ud83d\udde3\ufe0f Lecture Vocale"}),(0,Et.jsxs)("div",{style:{marginBottom:"4px"},children:[(0,Et.jsx)("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"2px"},children:"Voix"}),(0,Et.jsxs)("select",{style:p.select,value:t.voiceName||"",onChange:e=>i("voiceName",e.target.value),children:[(0,Et.jsx)("option",{value:"",children:"Par d\xe9faut (Automatique)"}),f.filter(e=>e.lang.startsWith("fr")||e.lang.startsWith("en")).map(e=>(0,Et.jsxs)("option",{value:e.name,children:[e.name," (",e.lang,")"]},e.name))]})]}),(0,Et.jsxs)("div",{style:{marginBottom:"4px"},children:[(0,Et.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"#6b7280"},children:[(0,Et.jsx)("span",{children:"Vitesse"}),(0,Et.jsxs)("span",{children:["x",t.voiceRate]})]}),(0,Et.jsx)("input",{type:"range",min:"0.5",max:"4",step:"0.1",value:t.voiceRate,onChange:e=>i("voiceRate",parseFloat(e.target.value)),style:u(u({},p.slider),{},{width:"100%"})})]}),(0,Et.jsxs)("div",{children:[(0,Et.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"#6b7280"},children:[(0,Et.jsx)("span",{children:"Tonalit\xe9"}),(0,Et.jsx)("span",{children:t.voicePitch})]}),(0,Et.jsx)("input",{type:"range",min:"0.1",max:"2",step:"0.1",value:t.voicePitch,onChange:e=>i("voicePitch",parseFloat(e.target.value)),style:u(u({},p.slider),{},{width:"100%"})})]})]})]})})};const Ot=function(e){let{isOpen:t,onClose:n,config:r,onConfigChange:o}=e;return t?(0,Et.jsx)("div",{className:"settings-modal-backdrop",onClick:e=>{e.target.classList.contains("settings-modal-backdrop")&&n()},children:(0,Et.jsxs)("div",{className:"settings-modal",children:[(0,Et.jsxs)("div",{className:"settings-modal-header",children:[(0,Et.jsx)("h2",{children:"\u2699\ufe0f Configuration"}),(0,Et.jsx)("button",{className:"settings-close-btn",onClick:n,"aria-label":"Fermer",children:"\u2715"})]}),(0,Et.jsx)("div",{className:"settings-modal-body",children:(0,Et.jsxs)("div",{className:"settings-item",children:[(0,Et.jsxs)("div",{className:"settings-item-info",children:[(0,Et.jsx)("label",{htmlFor:"developer-mode-toggle",className:"settings-label",children:"\ud83d\udc1b Mode D\xe9veloppeur"}),(0,Et.jsx)("p",{className:"settings-description",children:"Active les fonctionnalit\xe9s de d\xe9bogage et logs d\xe9taill\xe9s dans la console"})]}),(0,Et.jsx)("div",{className:"settings-item-control",children:(0,Et.jsxs)("label",{className:"toggle-switch",children:[(0,Et.jsx)("input",{id:"developer-mode-toggle",type:"checkbox",checked:r.developer_mode||!1,onChange:()=>{const e=!r.developer_mode;console.log("[SettingsModal] \ud83d\udd04 Toggle mode d\xe9veloppeur:",e),o("developer_mode",e)}}),(0,Et.jsx)("span",{className:"toggle-slider"})]})})]})})]})}):null},_t=()=>{const{content:e,setContent:t,viewMode:o,changeViewMode:a,isWysiwyg:l,currentFormat:i,setCurrentFormat:s,editorRef:p,handleInput:g,updateCurrentFormat:m,ignoreSelectionChangeRef:h,selectedImage:y,setSelectedImage:v,handleImageClick:b,handleEditorClick:w,restoreSelection:x,saveSelection:S}=(()=>{const[e,t]=(0,r.useState)((()=>{console.log("\ud83d\udd0d [useEditor] V\xe9rification sauvegarde refresh...");try{const t=localStorage.getItem("editor-refresh-backup");if(console.log("\ud83d\udce6 [useEditor] Donn\xe9es refresh trouv\xe9es:",t?"OUI":"NON"),t){var e;const n=JSON.parse(t),r=Date.now()-n.timestamp;if(console.log("\u23f1\ufe0f [useEditor] Temps \xe9coul\xe9 depuis sauvegarde:",r,"ms"),console.log("\ud83d\udcc4 [useEditor] Contenu sauvegard\xe9:",(null===(e=n.content)||void 0===e?void 0:e.substring(0,100))+"..."),n.content)return console.log("\u2705 [useEditor] Restauration du contenu sauvegard\xe9!"),n.content;console.log("\u274c [useEditor] Pas de contenu sauvegard\xe9")}}catch(t){console.error("\u274c [useEditor] Erreur lors de la restauration du contenu:",t)}return console.log("\ud83d\udcdd [useEditor] Utilisation du contenu par d\xe9faut"),"<p>Bienvenue dans votre \xe9diteur WYSIWYG</p><p>Commencez \xe0 \xe9crire votre <strong>document</strong> ici.</p><p>Le contenu est automatiquement sauvegard\xe9.</p>"})()),[n,o]=(0,r.useState)(()=>{console.log("\ud83d\udd0d [useEditor] V\xe9rification mode view pour refresh...");try{const e=localStorage.getItem("editor-refresh-backup");if(e){const t=JSON.parse(e),n=Date.now()-t.timestamp;if(console.log("\u23f1\ufe0f [useEditor] Mode - Temps \xe9coul\xe9:",n,"ms"),console.log("\ud83d\udc41\ufe0f [useEditor] Mode sauvegard\xe9:",t.viewMode),t.viewMode)return console.log("\u2705 [useEditor] Restauration du mode:",t.viewMode),setTimeout(()=>{console.log("\ud83d\uddd1\ufe0f [useEditor] Nettoyage de la sauvegarde refresh"),localStorage.removeItem("editor-refresh-backup")},1e3),t.viewMode}}catch(e){console.error("\u274c [useEditor] Erreur lors de la restauration du mode:",e)}return console.log("\ud83d\udcdd [useEditor] Utilisation du mode par d\xe9faut: wysiwyg"),"wysiwyg"}),[a,l]=(0,r.useState)(()=>({bold:!1,italic:!1,underline:!1,color:"#000000",fontSize:"16px",fontFamily:localStorage.getItem("editor-font")||"system-ui, -apple-system, sans-serif",heading:null,list:null})),[i,s]=(0,r.useState)(null),f=(0,r.useRef)(null),p=(0,r.useRef)(null),g=(0,r.useRef)(null),m=(0,r.useRef)(!1),h=(0,r.useCallback)(()=>{if(window.getSelection&&p.current){const e=window.getSelection();e.rangeCount>0&&(g.current=e.getRangeAt(0).cloneRange())}},[]),y=(0,r.useCallback)(()=>{if(g.current&&p.current){const e=window.getSelection();e.removeAllRanges(),e.addRange(g.current),p.current.focus()}},[]),v=(0,r.useCallback)(()=>{if(!p.current)return;const e=window.getSelection();if(!e.rangeCount)return;let t=e.getRangeAt(0).startContainer;if(t.nodeType===Node.TEXT_NODE&&(t=t.parentElement),(!t||t===p.current)&&f.current)return void l(f.current);if(f.current&&null===f.current.heading&&!1===f.current.bold&&!1===f.current.italic)return void l(f.current);let n=t;const r={bold:!1,italic:!1,underline:!1,color:"#000000",fontSize:"16px",fontFamily:"system-ui",heading:null,list:null};for(;n&&n!==p.current;){var o,a,i;const e=window.getComputedStyle(n),t=null===(o=n.tagName)||void 0===o?void 0:o.toLowerCase();if(("strong"===t||"b"===t||"bold"===e.fontWeight||parseInt(e.fontWeight)>=700)&&(r.bold=!0),"em"!==t&&"i"!==t&&"italic"!==e.fontStyle||(r.italic=!0),("u"===t||e.textDecoration.includes("underline"))&&(r.underline=!0),null!==t&&void 0!==t&&t.match(/^h[1-6]$/)&&(r.heading=t),"li"===t){let e=n.parentElement;for(;e&&!["ul","ol"].includes(null===(s=e.tagName)||void 0===s?void 0:s.toLowerCase());){var s;e=e.parentElement}if(e){const t=e.tagName.toLowerCase(),n=e.style.listStyleType;"ul"===t?r.list="lower-alpha"===n?"letter":"bullet":"ol"===t&&(r.list="lower-alpha"===n?"letter":"number")}}if("ul"===t){const e=n.style.listStyleType;r.list="lower-alpha"===e?"letter":"bullet"}if("ol"===t){const e=n.style.listStyleType;r.list="lower-alpha"===e?"letter":"number"}null!==(a=n.style)&&void 0!==a&&a.color?r.color=n.style.color:e.color&&"rgb(0, 0, 0)"!==e.color&&(r.color=e.color),null!==(i=n.style)&&void 0!==i&&i.fontSize&&(r.fontSize=n.style.fontSize),n=n.parentElement}r.color.startsWith("rgb")&&(r.color=b(r.color)),l(r)},[]),b=e=>{const t=e.match(/\d+/g);if(!t||t.length<3)return"#000000";const n=parseInt(t[0]),r=parseInt(t[1]),o=parseInt(t[2]);return"#".concat(((1<<24)+(n<<16)+(r<<8)+o).toString(16).slice(1))},w=(0,r.useCallback)(e=>{t("wysiwyg"===n?e.target.innerHTML:e.target.value)},[n]),x=(0,r.useCallback)(()=>{console.log("\ud83c\udfaf HANDLESELECTIONCHANGE appel\xe9 - ignoreFlag:",m.current),m.current?console.log("\u274c selectionchange IGNORED - flag active"):"wysiwyg"===n&&document.activeElement===p.current?(console.log("\u2705 selectionchange PROCESSING - va appeler updateCurrentFormat"),v(),h(),console.log("\ud83d\udd04 updateCurrentFormat et saveSelection appel\xe9s")):console.log("\u26a0\ufe0f selectionchange SKIP - viewMode:",n,"activeElement:",document.activeElement===p.current)},[n,v,h]),S=(0,r.useCallback)(r=>{if(r===n)return;let a=e;"wysiwyg"===n&&"markdown"===r?a=c(e):"markdown"===n&&"wysiwyg"===r?a=d(e):"html"===n&&"markdown"===r?a=c(e):"markdown"===n&&"html"===r&&(a=d(e)),"wysiwyg"===n&&"html"===r&&(a=e.replace(/ data-type="[^"]*"/g,"").replace(/ data-number="[^"]*"/g,"").replace(/ data-letter="[^"]*"/g,"")),t(a),o(r)},[n,e]);(0,r.useEffect)(()=>(document.addEventListener("selectionchange",x),()=>{document.removeEventListener("selectionchange",x)}),[x]),(0,r.useEffect)(()=>{a.fontFamily&&localStorage.setItem("editor-font",a.fontFamily)},[a.fontFamily]);const k=(0,r.useCallback)(e=>{f.current=u({},e)},[]),C=(0,r.useCallback)(e=>{"wysiwyg"===n&&(s(e),window.getSelection().removeAllRanges())},[n]),E=(0,r.useCallback)(e=>{"wysiwyg"===n&&i&&(e.target===i||i.contains(e.target)||s(null))},[n,i]);return{content:e,setContent:t,viewMode:n,setViewMode:o,changeViewMode:S,isWysiwyg:"wysiwyg"===n,setIsWysiwyg:e=>S(e?"wysiwyg":"html"),currentFormat:a,setCurrentFormat:l,editorRef:p,handleInput:w,saveSelection:h,restoreSelection:y,updateCurrentFormat:v,saveAppliedFormat:k,ignoreSelectionChangeRef:m,selectedImage:i,setSelectedImage:s,handleImageClick:C,handleEditorClick:E}})(),k=(0,r.useRef)(new Map),C=(0,r.useCallback)((e,t)=>{console.log("\ud83d\udcbe [App] Stockage blob pour URL:",e,"File:",null===t||void 0===t?void 0:t.name,"Size:",null===t||void 0===t?void 0:t.size),k.current.set(e,t),console.log("\ud83d\udcca [App] Total blobs stock\xe9s:",k.current.size)},[]),E=(0,r.useCallback)(e=>k.current.get(e),[]),N=(0,r.useCallback)(()=>k.current,[]);(0,r.useEffect)(()=>{const t=()=>{const t={content:e,viewMode:o,timestamp:Date.now()};console.log("\ud83d\udcbe [App.js] Sauvegarde pour refresh:",{contentLength:null===e||void 0===e?void 0:e.length,viewMode:o,timestamp:(new Date).toISOString()}),localStorage.setItem("editor-refresh-backup",JSON.stringify(t))};e&&(console.log("\ud83d\udcdd [App.js] Contenu modifi\xe9, sauvegarde..."),t());const n=()=>{console.log("\ud83d\udeaa [App.js] beforeunload - Sauvegarde finale avant refresh"),t()};return window.addEventListener("beforeunload",n),()=>{window.removeEventListener("beforeunload",n)}},[e,o]);const{settings:I,backgroundOptions:T,textOptions:L,fontOptions:A,presetThemes:j,isSettingsOpen:O,updateSetting:_,resetToDefaults:M,applyPresetTheme:P,toggleSettings:z}=(()=>{const e={backgroundColor:"#fffef7",textColor:"#1e3a8a",fontFamily:"Verdana",fontSize:14,fontSize:14,lineHeight:1.5,wordSpacing:0,voiceName:null,voiceRate:1,voicePitch:1},[t,n]=(0,r.useState)(()=>{const t=localStorage.getItem("dysThemeSettings");return t?JSON.parse(t):e}),[o,a]=(0,r.useState)(!1);(0,r.useEffect)(()=>{localStorage.setItem("dysThemeSettings",JSON.stringify(t)),l()},[t]);const l=()=>{const e=document.documentElement;e.style.setProperty("--dys-bg-color",t.backgroundColor),e.style.setProperty("--dys-text-color",t.textColor),e.style.setProperty("--dys-font-size","".concat(t.fontSize,"px")),e.style.setProperty("--dys-line-height",t.lineHeight.toString()),e.style.setProperty("--dys-word-spacing","".concat(t.wordSpacing,"px"));let n="";n="system"===t.fontFamily?"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif":"OpenDyslexic"===t.fontFamily||"Lexend"===t.fontFamily?"'".concat(t.fontFamily,"', Arial, Verdana, sans-serif"):"'".concat(t.fontFamily,"', Arial, sans-serif"),e.style.setProperty("--dys-font-family",n)};return{settings:t,backgroundOptions:[{name:"Ivoire",value:"#fffef7"},{name:"Bleu p\xe2le",value:"#f0f7ff"},{name:"Vert menthe",value:"#f0fdf4"},{name:"P\xeache",value:"#fefbf3"},{name:"Gris tr\xe8s p\xe2le",value:"#fafafa"}],textOptions:[{name:"Bleu marine",value:"#1e3a8a"},{name:"Gris fonc\xe9",value:"#374151"},{name:"Brun fonc\xe9",value:"#92400e"}],fontOptions:[{name:"Standard (Syst\xe8me)",value:"system"},{name:"Arial",value:"Arial"},{name:"Verdana",value:"Verdana"},{name:"Tahoma",value:"Tahoma"},{name:"Calibri",value:"Calibri"},{name:"Helvetica",value:"Helvetica"},{name:"OpenDyslexic",value:"OpenDyslexic"},{name:"Lexend",value:"Lexend"}],presetThemes:[{name:"\ud83c\udf19 Dark Pro",backgroundColor:"#2d3748",textColor:"#f7fafc"},{name:"\ud83c\udf0c Dark Blue",backgroundColor:"#1a365d",textColor:"#e2e8f0"},{name:"\ud83c\udf6b Dark Warm",backgroundColor:"#3c2415",textColor:"#faf5f0"},{name:"\u2600\ufe0f Clear Classic",backgroundColor:"#ffffff",textColor:"#2d3748"},{name:"\ud83c\udf38 Clear Soft",backgroundColor:"#f8f4f0",textColor:"#5a4037"},{name:"\ud83d\udc8e Clear Blue",backgroundColor:"#f0f8ff",textColor:"#1e3a8a"}],isSettingsOpen:o,updateSetting:(e,t)=>{n(n=>u(u({},n),{},{[e]:t}))},resetToDefaults:()=>{n(e)},applyPresetTheme:e=>{n(t=>u(u({},t),{},{backgroundColor:e.backgroundColor,textColor:e.textColor}))},toggleSettings:()=>{a(!o)}}})(),{config:R,setConfigValue:D,isLoading:F}=function(){const[e,t]=(0,r.useState)(yt.getAll()),[n,o]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{console.log("[useConfig] \ud83d\udd04 Initialisation de la configuration..."),await yt.loadConfig(),t(yt.getAll()),o(!1),console.log("[useConfig] \u2705 Configuration initialis\xe9e")})();const e=e=>{console.log("[useConfig] \ud83d\udd14 Configuration mise \xe0 jour:",e),t(u({},e))};return yt.addListener(e),()=>{yt.removeListener(e)}},[]),{config:e,setConfigValue:(e,t)=>{console.log("[useConfig] \ud83d\udd27 Mise \xe0 jour de ".concat(e," = ").concat(t)),yt.set(e,t)},resetConfig:()=>{console.log("[useConfig] \ud83d\udd04 R\xe9initialisation de la configuration"),yt.reset()},isLoading:n}}(),[U,B]=(0,r.useState)(!1),{isSupported:H,isSpeaking:V,isPaused:W,speak:$,pause:q,resume:Q,cancel:Y}=vt({voiceName:I.voiceName,rate:I.voiceRate,pitch:I.voicePitch}),K=(0,r.useCallback)(()=>{if(W)return void Q();if(V)return void q();const e=window.getSelection().toString().trim();e&&$(e)},[W,V,Q,q,$]),G=(0,r.useCallback)(()=>{Y()},[Y]);return(0,r.useEffect)(()=>{!F&&R.developer_mode&&(console.log("\ud83d\udc1b [App] Mode d\xe9veloppeur activ\xe9"),console.log("\ud83d\udccb [App] Configuration compl\xe8te:",R))},[R,F]),(0,r.useEffect)(()=>{F||R.developer_mode||"markdown"!==o&&"html"!==o||(console.log("\u26a0\ufe0f [App] Mode d\xe9veloppeur d\xe9sactiv\xe9 - Retour au mode WYSIWYG"),a("wysiwyg"))},[R.developer_mode,F,o,a]),(0,r.useEffect)(()=>{n.e(946).then(n.t.bind(n,946,23)).then(()=>{window.MathJax&&window.MathJax.typesetPromise&&window.MathJax.typesetPromise()}).catch(e=>{console.warn("MathJax local non disponible, formules affich\xe9es en texte brut:",e)})},[]),f(e,t,o),(0,Et.jsxs)("div",{className:"h-screen w-full relative transition-colors duration-200",style:{backgroundColor:"var(--dys-bg-color)"},children:[(0,Et.jsx)("div",{className:"editor-container",children:(0,Et.jsx)("div",{className:"editor-scroll",children:(0,Et.jsx)(Lt,{viewMode:o,content:e,editorRef:p,onInput:g,onSelectionChange:m,currentFormat:i,selectedImage:y,onImageClick:b,onEditorClick:w,onDeleteSelectedImage:null,ignoreSelectionChangeRef:h,storeBlobForUrl:C})})}),(0,Et.jsx)("div",{className:"fixed bottom-8 left-0 right-0 px-5 py-2 z-10",style:{backgroundColor:"var(--dys-bg-color)"},children:(0,Et.jsx)(Nt,{content:e,setContent:t,viewMode:o,onViewModeChange:a,currentFormat:i,onFormatChange:s,editorRef:p,onThemeSettingsToggle:z,onConfigModalToggle:()=>B(!0),developerMode:R.developer_mode,ignoreSelectionChangeRef:h,selectedImage:y,restoreSelection:x,saveSelection:S,storeBlobForUrl:C,getBlobFromUrl:E,getAllBlobs:N})}),(0,Et.jsx)("div",{className:"fixed bottom-0 left-0 right-0 px-5 py-0 z-10",style:{backgroundColor:"var(--dys-bg-color)"},children:(0,Et.jsx)(At,{currentFormat:i,content:e,dysSettings:I,isTtsSupported:H,isSpeaking:V,isPaused:W,handleSpeak:K,handleStopSpeak:G})}),(0,Et.jsx)(jt,{settings:I,isSettingsOpen:O,toggleSettings:z,backgroundOptions:T,textOptions:L,fontOptions:A,presetThemes:j,updateSetting:_,resetToDefaults:M,applyPresetTheme:P}),(0,Et.jsx)(Ot,{isOpen:U,onClose:()=>B(!1),config:R,onConfigChange:D})]})};o.createRoot(document.getElementById("root")).render((0,Et.jsx)(r.StrictMode,{children:(0,Et.jsx)(_t,{})}))})();
//# sourceMappingURL=main.830a640d.js.map